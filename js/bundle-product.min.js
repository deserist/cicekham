function convertToEn(e){return e=e.replace(new RegExp("İ","g"),"i"),e=e.replace(new RegExp("ü","g"),"u"),e=e.replace(new RegExp("ö","g"),"o"),e=e.replace(new RegExp("ç","g"),"c"),e=e.replace(new RegExp("ğ","g"),"g"),e=e.replace(new RegExp("ş","g"),"s"),e.replace(new RegExp("ı","g"),"i")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.Modernizr=function(e,t,i){function a(e){y.cssText=e}function o(e,t){return a(k.join(e+";")+(t||""))}function s(e,t){return("undefined"==typeof e?"undefined":_typeof(e))===t}function n(e,t){return!!~(""+e).indexOf(t)}function r(e,t){for(var a in e){var o=e[a];if(!n(o,"-")&&y[o]!==i)return"pfx"!=t||o}return!1}function l(e,t,a){for(var o in e){var n=t[e[o]];if(n!==i)return a===!1?e[o]:s(n,"function")?n.bind(a||t):n}return!1}function d(e,t,i){var a=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+S.join(a+" ")+a).split(" ");return s(t,"string")||s(t,"undefined")?r(o,t):(o=(e+" "+T.join(a+" ")+a).split(" "),l(o,t,i))}function c(){m.input=function(i){for(var a=0,o=i.length;a<o;a++)I[i[a]]=!!(i[a]in $);return I.list&&(I.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),I}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),m.inputtypes=function(e){for(var a,o,s,n=0,r=e.length;n<r;n++)$.setAttribute("type",o=e[n]),a="text"!==$.type,a&&($.value=C,$.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&$.style.WebkitAppearance!==i?(v.appendChild($),s=t.defaultView,a=s.getComputedStyle&&"textfield"!==s.getComputedStyle($,null).WebkitAppearance&&0!==$.offsetHeight,v.removeChild($)):/^(search|tel)$/.test(o)||(a=/^(url|email)$/.test(o)?$.checkValidity&&$.checkValidity()===!1:$.value!=C)),D[e[n]]=!!a;return D}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var u,p,h="2.8.3",m={},g=!0,v=t.documentElement,f="modernizr",b=t.createElement(f),y=b.style,$=t.createElement("input"),C=":)",w={}.toString,k=" -webkit- -moz- -o- -ms- ".split(" "),_="Webkit Moz O ms",S=_.split(" "),T=_.toLowerCase().split(" "),j={svg:"http://www.w3.org/2000/svg"},x={},D={},I={},P=[],A=P.slice,E=function(e,i,a,o){var s,n,r,l,d=t.createElement("div"),c=t.body,u=c||t.createElement("body");if(parseInt(a,10))for(;a--;)r=t.createElement("div"),r.id=o?o[a]:f+(a+1),d.appendChild(r);return s=["&#173;",'<style id="s',f,'">',e,"</style>"].join(""),d.id=f,(c?d:u).innerHTML+=s,u.appendChild(d),c||(u.style.background="",u.style.overflow="hidden",l=v.style.overflow,v.style.overflow="hidden",v.appendChild(u)),n=i(d,e),c?d.parentNode.removeChild(d):(u.parentNode.removeChild(u),v.style.overflow=l),!!n},O=function(t){var i=e.matchMedia||e.msMatchMedia;if(i)return i(t)&&i(t).matches||!1;var a;return E("@media "+t+" { #"+f+" { position: absolute; } }",function(t){a="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),a},M=function(){function e(e,o){o=o||t.createElement(a[e]||"div"),e="on"+e;var n=e in o;return n||(o.setAttribute||(o=t.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(e,""),n=s(o[e],"function"),s(o[e],"undefined")||(o[e]=i),o.removeAttribute(e))),o=null,n}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),L={}.hasOwnProperty;p=s(L,"undefined")||s(L.call,"undefined")?function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")}:function(e,t){return L.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=A.call(arguments,1),a=function o(){if(this instanceof o){var a=function(){};a.prototype=t.prototype;var s=new a,n=t.apply(s,i.concat(A.call(arguments)));return Object(n)===n?n:s}return t.apply(e,i.concat(A.call(arguments)))};return a}),x.flexbox=function(){return d("flexWrap")},x.flexboxlegacy=function(){return d("boxDirection")},x.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},x.canvastext=function(){return!(!m.canvas||!s(t.createElement("canvas").getContext("2d").fillText,"function"))},x.webgl=function(){return!!e.WebGLRenderingContext},x.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:E(["@media (",k.join("touch-enabled),("),f,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i},x.geolocation=function(){return"geolocation"in navigator},x.postmessage=function(){return!!e.postMessage},x.websqldatabase=function(){return!!e.openDatabase},x.indexedDB=function(){return!!d("indexedDB",e)},x.hashchange=function(){return M("hashchange",e)&&(t.documentMode===i||t.documentMode>7)},x.history=function(){return!(!e.history||!history.pushState)},x.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},x.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},x.rgba=function(){return a("background-color:rgba(150,255,150,.5)"),n(y.backgroundColor,"rgba")},x.hsla=function(){return a("background-color:hsla(120,40%,100%,.5)"),n(y.backgroundColor,"rgba")||n(y.backgroundColor,"hsla")},x.multiplebgs=function(){return a("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(y.background)},x.backgroundsize=function(){return d("backgroundSize")},x.borderimage=function(){return d("borderImage")},x.borderradius=function(){return d("borderRadius")},x.boxshadow=function(){return d("boxShadow")},x.textshadow=function(){return""===t.createElement("div").style.textShadow},x.opacity=function(){return o("opacity:.55"),/^0.55$/.test(y.opacity)},x.cssanimations=function(){return d("animationName")},x.csscolumns=function(){return d("columnCount")},x.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",i="linear-gradient(left top,#9f9, white);";return a((e+"-webkit- ".split(" ").join(t+e)+k.join(i+e)).slice(0,-e.length)),n(y.backgroundImage,"gradient")},x.cssreflections=function(){return d("boxReflect")},x.csstransforms=function(){return!!d("transform")},x.csstransforms3d=function(){var e=!!d("perspective");return e&&"webkitPerspective"in v.style&&E("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,i){e=9===t.offsetLeft&&3===t.offsetHeight}),e},x.csstransitions=function(){return d("transition")},x.fontface=function(){var e;return E('@font-face {font-family:"font";src:url("https://")}',function(i,a){var o=t.getElementById("smodernizr"),s=o.sheet||o.styleSheet,n=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"";e=/src/i.test(n)&&0===n.indexOf(a.split(" ")[0])}),e},x.generatedcontent=function(){var e;return E(["#",f,"{font:0/0 a}#",f,':after{content:"',C,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},x.video=function(){var e=t.createElement("video"),i=!1;try{(i=!!e.canPlayType)&&(i=new Boolean(i),i.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(a){}return i},x.audio=function(){var e=t.createElement("audio"),i=!1;try{(i=!!e.canPlayType)&&(i=new Boolean(i),i.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(a){}return i},x.localstorage=function(){try{return localStorage.setItem(f,f),localStorage.removeItem(f),!0}catch(e){return!1}},x.sessionstorage=function(){try{return sessionStorage.setItem(f,f),sessionStorage.removeItem(f),!0}catch(e){return!1}},x.webworkers=function(){return!!e.Worker},x.applicationcache=function(){return!!e.applicationCache},x.svg=function(){return!!t.createElementNS&&!!t.createElementNS(j.svg,"svg").createSVGRect},x.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==j.svg},x.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(w.call(t.createElementNS(j.svg,"animate")))},x.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(w.call(t.createElementNS(j.svg,"clipPath")))};for(var z in x)p(x,z)&&(u=z.toLowerCase(),m[u]=x[z](),P.push((m[u]?"":"no-")+u));return m.input||c(),m.addTest=function(e,t){if("object"==("undefined"==typeof e?"undefined":_typeof(e)))for(var a in e)p(e,a)&&m.addTest(a,e[a]);else{if(e=e.toLowerCase(),m[e]!==i)return m;t="function"==typeof t?t():t,"undefined"!=typeof g&&g&&(v.className+=" "+(t?"":"no-")+e),m[e]=t}return m},a(""),b=$=null,m._version=h,m._prefixes=k,m._domPrefixes=T,m._cssomPrefixes=S,m.mq=O,m.hasEvent=M,m.testProp=function(e){return r([e])},m.testAllProps=d,m.testStyles=E,m.prefixed=function(e,t,i){return t?d(e,t,i):d(e,"pfx")},v.className=v.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+P.join(" "):""),m}(this,this.document),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new a(this)),"string"==typeof t&&o[t].call(i)})}var i='[data-dismiss="alert"]',a=function(t){e(t).on("click",i,this.close)};a.VERSION="3.3.5",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function i(){n.detach().trigger("closed.bs.alert").remove()}var o=e(this),s=o.attr("data-target");s||(s=o.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var n=e(s);t&&t.preventDefault(),n.length||(n=o.closest(".alert")),n.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(n.removeClass("in"),e.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i())};var o=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=a,e.fn.alert.noConflict=function(){return e.fn.alert=o,this},e(document).on("click.bs.alert.data-api",i,a.prototype.close)}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),o=a.data("bs.button"),s="object"==("undefined"==typeof t?"undefined":_typeof(t))&&t;o||a.data("bs.button",o=new i(this,s)),"toggle"==t?o.toggle():t&&o.setState(t)})}var i=function o(t,i){this.$element=e(t),this.options=e.extend({},o.DEFAULTS,i),this.isLoading=!1};i.VERSION="3.3.5",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",a=this.$element,o=a.is("input")?"val":"html",s=a.data();t+="Text",null==s.resetText&&a.data("resetText",a[o]()),setTimeout(e.proxy(function(){a[o](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,a.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,a.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),e&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var a=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=a,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var a=e(i.target);a.hasClass("btn")||(a=a.closest(".btn")),t.call(a,"toggle"),e(i.target).is('input[type="radio"]')||e(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};+function(e){"use strict";function t(t){var i,a=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(a)}function i(t){return this.each(function(){var i=e(this),o=i.data("bs.collapse"),s=e.extend({},a.DEFAULTS,i.data(),"object"==("undefined"==typeof t?"undefined":_typeof(t))&&t);!o&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),o||i.data("bs.collapse",o=new a(this,s)),"string"==typeof t&&o[t]()})}var a=function s(t,i){this.$element=e(t),this.options=e.extend({},s.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};a.VERSION="3.3.5",a.TRANSITION_DURATION=350,a.DEFAULTS={toggle:!0},a.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},a.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"),t&&t.transitioning))){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),t||o.data("bs.collapse",null));var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var l=e.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(a.TRANSITION_DURATION)[n](this.$element[0][l])}}}},a.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(a.TRANSITION_DURATION):o.call(this)}}},a.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},a.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,a){var o=e(a);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},a.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=a,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(a){var o=e(this);o.attr("data-target")||a.preventDefault();var s=t(o),n=s.data("bs.collapse"),r=n?"toggle":o.data();i.call(s,r)})}(jQuery),+function(e){"use strict";function t(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var a=i&&e(i);return a&&a.length?a:t.parent()}function i(i){i&&3===i.which||(e(o).remove(),e(s).each(function(){var a=e(this),o=t(a),s={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(o[0],i.target)||(o.trigger(i=e.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(a.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",s))))}))}function a(t){return this.each(function(){var i=e(this),a=i.data("bs.dropdown");a||i.data("bs.dropdown",a=new n(this)),"string"==typeof t&&a[t].call(i)})}var o=".dropdown-backdrop",s='[data-toggle="dropdown"]',n=function(t){e(t).on("click.bs.dropdown",this.toggle)};n.VERSION="3.3.5",n.prototype.toggle=function(a){var o=e(this);if(!o.is(".disabled, :disabled")){var s=t(o),n=s.hasClass("open");if(i(),!n){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(a=e.Event("show.bs.dropdown",r)),a.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},n.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var a=e(this);if(i.preventDefault(),i.stopPropagation(),!a.is(".disabled, :disabled")){var o=t(a),n=o.hasClass("open");if(!n&&27!=i.which||n&&27==i.which)return 27==i.which&&o.find(s).trigger("focus"),a.trigger("click");var r=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+r);if(l.length){var d=l.index(i.target);38==i.which&&d>0&&d--,40==i.which&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var r=e.fn.dropdown;e.fn.dropdown=a,e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,n.prototype.toggle).on("keydown.bs.dropdown.data-api",s,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};+function(e){"use strict";function t(t,a){return this.each(function(){var o=e(this),s=o.data("bs.modal"),n=e.extend({},i.DEFAULTS,o.data(),"object"==("undefined"==typeof t?"undefined":_typeof(t))&&t);s||o.data("bs.modal",s=new i(this,n)),"string"==typeof t?s[t](a):n.show&&s.show(a)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var a=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){a.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(a.$element)&&(a.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=e.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(a.$body),a.$element.show().scrollTop(0),a.adjustDialog(),o&&a.$element[0].offsetWidth,a.$element.addClass("in"),a.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});o?a.$dialog.one("bsTransitionEnd",function(){a.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):a.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var a=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&o;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var n=function(){a.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):n()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var a=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=a,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var a=e(this),o=a.attr("href"),s=e(a.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),n=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},s.data(),a.data());a.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),t.call(s,n,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),o=a.data("bs.tab");o||a.data("bs.tab",o=new i(this)),"string"==typeof t&&o[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),a=t.data("target");if(a||(a=t.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=i.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),n=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(s),t.trigger(n),!n.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=e(a);this.activate(t.closest("li"),i),this.activate(r,r.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(t,a,o){function s(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var n=a.find("> .active"),r=o&&e.support.transition&&(n.length&&n.hasClass("fade")||!!a.find("> .fade").length);n.length&&r?n.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),n.removeClass("in")};var a=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=a,this};var o=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,a=this;e(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||e(a).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},global=function(){"use strict";function init(){$page.is(".cart")&&initToolTip(),isMobile(),isUserAgent(),patchIe8IndexOf(),patchIe8Trim(),arrowIconDirection(),smoothScroll(),removeModalFromDOM(),validateFormBeforeSubmit(),clearPlaceholderOnFocus(),initJsOnlyNumber(),initSendDiscountCode(),initRemoveDiscountCode(),initSendExternalDiscountCode(),initOrderCart(),initSubmitBasket(),initOnlyLetterWithTurkishCharactersAndSpace(),creditcardValidation(),initScrollTop(),tabKeyNavigation(),imgInsideLabelIEFix(),initFloatPlaceholder(),initEmailExtensionValidator(),initEqualValidator(),initCustomerConsentContract(),initTermsOfUse(),initCustomerPrivacyContract(),initCustomerContract(),clickForgotPasswordLink(),clickPasswordRecoveryButton(),categoryItemHovered(),handlePageShow(),clearInlineStyling(),customerConsentContractPopupContent(),clickCustomerConsentContract(),clickCustomerContractAcceptButton(),toggleCustomerContractCheckboxValue(),preventPopupTouchmove(),setCookieForCityContetPage(),initJsOnlyAlphanumeric(),setDistrictForCityContetPage(),initIllegalCharacters(),initIllegalProductCharacters(),initPhoneValidation(),initMobilePhoneValidator(),clearNBSPText(),zoomLevel(),htmlTagReplace(),initToggleShowPassword(),initDataLayerPush(),initDataLayerRemoveFromCartPush(),closeCustomTooltip(),openDistrictArea(),closeDistrictArea(),productCountMobileCopy(),initFingerPrint(),backgroundButtonClick(),startSessionTime(),selectizeClose(),aniWidgetClick(),customTooltipOrderMessage(),cargoRecieverNameValidation(),dfipCookieSet(),ieVersionControl(),handleCSCollectButtonClick(),showCouponDetailsOnSummary(),hideCouponDetailsOnSummary(),getPersonalNavigations(),customTooltipProductBox(),clickGoogleLoginButton(),bindPasteOnCreditCard(),($page.is(".cart")||$(".js-order-header-topbar").length)&&bindOrderBottomSticky(),bindDeliveryInfo(),toggleDiscountCode(),removeDeliveryInfoInOrder(),footerChangeCss(),$page.is(".product, .search-page")&&suggestCategory($showWidget),($page.hasClass("opportunity")||$page.hasClass("product"))&&setProductLinkTarget(),removeEmojisFromInput(),$page.is(".membership, .order-login")&&(suggestEmailToUser(),triggerEmailSuggestionsHide(),emailSuggestionClick())}function checkIsMobileQueryLink(){var e=window.location.href,t="m=1";return e.indexOf(t)>-1}function pushDataLayerProdId(){if(($(".js-category-detail").length>0||$(".city").length>0||$(".boutique").length>0)&&"undefined"!=typeof dataLayer){var e=$(".js-products__item-link:lt(3)"),t={},i=[];$.each(e,function(e,t){i.push($(t).data("productcode"))}),t.ecomm_prodid=i,dataLayer.push(t)}}function clickGoogleLoginButton(){$(document).on("click",".js-google-login",function(){$(this).addClass("disabled")})}function ieVersionControl(){if(Function("/*@cc_on return document.documentMode===10@*/")()){var e="<div class='row js-ie-version-control' style='margin: 10px; padding: 10px;'> <div class='container'> <br><br><img class='ie-warning__close-button' src='//cdn03.ciceksepeti.com/Themes/Ciceksepeti/Assets/images/browser-warning/button-close-warning.jpg' onclick='this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode); return false;'/> <p class='ie-warning__title'> Internet Explorer 10 ve daha eski sürümleri desteklememekteyiz. </p><p class='ie-warning__text'> CicekSepeti.com'u doğru görüntüleyebilmek için aşağıdaki güncel tarayıcılardan birini yükleyebilirsiniz: </p><ul class='ie-warning__download-links'> <li class='ie-warning__download-links-item'> <a href='http://windows.microsoft.com/tr-tr/internet-explorer/download-ie'> <img class='lazyload' data-src='//cdn03.ciceksepeti.com/Themes/Ciceksepeti/Assets/images/browser-warning/button-explorer.jpg' alt='Explorer indirin'/> </a> </li><li class='ie-warning__download-links-item'> <a href='https://www.google.com/intl/tr_tr/chrome/browser/desktop/index.html'> <img class='lazyload' data-src='//cdn03.ciceksepeti.com/Themes/Ciceksepeti/Assets/images/browser-warning/button-chrome.jpg' alt='Chrome indirin'/> </a> </li><li class='ie-warning__download-links-item'> <a href='https://www.mozilla.org/tr/firefox/new/'> <img class='lazyload' data-src='//cdn03.ciceksepeti.com/Themes/Ciceksepeti/Assets/images/browser-warning/button-firefox.jpg' alt='Firefox indirin'/> </a> </li></ul> </div></div>";$("body").prepend(e)}}function dfipCookieSet(){""===getCookie("dfip")&&$.ajax({url:"/Common/GetLocationCityNameByIpAddress",cache:!1,success:function(e){global.setCookie("dfip",e.CityName,1e3)}})}function generateUID(){var e=46656999*Math.random()|0,t=46656999*Math.random()|0;return e=("000"+e.toString(36)).slice(-8),t=("000"+t.toString(36)).slice(-8),e+t}function aniWidgetClick(){$(document).on("click",".js-similar-product-link",function(){
if($page.hasClass("category")||$page.hasClass("product")){var e=$(this).data("productcode"),t=$(this).parents(".js-product-item-similar").data("widget-name"),i=$(this).data("sequence"),a=$(this).attr("href");""!=t&&void 0!=t&&aniTrackEventForWidgets(e,t,i,a)}})}function aniTrackEventForWidgets(e,t,i,a){var o=global.getFingerPrint(),s=global.getCookie("CustomerIdentifier"),n=window.ani||[],r=0,l="";if($page.hasClass("category-page")?r=1:$page.hasClass("search-page")?r=2:$page.hasClass("product")&&(r=3),3==r){var d=JSON.parse($(".js-ani-productview-widget").text());l=d.VariantCode}n.push(["trackEvent",{EventName:"ProductClickEvent",Link:a,ProductCode:e,WidgetName:t,Sequence:i,Identifier:o,CustomerIdentifier:s,SourceType:r,SourceProductCode:l}])}function selectizeClose(){($page.hasClass("receiver")||$page.hasClass("order-tracking"))&&$("body").on("click",function(e){if("iOS"==global.isMobile()&&$(".js-receiver-selectize").length>0){var t=$(".selectize-dropdown:visible").parent().index("div.js-receiver-selectize:not(.selectize-dropdown)");if(t>-1){var i=$("select.js-receiver-selectize").eq(t).attr("class");i="."+i,i=i.replace(/ /g,".");var a=$(i)[0].selectize;$(a.$dropdown).is(":visible")&&a.$dropdown.hide()}}})}function startSessionTime(){var e=getCookie("sst1");""==e&&$.ajax({url:"/Common/ServerTime",type:"get",cache:!1,success:function(e){setSessionCookie("sst1",e)}})}function backgroundButtonClick(){$(document).on("click",".js-ready-background-button",function(){$(".ready-design").hasClass("slick-initialized")||$(".ready-design").slick({speed:300,slidesToShow:4,slidesToScroll:4,nextArrow:'<button type="button" class="slick-next"><span class="icon-right-arrow comments__button-icon"></span></button>',prevArrow:'<button type="button" class="slick-prev"><span class="icon-left-arrow comments__button-icon"></span></button>',responsive:[{breakpoint:2880,settings:{slidesToShow:8,slidesToScroll:8}},{breakpoint:1600,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:1200,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:992,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:768,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:414,settings:{slidesToShow:3,slidesToScroll:3}}]})})}function initFingerPrint(){($page.hasClass("category")||$page.hasClass("product"))&&setTimeout(function(){Fingerprint2.get(function(e){$fpid=Fingerprint2.x64hash128(e.map(function(e){return e.value}).join(),31)})},800)}function getFingerPrint(){return $fpid}function initToolTip(){$tooltipElement.tooltip()}function closeCustomTooltip(){$(".js-app-download-tooltip-close").on("click",function(e){e.preventDefault(),$(this).hide().removeClass("in")})}function customTooltipOrderMessage(){""==global.getCookie("isCartInfo")&&$(".js-order-message-tooltip").addClass("in").removeClass("hide"),$(".js-order-message-tooltip").on("click",function(e){e.preventDefault(),$(this).hide().removeClass("in"),global.setCookie("isCartInfo","true",1e3)})}function customTooltipProductBox(){$(window).on("load",function(){isMobile()&&(""!==global.getCookie("isMobileVisit")||$(".js-recommend-click-primary").hasClass("hidden")&&$(".js-recommend-click-secondary").hasClass("hidden")||($(".js-product-box-tooltip").first().addClass("show"),setTimeout(function(){$(".js-product-box-tooltip").first().removeClass("show").addClass("hide")},4e3)),$(".js-recommend-click-primary").hasClass("hidden")&&$(".js-recommend-click-secondary").hasClass("hidden")||global.setCookie("isMobileVisit","true",1e3),$("*").click(function(e){$(e.target).is(".js-product-box-tooltip")||$(".js-product-box-tooltip").removeClass("show").addClass("hide")})),$(".js-products-stars").each(function(){0===$(this).find(".products-stars__icon-wrapper").length&&($(this).find(".js-recommend-click").addClass("align-left"),$(this).find(".js-product-box-tooltip").addClass("align-left"))})})}function htmlTagReplace(){setTimeout(function(){$(".js-region-selectize").find("input").addClass("js-html-tag-replace"),$(document).on("input paste",".js-html-tag-replace",function(){if(!isIEFix())var e=getCaretPosition(this);var t=/(<[^>]*>)/gi,i=/[<>]/g,a=$(this).val();a=a.replace(t,""),a=a.replace(i,""),$(this).val(a),isIEFix()||setCaretPosition(this,e.start,e.end)})},0)}function getCaretPosition(e){return e.selectionStart||"0"==e.selectionStart?{start:e.selectionStart,end:e.selectionEnd}:{start:0,end:0}}function setCaretPosition(e,t,i){e.setSelectionRange&&(e.focus(),e.setSelectionRange(t,i))}function initToggleShowPassword(){$(document).on("click",".js-show-type",function(){1===$(this).data("active")?($(this).removeClass("icon-eye-slash").addClass("icon-eye"),$(this).next("input").attr("type","password"),$(this).data("active",0)):($(this).removeClass("icon-eye").addClass("icon-eye-slash"),$(this).next("input").attr("type","text"),$(this).data("active",1))})}function zoomLevel(){function e(e){e<100?($(".price--old").addClass("zoom-on"),$("body").addClass("zoom-on")):($(".price--old").removeClass("zoom-on"),$("body").removeClass("zoom-on"))}var t=Math.round(100*window.devicePixelRatio);e(t),$(window).resize(function(){t=Math.round(100*window.devicePixelRatio),e(t)})}function isMobile(){var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)}};return!!(e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows())&&($("html").addClass("is-mobile"),e.Android()?"Android":e.BlackBerry()?"BlackBerry":e.iOS()?"iOS":e.Opera()?"Opera":!e.Windows()||"Windows")}function isUserAgent(){$("html").attr({"data-appCodeName":navigator.appCodeName,"data-appName":navigator.appName,"data-appVersion":navigator.appVersion,"data-platform":navigator.platform,"data-userAgent":navigator.userAgent,"data-language":navigator.language})}function setCookieForCityContetPage(){$(".js-set-cookie").length>0&&$(".js-set-cookie").each(function(e){if(""!=$(this).val()&&"undefined"!=$(this).val()&&$(this).val().length>0){var t=$(this).attr("data-cookie-name"),i=$(this).val();setCookie(t,i,0)}})}function setDistrictForCityContetPage(){if($(".js-display-region-name").length>0){var e=$(".js-display-region-name").val(),t=$(".district-container");t.find(".js-district-search-button-text").text(e),t.find(".js-district-search-button-text").removeClass("empty"),t.find(".js-district-search-button-text").addClass("not-empty"),t.find(".js-district-search-delete").css("display","inline-block"),setTimeout(function(){t.find(".district-search__input").val(e)},1e3)}}function preventPopupTouchmove(){$(document).delegate(".modal-open","touchmove",function(e){e.preventDefault()}).delegate(".modal-dialog","touchmove",function(e){e.stopPropagation()})}function initFloatPlaceholder(){$floatPlaceholder.keyup(function(){var e=$(this).siblings(".form-group__placeholder");if(""!==$(this).val()&&!e.length){var t=$(this).attr("placeholder"),i='<span class="form-group__placeholder js-validation-label">'+t+"</span>";$(this).hasClass("js-address-line")&&(i='<span class="form-group__placeholder">Alıcının Adresi</span>'),$(i).appendTo($(this).parent()).hide().fadeIn(200)}""===$(this).val()&&e.length&&$(this).siblings(".form-group__placeholder").fadeOut(200,function(){$(this).remove()})}),$(".js-sending-place").on("change",function(e){var t=$(e.target).siblings(".js-sending-place-value").find(".js-validation-label");t.length&&t.remove()}),$floatPlaceholder.length>0&&($floatPlaceholder.each(function(){var e=$(this).siblings(".form-group__placeholder");if(""!==$(this).val()&&!e.length){var t=$(this).attr("placeholder"),i='<span class="form-group__placeholder js-validation-label">'+t+"</span>";$(this).hasClass("js-address-line")&&(i='<span class="form-group__placeholder">Alıcının Adresi</span>'),$(i).appendTo($(this).parent()).hide().fadeIn(200)}""===$(this).val()&&e.length&&$(this).siblings(".form-group__placeholder").fadeOut(200,function(){$(this).remove()})}),setTimeout(function(){$floatPlaceholder.not(".input-validation-error").each(function(){$(this).blur()})},0))}function rebindValidator(e){e.unbind(),e.data("validator",null),$.validator.unobtrusive.parse(document),e.validate(e.data("unobtrusiveValidation").options)}function scrollToValidationError(){if($(".field-validation-error").length>0){var e=$(".field-validation-error").eq(0).offset().top-100;scrollGoto(e)}}function validateFormBeforeSubmit(){$(document).on("submit","form",function(){return $(this).valid()?($(this).find("button[type=submit]").prop("disabled",!0).text("Lütfen Bekleyin").addClass("gradient-animation"),!0):(scrollToValidationError(),!1)})}function scrollGoto(e){return $("html, body").animate({scrollTop:e},"slow"),!1}function patchIe8IndexOf(){$("html").hasClass("ie8")&&(Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}))}function patchIe8Trim(){"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function arrowIconDirection(){$collapsedContent.on("show.bs.collapse",function(){var e=$(this).prev('*[data-toggle="collapse"]').find(".js-add-caret");e.length&&e.addClass("icon-up-arrow").removeClass("icon-down-arrow")}),$collapsedContent.on("hide.bs.collapse",function(){var e=$(this).prev('*[data-toggle="collapse"]').find(".js-add-caret");e.length&&e.addClass("icon-down-arrow").removeClass("icon-up-arrow")}),$dropdown.on("show.bs.dropdown",function(){var e=$(this).find(".js-add-caret");e.length&&e.addClass("icon-up-arrow").removeClass("icon-down-arrow")}),$dropdown.on("hide.bs.dropdown",function(){var e=$(this).find(".js-add-caret");e.length&&e.addClass("icon-down-arrow").removeClass("icon-up-arrow")})}function removeModalFromDOM(){$("body").on("hidden.bs.modal",".modal",function(){$(this).remove(),$("html").removeClass("modal-open")})}function addModalOpenClassToHtml(){var e=navigator.userAgent.toLowerCase(),t=e.match(/(ipad)/);t&&scrollGoto(0),$("html").addClass("modal-open")}function smoothScroll(){$dataScroll.click(function(){var e=$($(this).attr("data-scroll")).position();e=e.top,$("html, body").animate({scrollTop:e-60},500)})}function initJsOnlyNumber(){$(document).on("input paste",".js-only-number ",function(){if(!isIEFix())var e=getCaretPosition(this);var t=$(this);t.val(t.val().replace(/[^\d]+/g,"")),isIEFix()||setCaretPosition(this,e.start,e.end)})}function bindPasteOnCreditCard(){$(document).on("paste",".js-credit-card-number",function(e){$("#Cvv").attr("maxlength",3);var t="";window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),e.preventDefault(),pasteCardNumberCaretPosition(this,t)})}function pasteCardNumberCaretPosition(e,t){var i=$(e),a=i.val().length;if(!isIEFix())var o=getCaretPosition(e);if(a>0&&a<parseInt(i.attr("maxlength")))if(0==o.start&&o.end==a)i.val(t.replace(/[^0-9]/g,""));else{var s=i.val().slice(0,o.start).replace(/[^0-9]/g,""),n=s+t.replace(/[^0-9]/g,""),r=n.trim(),l=r.length;window.document.execCommand("insertText",!1,t.replace(/[^0-9]/g,"")),isIEFix()||(i.blur(),setCaretPosition(e,l,l))}else if(window.document.execCommand("insertText",!1,t.replace(/[^0-9]/g,"")),!isIEFix()){var d=i.val().length;setCaretPosition(e,d,d)}}function initIllegalCharacters(){$(document).on("input paste",".js-illegal-characters",function(){if(!isIEFix())var e=getCaretPosition(this);var t=$(this);t.val(t.val().replace(/[\<\>!@#\$%^&\*'"/(),]+/g,"")),isIEFix()||setCaretPosition(this,e.start,e.end)})}function initIllegalProductCharacters(){$(document).on("input paste",".js-illegal-product-characters",function(){var e=$(this);e.val(e.val().replace(/[\\<>”“"]+/g,""))})}function initJsOnlyAlphanumeric(){$(document).on("input paste",".js-only-alphanumeric-characters",function(){var e=$(this);e.val(e.val().replace(/[^a-z0-9 ğüşöçıiIİĞÜŞÖÇ]/gi,""))})}function commonSuggestCategory(){var e=$(".js-category-url").val(),t=2,i="";return $page.hasClass("product")?(e=$(".js-category-id").val(),t=3,i="product"):$page.hasClass("search-page")&&(e=getQueryParameterByName("query")||getQueryParameterByName("qtext"),t=1,i="search"),{keyword:e,type:t,className:i}}function suggestCategory(e){var t=commonSuggestCategory(),i=t.keyword,a=t.type,o=t.className,s="/suggest/suggestion?keyword="+encodeURIComponent(i)+"&type="+a,n=$(window).width();n<768&&3===a&&(s=s+"&pagesize="+$(".js-product-more-reponsive-size").val()),$.ajax({type:"POST",url:s,success:function(t){if(t.Suggestions.length>0){if(2===a)return void pageCategory.createHtmlForSuggestSearch(t);createCategoryMoreHtml(t,a,o,e)}else $jsCategoryMore.hide()}})}function createCategoryMoreHtml(e,t,i,a){var o="",s=1===t?"":"container";o+="<div class='suggest-category__more "+i+"'>",o+="<div class='"+s+"' >",o+='<div class="row">',o+="<div class='suggest-category__col col-md-12 "+i+"'>",o+="<div class='suggest-category__section-title "+i+"'>"+e.Title+"</div>",o+='<div class="suggest-category__gradient js-is-gradient"></div>',o+="<div class='suggest-category__section-box js-suggest-slider "+i+"' >";for(var n=0;n<e.Suggestions.length;n++){o+='<a href="'+e.Suggestions[n].Url+'" class="suggest-category__more__link js-suggest-more-link">';var r=$(".js-age-warning-is-approved").val();if(e.Suggestions[n].IsRequiredLegalPermission&&"false"===r){var l="https://cdn03.ciceksepeti.com/Themes/Ciceksepeti/Assets/images/age-warn-category.png";o+='<img data-src="'+l+'" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="lazyload suggest-category__section-image" alt="'+e.Suggestions[n].Name+'" title="'+e.Suggestions[n].Name+'" width="83" height="83">'}else o+='<img data-src="'+e.Suggestions[n].ImagePath+'" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="lazyload suggest-category__section-image" alt="'+e.Suggestions[n].Name+'" title="'+e.Suggestions[n].Name+'" width="83" height="83">';o+='<span class="suggest-category__section-text">'+e.Suggestions[n].Name+"</span>",o+="</a>"}o+="</div>",o+="</div>",o+=" </div>",o+=" </div>",o+="</div>","False"==a?$jsCategoryMore.addClass("hidden"):$jsCategoryMore.removeClass("hidden"),$jsCategoryMore.html(o);var d=0,c=10;$(".js-suggest-more-link").each(function(e,t){d+=$(t).innerWidth()+c}),1===t&&$(".js-suggest-slider").innerWidth()<d&&pageCategory.categorySuggestSlider()}function initSendDiscountCode(){$(document).on("click",".js-send-discount-code",function(){var e,t=$(this).data(t).url,i=$(this),a=!1;i.prop("disabled",!0);var o=$(this).parents(".discount-item-container__form").find("#discountCouponCode");if(""===o.val())return popup({message:"Lütfen indirim kodunu giriniz.",popupType:"alert",customClass:"discount-item-no-discount"}),void i.prop("disabled",!1);global.createOverlay();var s=$("main").data("current-page");"additionalProducts"===s?(a=!0,e="/Checkout/AdditionalProductsAddAsync"):"cardMessage"===s&&(a=!0,e="/Checkout/SelectCardMessageAsync"),a&&i.prop("disabled")&&asyncSubmitForm(e),$.ajax({url:"/ShoppingCart/ApplyDiscountCouponInOrderSteps",type:"post",data:{discountCouponCode:o.val(),forceDiscount:!1},async:!1,success:function(e){if(e.IsSuccess)refreshOrderSummary(t,!0),stickyTotalTextHtml(e);else{if(1==e.ShowVoucherAppliedWarningMessage)return voucherIsApplyWarning(e.ErrorMessage,o.val(),t,i),$body.removeClass("is-fixed"),$(".js-responsive-discount-modal").removeClass("active"),void global.removeOverlay();var a=$(".js-discount-item-container-error");a.slideDown(400,function(){a.html(e.ErrorMessage)}),setTimeout(function(){a.slideUp(400),i.prop("disabled",!1)},2e3),global.removeOverlay()}}})})}function voucherIsApplyWarning(e,t,i,a){popup({message:e,popupType:"confirm",dismissButton:"Vazgeç",confirmButton:"Devam Et",confirmAction:"global.voucherApplyWarning('"+t+"','"+i+"','"+a+"')",dismissAction:a.prop("disabled",!1)})}function voucherApplyWarning(e,t,i){$.ajax({url:"/ShoppingCart/ApplyDiscountCouponInOrderSteps",type:"post",data:{discountCouponCode:e,forceDiscount:!0},async:!1,success:function(e){if(e.IsSuccess)refreshOrderSummary(t,!0),stickyTotalTextHtml(e);else{var a=$(".js-discount-item-container-error");a.slideDown(400,function(){a.html(e.ErrorMessage)}),setTimeout(function(){a.slideUp(400),i.prop("disabled",!1)},2e3),global.removeOverlay()}}})}function initRemoveDiscountCode(){$(document).on("untouch click",".js-discount-delete-icon",function(){var e=$(this).data(e).url;global.createOverlay(),$.ajax({url:"/ShoppingCart/RemoveDiscountCouponInOrderStep",async:!1,success:function(t){if(t.IsSuccess){refreshOrderSummary(e,!1),stickyTotalTextHtml(t),void 0!=t.VoucherDiscountList&&t.VoucherDiscountList.length>0&&$(".js-coupon-applied").length<1&&setVoucherBadges(t),t.VoucherDiscountApplied&&$(window).width()<768&&$(".js-coupon-bottom-sticky").show();var i=$(".js-responsive-bottom-coupons"),a=$(".js-responsive-coupons");i.length>0&&i.html(t.ResponsiveCouponsLinkStickyHtml),a.length>0&&a.html(t.ResponsiveCouponsHtml),setAppliedCouponDetails(t)}else window.location.href="/"}})})}function stickyTotalTextHtml(e){if($(window).width()<768){var t="<span class='js-responsive-total-text cart__responsive--total-text-integer-part'"+e.TotalPriceIntegerPartLength>6?"total-text-big-amount":""+e.TotalPriceIntegerPart+"<span class='js-responsive-total-text cart__responsive--total-text-decimal-part'>,"+e.TotalPriceDecimalPart+" TL</span>";$(".cart__responsive--order-total-col").children(".js-responsive-total-text").html(t)}}function refreshOrderSummary(e,t){$.ajax({url:e,context:document.body,beforeSend:function(e){e.setRequestHeader("Content-type","application/x-www-form-urlencoded")},complete:function(){global.removeOverlay()},error:function(){global.removeOverlay()},data:"returnUrl="+window.location.pathname}).done(function(e){$(".js-order-summary").html(e),removeDeliveryInfoInOrder(),$(window).width()<768&&getDiscountCodeHtml(),t&&$(".js-coupon-bottom-sticky").hide(),$(".js-coupon-applied").length>0&&(t?$(".js-coupon-applied").hide():$(".js-coupon-applied").show())})}function getDiscountCodeHtml(){$.ajax({url:"/ShoppingCart/OtherDiscountAndDiscountCode",type:"GET",success:function(e){$(".js-cart-other-discount").html(e),$(".js-toggle-order-summary").hasClass("is-active")||(orderOverlay.hide(),$("body").removeClass("is-fixed"))}})}function bindOrderBottomSticky(){$toogleOrderSummary.on("click",function(){var e=$(this);return e.toggleClass("is-active"),$stickyOrderSummary.addClass("active"),e.hasClass("is-active")?(orderOverlay.show(),$body.addClass("iOS"===isMobile()?"no-scroll-ios":"is-fixed"),$(window).scrollTop(0),void e.children(".js-order-summary-icon").removeClass("icon-up-arrow").addClass("icon-down-arrow")):(orderOverlay.hide(),$body.removeClass("no-scroll-ios"),$body.removeClass("is-fixed"),$(".js-close-modal").removeClass("active"),void $stickyOrderSummaryIcon.removeClass("icon-down-arrow").addClass("icon-up-arrow"))}),$(document).on("click",function(e){var t=$(e.target);t.closest(".js-responsive-order-sticky").length||t.closest(".co-order-modal").length||t.closest(".js-icon-question").length||t.find(".js-toogle-discount-code").length||t.closest(".discount-item-no-discount .btn").length||shoppingCartSummaryModalClose()}),$(document).on("click",".js-shopping-cart-summary-modal-close",function(e){shoppingCartSummaryModalClose()})}function shoppingCartSummaryModalClose(){$(".js-close-modal").removeClass("active"),$toogleOrderSummary.removeClass("is-active"),orderOverlay.hide(),$jsOrderSticky.show(),$stickyOrderSummaryIcon.removeClass("icon-down-arrow").addClass("icon-up-arrow"),$body.removeClass("is-fixed"),$body.removeClass("no-scroll-ios")}function deliveryInfoCreateHTML(e){var t="";return t='<div class="modal fade order-delivery-modal" id="modalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',t+='<div class="modal-dialog">',t+='<div class="modal-content">',t+='<div class="modal-header clearfix">',t+='<span class="modal-icon icon-close" data-dismiss="modal" aria-label="Close"></span>',t+="</div>",t+='<div class="modal-body clearfix" id="bottomModal">',t+=e,t+="</div>",t+="</div>",t+="</div>"}function orderDeliveryInfo(e,t){if($(window).width()<768){$page.hasClass("cart")&&($jsOrderSticky.hide(),$stickyOrderSummary.removeClass("active"),$(".js-back-order-summary").show(),$stickyOrderSummaryIcon.removeClass("icon-down-arrow").addClass("icon-up-arrow")),orderOverlay.show(),e.append(t.closest("div").find(".js-road-price-modal"));var i="is-fixed";return"iOS"===isMobile()&&(i="no-scroll-ios"),$("body").addClass(i),void e.find(".js-road-price-modal").addClass("active")}var a=t.closest("div").find(".js-road-price-modal").html();a&&global.popup({custom:!0,customHtml:deliveryInfoCreateHTML(a)})}function bindDeliveryInfo(){$(document).on("click",".js-road-price",function(e){orderDeliveryInfo($(".js-order-road-info"),$(e.target))}),$(document).on("click",".js-sameday-price",function(e){orderDeliveryInfo($(".js-sameday-delivery-info"),$(e.target))}),$(document).on("click",".js-back-order-summary",function(){var e=$(".js-road-price-modal");$stickyOrderSummary.addClass("active"),$stickyOrderSummaryIcon.removeClass("icon-up-arrow").addClass("icon-down-arrow"),$jsOrderSticky.show(),e.removeClass("active")})}function toggleDiscountCode(){$(document).on("focus",".js-toogle-discount-code",function(){var e=$(".js-responsive-discount-modal");$("body").addClass("is-fixed"),e.addClass("active"),orderOverlay.show(),e.find("input").focus(),e.find("input").attr("placeholder","İndirim kodunuzu yazın"),$(window).scrollTop(0)})}function removeDeliveryInfoInOrder(){if($(window).width()<768){var e=$(".js-order-summary");if($page.hasClass("cart"))return $(".scroll-top").css("bottom","120px"),void e.find(".js-order-removeAll").remove();e.length>0&&(e.addClass("order-summary-main"),$(".js-cart-other-discount-modal").find(".js-responsive-discount-item").addClass("order-receiver"))}}function footerChangeCss(){if($(window).width()<768){var e=$(".footer");if($jsOrderSticky.find(".js-cart-responsive-order").length>0||$(".js-page-seller-buttons").length>0)return void e.css("margin-bottom","50px");if($(".js-page-comments-buttons").length>0)return void e.css("margin-bottom","20px");e.css("margin-bottom",0)}}function setVoucherBadges(e){$.each(e.VoucherDiscountList,function(e,t){var i="";i+='<div class="cart-nominee-right coupon-applied js-coupon-applied">',i+='<span class="icon-price"></span>',i+='<div class="cart-nominee-info-text"> '+t.Text+"</div>",i+='<div class="cart-nominee-button cart-nominee-button--responsive green js-show-applied-coupons"> Detay <span class="icon icon-arrow_right"></span></div>',i+="</div>",$(".js-nominee-wrapper[data-tag-id="+t.Value+"]").find(".cart-nominee-left").after(i)})}function setAppliedCouponDetails(e){var t="";$.each(e.ShoppingCartCoupons,function(e,i){t+='<div class="applied-coupons--voucher"><span class="icon-shop"></span>'+i.BranchName+"</div>",t+='<div class="applied-coupons--coupon">',t+='<div class="applied-coupons--coupon-top">',t+='<div class="applied-coupons--coupon-amount">'+i.DiscountAmount+"</div>",t+="</div>",t+='<div class="applied-coupons--coupon-bottom">',t+='<div class="applied-coupons--coupon-infoText">'+i.StartDate+" - "+i.EndDate+"</div>",4!=i.CouponType&&(t+='<div class="applied-coupons--coupon-infoText">'+i.MinBasketAmount+"</div>"),t+="</div>",t+="</div>"}),$(".js-applied-coupon-detail").html(t)}function asyncSubmitForm(e){$.ajax({url:e,type:"post",data:$(".js-form-order-steps").serialize(),async:!1})}function initSendExternalDiscountCode(){$(".js-externalDiscount").on("click",function(){var e=$(this).parents(".discount-item-container__form");if(""===e.find("#phone").val())return popup({message:"Lütfen telefon numaranızı giriniz.",popupType:"alert"}),!1;if(""===e.find("#code").val())return popup({message:"Lütfen indirim kodunu giriniz.",popupType:"alert"}),!1;var t=$("main").data("current-page");"additionalProducts"===t?$.ajax({url:"/Checkout/AdditionalProductsAddAsync",type:"post",data:$(".js-form-order-steps").serialize(),async:!1}):"cardMessage"===t&&$.ajax({url:"/Checkout/SelectCardMessageAsync",type:"post",data:$(".js-form-order-steps").serialize(),async:!1}),window.location.href="/ExternalDiscount/ApplyDiscount?code="+e.find("#code").val()+"&phone="+e.find("#phone").val()+"&returnUrl="+encodeURIComponent(window.location.href)})}function initOrderCart(){if($(".js-order-cart").length){var e=$(".js-order-cart"),t=e.data("message"),i=e.data("dismiss-action"),a=e.data("confirm-action"),o=e.data("confirm-action-text"),s=e.data("dismiss-action-text");""!==a?alertBox({message:t,alertBoxType:"confirm",dismissButton:s,dismissAction:"window.location.href = '"+i+"'",confirmButton:o,confirmAction:"window.location.href = '"+a+"'"}):""!==i&&alertBox({message:t,alertBoxType:"alert",dismissAction:"window.location.href = '"+i+"'",dismissButton:s})}}function initSubmitBasket(){$(".js-submit-basket").on("click",function(){var e=$(this).data("is-single"),t=$("#shoppingCartForm");$(".js-is-single").val(e),t.valid()&&(global.createOverlay(),t.submit())})}function initOnlyLetterWithTurkishCharactersAndSpace(){$(".js-only-letter-with-turkish-characters-with-space").on("keydown",function(e){var t=[8,9,16,17,20,32,35,36,37,38,39,40,45,46];t=$.merge([220,222,219,191,186,188,190,221,0],t);for(var i=65;i<=90;i++)t.push(i);var a="which"in e?e.which:e.keyCode;jQuery.inArray(a,t)===-1&&e.preventDefault()})}function clearPlaceholderOnFocus(){$(".selectize-input input").focus(function(){placeholder=$(this).attr("placeholder"),$(this).removeAttr("placeholder")}).blur(function(){0===$(this).val().length&&$(this).attr("placeholder",placeholder)})}function creditcardValidation(){$(document).on("keyup paste",".js-credit-card-number",function(e){if(!isIEFix())var t=getCaretPosition(this);$(this).payform("formatNumeric"),$(this).val($(this).val().replace(/[^0-9]/g,"")),isIEFix()||setCaretPosition(this,t.start,t.end),e.stopPropagation(),e.preventDefault(),updateCardType($(this).val())}),cardTypeTooltip(0)}function updateCardType(e){var t=$.payform.parseCardType(e);"visa"===t?cardTypeTooltip(0):"mastercard"===t?cardTypeTooltip(0):"amex"===t?($("#Cvv").attr("maxlength",4),cardTypeTooltip(1)):(cardTypeTooltip(0),$("#Cvv").attr("maxlength",3))}function cardTypeTooltip(e){$(document).on("mouseenter",".what-is-cvv-icon",function(){$(this).children().hide(),$(this).children().eq(e).show()}).on("mouseleave",".what-is-cvv-icon",function(){$(this).children().hide()})}function cardTypeAmex(e){1===e?$(".form-credit-card__Iyzico-container").hide():$(".form-credit-card__Iyzico-container").show()}function fetchGeneralRegions(){var cityId=$("#CityId").val();""!==cityId&&$.getJSON("/Common/GetRegions?cityid="+cityId,function(data){if(data.length>0){var htmldata="<option value=''>Lütfen semt seçiniz</option>",newOptions='[{"text": "Lütfen semt seçiniz.", "value": ""},';if($.each(data,function(e,t){htmldata+="<option value='"+t.Value+"'>"+t.Text.trim()+"</option>",newOptions+=e+1===data.length?'{"text": "'+t.Text.trim()+'", "value": '+t.Value+"}":'{"text": "'+t.Text.trim()+'", "value": '+t.Value+"},"}),newOptions+="]",newOptions=eval("( "+newOptions+" )"),void 0!==newOptions[0]){$("#RegionId").html(htmldata);var selectize=$("#RegionId")[0].selectize;selectize.clear(),selectize.clearOptions(),selectize.renderCache.option={},selectize.renderCache.item={},selectize.addOption(newOptions),selectize.setValue(newOptions[0].value)}}})}function tabKeyNavigation(){$(".js-clickable-by-tab").on("keyup",function(e){var t=e.keyCode?e.keyCode:e.which;13===t&&$(this).click()})}function commaToDot(e){var t=e.replace(",",".");return t>0?parseFloat(t):0}function dotToComma(e){return parseFloat(e).toFixed(2).toString().replace(".",",")}function htmlFormatPrice(e){var t=e.toFixed(2).toString(),i=t.split(".")[0],a=t.split(".")[1],o="";return o+='<span class="grand-total-integer js-integer-value">',o+=i,o+='</span>,<span class="grand-total-decimal js-decimal-value">',o+=a,o+='</span><span class="grand-total-decimal price-currency"> TL</span>'}function popup(e){var t,i={message:"Popup mesajı",custom:!1,customHtml:"",customClass:void 0,customDialogClass:void 0,dismissButton:"Tamam",dismissAction:void 0,popupType:"alert",confirmButton:"Devam Et",confirmAction:"return false;",title:"",customButtonName:"Button Name",customButtonClass:"",shownFunction:addModalOpenClassToHtml(),loadnFunction:modalFooterResponsiveBtnChange(),hiddenFunction:void 0,backdrop:!0,keyboard:!0};for(var a in i)"undefined"==typeof e[a]&&(e[a]=i[a]);e.custom===!1?(t='<div class="modal fade" id="modalBox" tabindex="-1"',t+='role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',t+='<div class="modal-dialog ',"undefined"!=typeof e.customDialogClass&&(t+=e.customDialogClass),t+='">',t+='<div class="modal-content ',"undefined"!=typeof e.customClass&&(t+=e.customClass),t+='">',t+='<div class="modal-header">',t+='<span class="modal-icon icon-close-line" data-dismiss="modal" aria-label="Close"></span>',t+='<h4 class="modal-title">'+e.title+"</h4>",t+="</div>",t+='<div class="modal-body">',t+=e.message,t+="</div>",t+='<div class="modal-footer">',"confirm"===e.popupType&&(t+='<button type="button" class="btn btn-underlined" onclick="'+e.dismissAction+'" data-dismiss="modal"><span class="icon-left-arrow btn-underlined__left-icon"></span>'+e.dismissButton+"</button>",t+='<button type="button" class="agree-button btn btn-primary" onclick="'+e.confirmAction+'" data-dismiss="modal">'+e.confirmButton+"</button>"),"custom"===e.popupType&&(t+='<button type="button" class="agree-button btn btn-primary '+e.customButtonClass+'" data-dismiss="modal">'+e.customButtonName+"</button>"),"alert"===e.popupType&&(t+='<button type="button" class="btn btn-primary"',"undefined"!=typeof e.dismissAction&&(t+='onclick="'+e.dismissAction+'" '),t+='data-dismiss="modal">'+e.dismissButton+"</button>"),t+="</div></div></div></div>",$("body").append(t),$("#modalBox").modal({backdrop:e.backdrop,keyboard:e.keyboard}),void 0!==e.shownFunction&&$("#modalBox").on("shown.bs.modal",e.shownFunction),void 0!==e.hiddenFunction&&$("#modalBox").on("hidden.bs.modal",e.hiddenFunction)):($("body").append(e.customHtml),$("#customModalBox, #modalBox, #flatModalBox").modal({backdrop:e.backdrop,keyboard:e.keyboard}),void 0!==e.shownFunction&&$("#customModalBox, #modalBox").on("shown.bs.modal",e.shownFunction),void 0!==e.hiddenFunction&&$("#customModalBox, #modalBox, #flatModalBox").on("hidden.bs.modal",e.hiddenFunction))}function modalFooterResponsiveBtnChange(){var e=$(window).width();e<600&&!$(".modal-footer").hasClass("modal-btn-not-change")&&($(".modal-footer").addClass("hide"),setTimeout(function(){$(".agree-button").prependTo(".modal-footer")},1))}function alertBox(e){var t,i={message:"Alert",dismissButton:"Vazgeç",dismissAction:"return false;",alertBoxType:"alert",confirmButton:"Tamam",confirmAction:"return false;",character:"danger",closeIcon:!1};for(var a in i)"undefined"==typeof e[a]&&(e[a]=i[a]);t='<div class="alert alert-'+e.character+' alert-dismissible fade in" role="alert">',e.closeIcon!==!1&&(t+='<span class="modal-icon icon-close" data-dismiss="alert" aria-label="Close"></span>'),t+='<div class="alert__body"><p>'+e.message+"</p></div>",t+='<div class="alert__footer"><button type="button" class="alert__button btn btn-underlined" ',"undefined"!=typeof e.dismissAction&&(t+='onclick="'+e.dismissAction+'" ><span class="icon-left-arrow btn-underlined__left-icon"></span>'),t+=e.dismissButton+"</button>","confirm"===e.alertBoxType&&(t+='<button type="button" class="alert__button btn btn-primary" onclick="'+e.confirmAction+'" data-dismiss="alert">'+e.confirmButton+"</button>"),
t+="</div></div>",$(".js-alert-container").length&&$(".js-alert-container").html(t)}function toast(e){function t(){var e=$(".toast");e.addClass("visuallyhidden"),setTimeout(function(){e.remove()},500)}$(".toast").length>0&&$(".toast").remove();var i,a={title:"title",toastType:"success",closeIcon:!1};for(var o in a)"undefined"==typeof e[o]&&(e[o]=a[o]);var s="icon-check";"warning"==e.toastType?s="icon-exclamation-mark":"error"==e.toastType&&(s="icon-close"),i='<div class="toast toast-'+e.toastType+'">',e.closeIcon&&(i+='<span class="toast__close-icon icon-close" data-dismiss="toast" aria-label="Close" ></span>'),i+='<div class="toast__body">',i+='<div class="toast__head">',i+='<div class="toast__head-icon-wrapper" data-color="'+e.toastType+'">',i+='<span class="toast__head-icon '+s+'"></span>',i+="</div>",i+='<span class="toast__head-title">'+e.title+"</span>",i+="</div>",e.description&&(i+='<span class="toast__body-description">'+e.description+"</span>"),e.confirmButton&&(i+='<button type="button" class="toast__body-button btn btn-primary"',"undefined"!=typeof e.confirmAction&&(i+='onclick="'+e.confirmAction+'"'),i+=">"+e.confirmButton+"</button>"),i+="</div>",i+="</div>",$("body").append(i),e.closeIcon?$('span[data-dismiss="toast"]').click(function(){t()}):(clearTimeout(toastTimer),toastTimer=setTimeout(function(){t()},3e3))}function socialSharePopup(e,t,i,a,o){e.preventDefault();var s=i||"500",n=a||"400",r=o?"yes":"no",l="width="+s+",height="+n+",resizable="+r;window.open(t,"",l).focus()}function setLocation(e){window.location.href=e}function loaderSvg(){var e='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="100%" height="100%" viewBox="0 0 40 33" enable-background="new 0 0 40 33" xml:space="preserve"><switch><g><g><path class="leaf leaf--1" fill="#999" d="M11.529,16.199c1.857-0.628,3.72-0.987,5.725-1.308l0.037-0.004l0.494-0.049c0,0-1.911,8.862-7.26,13.153c-5.348,4.292-10.964-0.24-8.649-5.165C3.432,19.509,7.429,17.454,11.529,16.199z" /></g><g><path class="leaf leaf--2" fill="#999" d="M17.262,13.788l-0.037,0.001c-2.029-0.075-3.921-0.202-5.841-0.601c-4.222-0.746-8.44-2.299-10.39-5.4C-1.904,3.18,3.117-2.002,8.949,1.605c5.832,3.608,8.809,12.171,8.809,12.171l-0.471,0.012L17.262,13.788z" /></g><g><path class="leaf leaf--3" fill="#999" d="M25.459,13.112c-1.896,0.498-3.78,0.725-5.802,0.906l-0.037,0.001l-0.496,0.015c0,0,2.525-8.708,8.16-12.616c5.635-3.908,10.92,1.004,8.267,5.758C33.768,10.374,29.637,12.146,25.459,13.112z" /></g><g><path class="leaf leaf--4" fill="#999" d="M23.431,18.779h0.036c2.019,0.218,3.896,0.475,5.784,1.007c4.16,1.04,8.26,2.884,9.988,6.111c2.569,4.798-2.801,9.619-8.366,5.61c-5.566-4.004-7.938-12.752-7.938-12.752l0.47,0.02L23.431,18.779z" /></g></g></switch></svg>';return e}function createOverlay(){var e=$(window).height(),t=$("html"),i='<img src="//cdn03.ciceksepeti.com/Themes/Ciceksepeti/Assets/images/loader-large.gif" alt="loader">',a=t.hasClass("ie8")||t.hasClass("lt-ie10")?i:loaderSvg();$("body").append('<div id="overlay"></div><div class="svg-loader-container">'+a+"</div>"),$("#overlay").height(e).css({opacity:.4,position:"fixed",top:0,left:0,"background-color":"white",width:"100%",height:"100%","z-index":5e3,"text-align":"center"}),$(".svg-loader-container").css({opacity:.6,width:"150px",height:"150px",position:"fixed",top:"50%",left:"50%",margin:"-75px 0 0 -75px","z-index":6e3,"text-align":"center"})}function createLoaderIn(e){var t='<div class="loader"><div class="loader__bullet loader__bullet--1"></div><div class="loader__bullet loader__bullet--2"></div><div class="loader__bullet loader__bullet--3"></div></div>';e.append(t)}function turkishToLower(e){var t=e,i={"İ":"i",I:"ı","Ş":"ş","Ğ":"ğ","Ü":"ü","Ö":"ö","Ç":"ç"};return t=t.replace(/(([İIŞĞÜÇÖ]))/g,function(e){return i[e]}),t.toLowerCase()}function stringEqual(e){var t=e,i={"İ":"ı",I:"ı","Ş":"s","Ğ":"g","Ü":"u","Ö":"o","Ç":"c",i:"ı","ş":"s","ğ":"g","ü":"u","ö":"o","ç":"c"};return t=t.replace(/(([İIŞĞÜÇÖişğüçö]))/g,function(e){return i[e]}),t.toLowerCase()}function removeLoaderFrom(e){e.find(".loader").remove()}function removeOverlay(){$("#overlay,.svg-loader-container").remove()}function createOverlayForPayment(){var e=$(window).height(),t=$("html"),i='<img src="//cdn03.ciceksepeti.com/Themes/Ciceksepeti/Assets/images/loader-large.gif" alt="loader">',a=t.hasClass("ie8")||t.hasClass("lt-ie10")?i:loaderSvg();$("body").append('<div id="overlay-payment"></div><div class="svg-loader-container-payment">'+a+"</div>"),$("#overlay-payment").height(e).css({opacity:.4,position:"fixed",top:0,left:0,"background-color":"white",width:"100%",height:"100%","z-index":5e3,"text-align":"center"}),$(".svg-loader-container-payment").css({opacity:.6,width:"150px",position:"fixed",top:"50%",left:"50%",margin:"-75px 0 0 -75px","z-index":6e3,"text-align":"center"})}function convertToEn(e){var t=e.replace(new RegExp("İ","g"),"i");return t=t.replace(new RegExp("ü","g"),"u"),t=t.replace(new RegExp("ö","g"),"o"),t=t.replace(new RegExp("ç","g"),"c"),t=t.replace(new RegExp("ğ","g"),"g"),t=t.replace(new RegExp("ş","g"),"s"),t.replace(new RegExp("ı","g"),"i")}function initScrollTop(){$(window).scroll(function(){var e=$(window).width();e>600?$(this).scrollTop()>=100?$scrollTopBtn.is(":visible")||$scrollTopBtn.fadeIn():$scrollTopBtn.is(":visible")&&$scrollTopBtn.fadeOut():$scrollTopBtn.fadeOut()}),$scrollTopBtn.click(function(){return scrollGoto(0),!1})}function formSubmitToEnter(e){e.on("keypress",function(t){if(13===t.keyCode)return e.submit(),!1})}function formAjaxSendToEnter(e){e.on("keypress",function(t){if(13===t.keyCode)return e.find("button").trigger("click"),!1})}function imgInsideLabelIEFix(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");(t>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&$("label img").on("click",function(){$("#"+$(this).parents("label").attr("for")).click()})}function isIEFix(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");return t>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)}function initEmailExtensionValidator(){$.validator.addMethod("emailextensionmustbevalid",function(e,t){var i=$(t).val(),a=i.split("@");if(a.length<=1)return!1;var o=a[1],s=$(t).data("val-emailextensionmustbevalid-validextensions").split(",");if(s.length<=0)return!0;for(var n=0;n<s.length;n++){var r="."+s[n],l=o.length-r.length,d=o.lastIndexOf(r);if(d!==-1&&d===l)return!0}return!1}),$.validator.unobtrusive.adapters.addBool("emailextensionmustbevalid")}function initEqualValidator(){$.validator.addMethod("equal",function(e,t,i){if($(t).is(":checkbox"))var a=$(t).is(":checked")?"true":"false";return i.valuetocompare.toLowerCase()===a.toLowerCase()},""),$.validator.unobtrusive.adapters.add("equal",["valuetocompare"],function(e){e.rules.equal=e.params.field,e.message&&(e.messages.equal=e.message)})}function initMobilePhoneValidator(){$.validator.addMethod("mobilePhone",function(e,t,i){e=e.replace(/\s+/g,"");var a=/^(05|5|905)([0-9]){9}$/;return this.optional(t)||e.match(a)},"Lütfen geçerli bir cep telefonu numarası giriniz.")}function initPhoneValidation(){$(document).on("keyup input paste",".js-phone-number-validation",function(){if($(this)[0].hasAttribute("data-val-length-min")&&$(this)[0].hasAttribute("data-val-length-max")){var e=$(this).attr("data-val-length-min"),t=$(this).attr("data-val-length-max");"0"===$(this).val().substring(0,1)?($(this).rules("remove","rangelength"),$(this).rules("add",{rangelength:[parseInt(e)+1,t]})):90==$(this).val().substring(0,2)?($(this).rules("remove","rangelength"),$(this).rules("add",{rangelength:[parseInt(e)+2,t]})):($(this).rules("remove","rangelength"),$(this).rules("add",{rangelength:[e,t]}))}})}function customerConsentContractPopupContent(e,t){var i;return i='<div class="modal order-contract-modal fade" id="customModalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',i+='<div class="modal-dialog">',i+='<div class="modal-content">',i+='<div class="modal-header">',i+='<span aria-hidden="true" aria-label="Close" data-dismiss="modal" class="modal-icon icon-close-line"></span>',i+='<h4 class="modal-title clearfix"> </h4>',i+="</div>",i+='<div class="modal-body">',i+=e,i+="</div>",i+='<div class="modal-footer">',i+='<button type="button" class="agree-button btn btn-primary '+t+'">Okudum, Kabul Ediyorum</button>',i+="</div></div></div></div>"}function clickCustomerConsentContract(){$(document).on("click",".js-customer-consent-contract-read-and-accept",function(){$("#customModalBox").modal("hide"),$("#bireyselUyelik").hasClass("active")?$("#IsCheckAllContact").prop("checked")===!1&&$("#IsCheckAllContact").prop("checked",!0):$("#kurumsalUyelik").hasClass("active")?$("#IsCheckAllContactCorp").prop("checked")===!1&&$("#IsCheckAllContactCorp").prop("checked",!0):$("#IsCheckAllContact").prop("checked")===!1&&$("#IsCheckAllContact").prop("checked",!0)})}function toggleCustomerContractCheckboxValue(){$(".js-customer-permisson-label").bind("click",{input:"#IsCheckAllContact"},global.toggleCheckboxInputValue)}function initCustomerConsentContract(){$customerConsentContractLink.on("click",function(){if(!$page.is(".invoice")){var e=$.get("/Customer/CustomerConsentContract");e.done(function(e){global.popup({popupType:"alert",dismissButton:"Tamam",dismissAction:void 0,custom:!0,customHtml:customerConsentContractPopupContent(e.content,"js-customer-consent-contract-read-and-accept")})})}})}function initCustomerContract(){$customerContractLink.on("click",function(){var e=$.get("/Customer/CustomerContract");e.done(function(e){global.popup({message:e.content,title:"Üyelik Sözleşmesi",customClass:"customer-contract-popup"})})})}function initTermsOfUse(){$termsOfUseLink.on("click",function(){var e=$.get("/Contents/GetTemplate?templateType=22");e.done(function(e){global.popup({message:e.Description,title:e.Title,customClass:"terms-of-use-popup"})})})}function initCustomerPrivacyContract(){$customerPrivacyContractLink.on("click",function(){var e=parseInt($(this).attr("data-type")),t=$.get("/Contents/GetTemplate?templateType="+e);global.createOverlay(),t.done(function(e){global.removeOverlay(),global.popup({title:e.Title,message:e.Description,customClass:"privacy-contract-popup"})})})}function clickCustomerContractAcceptButton(){$(document).on("click",".js-customer-contract-accept-button",function(){$customerContractCheckbox.prop("checked")!==!1&&$customerContractCorpCheckbox.prop("checked")!==!1||($customerContractCheckbox.prop("checked",!0),$customerContractCorpCheckbox.prop("checked",!0))})}function clickForgotPasswordLink(){$forgotPasswordLink.on("click",function(){$forgotPasswordInput.val(""),$recoveryResult.slideUp(200,function(){$recoveryForm.slideToggle(400)}).removeClass("is-visible")}),$recoveryForm.keypress(function(e){13==e.which&&(e.preventDefault(),$recoveryButton.trigger("click"))})}function clickPasswordRecoveryButton(){$recoveryButton.on("click",function(){$recoveryForm.valid()&&($recoveryButton.prop("disabled",!0),global.createOverlay(),$.ajax({url:"/Customer/PasswordRecovery",data:$recoveryForm.serialize(),type:"POST",success:function(e){e.Success===!0?$recoveryForm.slideUp(200,function(){$recoveryResult.slideDown(400).addClass("is-visible"),setTimeout(function(){$recoveryResult.slideUp(200).removeClass("is-visible")},15e3),$forgotPasswordLink.addClass("password-sent")}):($.publish("captcha-required",["PasswordRecovery"]),global.popup({message:e.ErrorMessage})),global.removeOverlay(),$recoveryButton.prop("disabled",!1)}}))})}function scrollTopPositionEvent(){if($page.hasClass("category")||$page.hasClass("city")){var e=getCookie("scrollTopPosition");""!=e&&($("html, body").animate({scrollTop:e},"fast"),eraseCookie("scrollTopPosition"))}$page.hasClass("coupons-page")||$page.hasClass("category")||$page.hasClass("city")||$page.hasClass("product")||$page.hasClass("mizu")||eraseCookie("scrollTopPosition")}function handlePageShow(){$(window).bind("pageshow",function(e){e.originalEvent.persisted||window.performance&&2==window.performance.navigation.type?($("body").is(".order")||(responsiveMenu.close(),layoutGlobal.unfixBody()),global.removeOverlay(),$(".js-main-menu-item").removeClass("is-active"),$(".js-recent-search").remove()):"iOS"===isMobile()&&scrollTopPositionEvent(),$page.hasClass("customizable")||global.removeOverlay()})}function clearInlineStyling(){var e=document.getElementsByClassName("js-clear-inline-styles"),t=e.length;if(t>0)for(;t--;)removeAttributes(e[t].getElementsByTagName("*"))}function clearNBSPText(){var e=$(".js-clear-nbsp");if(e.length>0){e.html(e.html().replace(/&nbsp;/gi,""));var t=/(?:<iframe[^>]*)(?:(?:\/>)|(?:>.*?<\/iframe>))/gi;e.html(e.html().replace(t,""));var i=/<img .*?>/gi;e.html(e.html().replace(i,""))}}function removeAttributes(e){for(var t=e.length,i=["style","class","border"];t--;)for(var a=i.length;a--;)e[t].removeAttribute(i[a])}function categoryItemHovered(){var e=$(window).width();e>767&&$(document).on({mouseenter:function(){if(!($(".js-shop-about-popup-content").length>0)){var e=$(this),t=e.closest(".products__item").outerHeight();e.css({height:t}).addClass("active")}},mouseleave:function(){var e=$(this);e.css({height:"auto"}).removeClass("active")}},".js-category-item-hover")}function shortenText(e,t){return e.length>t?e.substr(0,t)+"...":e}function stripHtmlTags(e){return e=e.replace(/<[^>]+>/g,"")}function stripHtmlTags(e){return e=e.replace(/<[^>]+>/g,"")}function debounce(e,t,i){var a;return function(){var o=this,s=arguments,n=function(){a=null,i||e.apply(o,s)},r=i&&!a;clearTimeout(a),a=setTimeout(n,t),r&&e.apply(o,s)}}function toggleCheckboxInputValue(e){var t=e.data;"false"===$(t.input).val()?($(t.input).val(!0),"#IsCheckAllContact"==e.data.input&&$.publish("segment-identify",["allContactTrue"])):($(t.input).val(!1),"#IsCheckAllContact"==e.data.input&&$.publish("segment-identify",["allContactFalse"]))}function isIE(){var e=navigator.userAgent.toLowerCase();return e.indexOf("msie")!=-1&&parseInt(e.split("msie")[1])}function setCookie(e,t,i){if(0!=i){var a=new Date;a.setTime(a.getTime()+parseInt(24*i*60*60*1e3));var o="expires="+a.toUTCString()}else var o="expires="+i;document.cookie=e+"="+encodeURIComponent(t)+"; "+o}function setCookieCustomPath(e,t,i){if(0!=i){var a=new Date;a.setTime(a.getTime()+parseInt(24*i*60*60*1e3));var o="expires="+a.toUTCString()}else var o="expires="+i;document.cookie=e+"="+encodeURIComponent(t)+"; "+o+";path=/"}function setSessionCookie(e,t){document.cookie=e+"="+encodeURIComponent(t)+"; path=/"}function getCookie(e){for(var t=e+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){for(var o=i[a];" "==o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return""}function eraseCookie(e){setCookie(e,"",-1)}function initDataLayerPush(){$(document).on("click",".js-products__item-link",function(e){if(!$(e.target).hasClass("js-stop-productClick-event")&&(EventManager.publish("dataLayerPushProduct",this),$page.hasClass("category")||$page.hasClass("city"))){var t=$(document).scrollTop();setCookie("scrollTopPosition",t)}})}function initDataLayerRemoveFromCartPush(){$(document).on("click",".delete-from-basket .agree-button",function(){$page.hasClass("cart")?EventManager.publish("dataLayerPushRemoveFromCartBasketAction",this):EventManager.publish("dataLayerPushRemoveFromCartAction",this)})}function openDistrictArea(){if(""!==global.getCookie("addressName")){$(".js-district-text").html(decodeURIComponent(global.getCookie("addressName")).replace(/\+/g," ")),$(".js-district-search-delete").show();var e=$(window).width()/3*2;$(".js-district-text").css({maxWidth:e})}$(".js-open-district-area").on("click",function(){$(".js-hidden-district .js-district-search").find("input").val().replace(" ","").trim().length<3&&$(".js-hidden-district .js-district-search").find("input").val(decodeURIComponent(global.getCookie("addressName")).replace(/\+/g," ")),""!==global.getCookie("addressName")&&$(".js-district-search-delete").show(),$(".js-responsive-overlay").addClass("is-active"),$(".js-hamburger").addClass("hamburger--passive"),$(".js-header-bottom").addClass("responsive-header-passive"),$("body").addClass("is-fixed");var e=$(window).innerHeight()/1.7;$(".js-hidden-district").css({height:e,bottom:-(e+40)}),$(".js-hidden-district").animate({bottom:0},200),$(".js-hidden-district .js-district-search input").on("click",function(){$(this).val(" ")})})}function closeDistrictArea(){$(".js-hidden-district-area-close").on("click",function(){$(".js-responsive-overlay").trigger("click")})}function productCountMobileCopy(){setTimeout(function(){$(".js-responsive-product-count").text($(".js-order-count").text())},100)}function getQuery(e){e=e.toLocaleLowerCase("en-US");var t;return t=getQueryParameterByName(e)}function getQueryParameterByName(e){var t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),a=i.exec(t);return a&&a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):""}function removeQueryParams(e,t){var i,a=t.split("?")[0],o=[],s=t.indexOf("?")!==-1?t.split("?")[1]:"";if(""!==s){o=s.split("&");for(var n=o.length-1;n>=0;n-=1){i=o[n].split("=")[0];for(var r=0;r<e.length;r++)i==e[r]&&o.splice(n,1)}o.length&&(a=a+"?"+o.join("&"))}return a}function cargoRecieverNameValidation(){$("main").is(".receiver, .order-tracking")&&$(".js-address-name, .js-receiver-name").each(function(){if(void 0!=$(this).data("receiver-name-val")){var e=$(this);setTimeout(function(){var t=e.data("receiver-name-val");$.validator.addMethod("pattern",function(e,t,i){var a=new RegExp(i);return this.optional(t)||a.test(e)},t),e.rules("add",{pattern:'[A-Za-z0-9W|_ğüşöçıiIİĞÜŞÖÇ]+\\s+["A-Za-z0-9W|_ğüşöçıiIİĞÜŞÖÇ]+'})},0)}})}function headerInnerItemsTotalWitdh(){var e=0;return $jsMainMenuItem.each(function(){$(this).hasClass("is-hidden")||(e+=$(this).outerWidth())}),e}function hideLastHeaderItem(e,t){var i=headerInnerItemsTotalWitdh();return i>e&&$jsMainMenuItem.eq(t).addClass("is-hidden"),i=headerInnerItemsTotalWitdh(),i>e}function localStorageSupported(){try{return localStorage.setItem("LSControl","1"),localStorage.removeItem("LSControl"),!0}catch(e){return!1}}function copyToClipboard(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}function handleCSCollectButtonClick(){$(document).on("click",".js-collect-button-cs",function(){var e=$(this),t=this.className,i=e.data("collected").toString().toLowerCase(),a=e.data("collect-url"),o=e.data("campaignid"),s=e.data("coupontype"),n=e.data("orderurl"),r=e.data("audience"),l=window.location.pathname,d=global.getUrlParameter("storeid"),c=e.data("noredirect");if(d.length>0&&(l=window.location.pathname+window.location.href.split(window.location.pathname)[1]),a.length>0&&"false"===i){global.createOverlay();var u={CampaignId:o,ReturnUrl:l};$.ajax({type:"POST",url:a,data:u,success:function(i){if(i.Success)segment.vouchersCollected(e),i.IsRedirect?window.location.href=i.RedirectUrl:global.collectButtonChanged(t,o,s,n,r),global.removeOverlay();else if(!i.Success&&i.IsRedirect){var a={campaignid:o,coupontype:s};global.setCookie("collectedVouchersLogout",JSON.stringify(a)),window.location.href=i.RedirectUrl,global.removeOverlay()}else global.popup({message:i.Message,popupType:"alert",confirmAction:"global.collectButtonChanged('"+t+"','"+o+"','"+s+"','"+n+"','"+r+"')",hiddenFunction:function(){global.collectButtonChanged(t,o,s,n,r)}}),global.removeOverlay();e.blur()}})}else"true"===i&1!==s&n.length>0&!("true"==c)&&(window.location.href=n)})}function collectButtonChanged(e,t,i,a,o){if(e.indexOf("js-collect-button-cs")>=0)for(var s=$(".js-collect-button-cs[data-campaignid="+t+"]"),n=0;n<s.length;n++){if(1==i)s.eq(n).text("TOPLANDI").addClass("coupon__button--white"),s.eq(n).parent().parent().find(".js-collected-coupon-badge").addClass("active");else if(1!=i){var r=window.location.pathname+window.location.search;a==r?(s.eq(n).text("TOPLANDI").addClass("coupon__button--white"),s.eq(n).parent().parent().find(".js-collected-coupon-badge").addClass("active"),s.eq(n).data("noredirect","true")):(s.eq(n).text("SİPARİŞ VER").addClass("coupon__button--green"),s.eq(n).parent().parent().find(".js-collected-coupon-badge").addClass("active"))}s.eq(n).data("collected","true"),s.eq(n).attr("is-collected","true")}else if(e.indexOf("js-collect-product-detail-voucher")>=0){var l=$(".js-collect-product-detail-voucher.js-coupon-active");1!=i&&4!=i&&6!=i||o?(l.text("SİPARİŞ VER").addClass("product__coupon-button-green"),l.parent().parent().find(".js-collected-coupon-badge").addClass("active")):(l.text("TOPLANDI").addClass("product__coupon-button-collected"),l.parent().parent().find(".js-collected-coupon-badge").addClass("active"))}}function renderCoupon(e,t,i){var a={category:3!=e.CouponType&&5!=e.CouponType||!e.CategoryName?void 0:e.CategoryName,product_no:(4==e.CouponType||6==e.CouponType)&&e.ProductList.length>0?e.ProductList[0].ProductId:void 0,discount_type:"Amount",discount_amount:e.DiscountValue&&parseInt(e.DiscountValue),collect_status:e.IsCollected,list_sub_type:i},o=$.extend({},a,e.SegmentData),s=e.Logo.indexOf("branch")<0?"coupon__image--cs":"",n="";n+='<div class="coupon-wrapper">',n+='<div class="coupon js-voucher-data-for-segment js-segment-voucher" data-segment-voucher-model="'+encodeURIComponent(JSON.stringify(o))+'">',n+='<div class="coupon__top">',n+='<div class="coupon__image ',n+=s+'">',n+=4==e.CouponType||6==e.CouponType?!t&&e.ProductList[0].IsRequiredLegalPermission?'<img src="'+ageWarningImagePath+'" alt="" width="68" height="68" class="img-responsive"/>':'<img src="'+e.ProductList[0].ImagePath+'" alt="" width="68" height="68" class="img-responsive"/>':'<img src="'+e.Logo+'" alt="" width="68" height="68" class="img-responsive"/>',n+="</div>",n+='<div class="coupon__info">',n+=void 0!=e.StoreLink&&e.StoreLink.length>0?'<a href="'+e.StoreLink+'"> <div class="coupon__brand">'+e.BranchName+" </div> </a>":'<div class="coupon__brand"> '+e.BranchName+"</div>",4==e.CouponType||6==e.CouponType?(n+='<div class="coupon__title"> '+e.ProductList[0].ProductName+"</div>",n+='<div class="coupon__prices">',e.ProductList[0].ShowFirstPrice&&(n+='<span class="old">'+e.ProductList[0].FirstPrice+" "+e.CurrencySymbol+" </span>"),n+='<span class="current">'+e.ProductList[0].TotalPrice+" "+e.CurrencySymbol+"</span>",n+="</div>"):(n+='<div class="coupon__title"> '+e.Description+"</div>",e.MinBasketPrice>0&&(n+='<div class="coupon__subtitle">Minimum '+e.MinBasketPrice+" "+e.CurrencySymbol+" Harcamalara</div>")),n+="</div>";var r="";if(e.IsCollected&&(r="active"),n+='<div class="coupon__collected-badge js-collected-coupon-badge '+r+'">',n+='<img src="//cdn03.ciceksepeti.com/Themes/Ciceksepeti/Assets/images/coupons/badge-collected.png" alt="" class="img-responsive">',n+="</div>",n+="</div>",n+='<div class="coupon__bottom">',n+='<div class="coupon__amount">'+e.DiscountValue+" "+e.CurrencySymbol+"  Kupon</div>",e.IsCollected&&1==e.CouponType)n+='<div class="coupon__button coupon__button--white">TOPLANDI</div>';else if(!e.IsCollected||4!=e.CouponType&&6!=e.CouponType)if(e.IsCollected&&4!=e.CouponType&&6!=e.CouponType){var l=window.location.pathname+window.location.search;n+=null!=e.OrderLink&&e.OrderLink.toLocaleLowerCase()==l.toLocaleLowerCase()?' <div class="coupon__button coupon__button--white">TOPLANDI</div> ':'<a href="'+e.OrderLink+'"><div class="coupon__button coupon__button--green">SİPARİŞ VER</div> </a>'}else n+='<div class="coupon__button js-collect-button-cs" data-collect-url="'+e.CollectButtonUrl+'" data-campaignid="'+e.CampaignId+'" data-coupontype="'+e.CouponType+'" data-orderurl="'+e.OrderLink+'" data-audience="'+e.IsSpecificAudienceTarget+'" data-collected="false">TOPLA</div>';else n+='<a href="'+e.ProductList[0].Link+'"><div class="coupon__button coupon__button--green">SİPARİŞ VER</div> </a>';return n+="</div>",n+="</div>",n+="</div>"}function getUrlParameter(e){var t,i,a=window.location.search.substring(1).toLowerCase(),o=a.split("&");for(i=0;i<o.length;i++)if(t=o[i].split("="),t[0]===e)return void 0===_typeof(t[1])||decodeURIComponent(t[1]);return!1}function showCouponDetailsOnSummary(){$(document).on("untouch click",".js-show-applied-coupons",function(){setTimeout(function(){$(".js-applied-coupons").addClass("active"),$("html").addClass("no-scroll")},100)}),$(document).on("untouch click",".js-toogle-coupon-sticky",function(){setTimeout(function(){$(".js-applied-coupons").addClass("active"),$("html").addClass("no-scroll")},100)})}function hideCouponDetailsOnSummary(){$(document).on("untouch click",".js-close-coupon-details",function(){setTimeout(function(){$(".js-applied-coupons").removeClass("active"),$("html").removeClass("no-scroll")},100)}),$(document).on("untouch click",".js-applied-coupons-backdrop",function(){setTimeout(function(){$(".js-applied-coupons").removeClass("active"),$("html").removeClass("no-scroll")},100)})}function arrayMove(e,t,i){if(i>=e.length)for(var a=i-e.length+1;a--;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e}function getPersonalNavigations(){if($(".js-user-nagivation").length>0){"true"===getCookie("CheckPersonalNavigation")&&(sessionStorage.removeItem("personalNavigation"),setCookie("CheckPersonalNavigation","false")),null!==sessionStorage.getItem("personalNavigation")&&($(".js-user-nagivation .js-main-submenu .js-main-submenu-outer").append(sessionStorage.getItem("personalNavigation")),$(".js-user-nagivation").addClass("filled").removeClass("no-more-submenu"));var e="touchstart";$("html").hasClass("no-touch")&&(e="mouseenter"),$(document).on(e,".js-user-nagivation",function(){$(".js-user-nagivation").hasClass("filled")||null!==sessionStorage.getItem("personalNavigation")||$.get("/Catalog/GetPersonalizedNavigations",function(e,t){$(".js-user-nagivation .js-main-submenu .js-main-submenu-outer").append(e),$(".js-user-nagivation").addClass("filled").removeClass("no-more-submenu"),sessionStorage.setItem("personalNavigation",e)})})}}function toBoolean(e){var t=String(e).toLowerCase();return""==t?"":(t=isNaN(t)||"0"===t||"null"===t||"undefined"===t?t:"1","true"===t||"1"===t)}function getItemCountPerRow(e){var t=$(e).children().not(".js-suggest-category").toArray();if(t.length){var i=t[0].offsetTop,a=function(e,t){for(var i=0;i<e.length;i++)if(e[i].offsetTop>t)return i},o=a(t,i)===-1?t.length:a(t,i);return o}}function getPageType(){return $page.hasClass("category-page")?"category":$page.hasClass("search-page")?"search":$page.hasClass("product")?"product":void 0}function getDeliveryClass(e){var t="";switch(!0){case 1==e:t="products__item-badge--all-region";break;case 2==e:t="products__item-badge--cargo";break;case 4==e:t="products__item-badge--tomorrow";break;default:t="products__item-badge--certain-region"}return t}function countdown(e,t){var i=t.split(" ")[2],a=t,o=new Date(a.replace(/-/g,"/")),s=new Date(o).getTime(),n=$("#serverTime").text(),r=n.split(" ")[1],l=n.split(" ")[0],d=l.split("-")[2],c=l.split("-")[1],u=l.split("-")[0],p=d+"-"+c+"-"+u+" "+r+" "+i,h=new Date(p.replace(/-/g,"/")),m=new Date(h).getTime(),g=parseInt(s-m);if(o<=h)return!1;var v=e,f=v.parents(".js-date-based-campaing"),b=v.parents(".js-product-item-for-countdown"),y=b.find(".products__subscription-price-wrapper"),C=b.find(".js-discount-timer-percent"),w=parseInt(v.attr("data-range")),k=Math.floor(g/864e5),_=Math.floor(g%864e5/36e5),S=Math.floor(g%36e5/6e4),T=Math.floor(g%6e4/1e3),j=100*(60*_+S)/w;if(k>0||_>w/60)return!1;_.toString().length<2&&(_="0"+_),S.toString().length<2&&(S="0"+S),T.toString().length<2&&(T="0"+T),v.html(_+":"+S+":"+T),0==S&&0==_||(f.removeClass("hidden"),y.addClass("hidden"),b.addClass("js-date-based-running"),C.animate({width:j+"%"},{duration:100}));var x=setInterval(function(){return k=Math.floor(g/864e5),_=Math.floor(g%864e5/36e5),S=Math.floor(g%36e5/6e4),T=Math.floor(g%6e4/1e3),j=100*(60*_+S)/w,C.animate({width:j+"%"},{duration:0}),0==S&&0==_?(v.parents(".js-date-based-campaing").addClass("hidden"),void clearInterval(x)):(_.toString().length<2&&(_="0"+_),S.toString().length<2&&(S="0"+S),T.toString().length<2&&(T="0"+T),v.html(_+":"+S+":"+T),void(g-=1e3))},1e3)}function setProductLinkTarget(){$(window).width()>767&&($(".js-products__item-link").attr("target","_blank"),$(".js-similar-product-link").attr("target","_blank"),$(".js-favorite-product-item-link").attr("target","_blank"))}function removeEmojisFromInput(){$(document).on("input paste",".js-emoji-characters",function(e){var t=$(this).val(),i=e.target,a=i.selectionStart;t=t.replace(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff]|\ufe0f)/g,""),$(this).val(t),"input"==e.type&&(i.selectionEnd=a)})}function suggestEmailToUser(){$emailInput.on("keyup paste input focus",function(){var e=$(this).val();e&&e.indexOf("@")>-1&&($emailSuggestions.removeClass("is-hidden").addClass("active"),fillEmailSuggestionWrapper(e))})}function triggerEmailSuggestionsHide(){$("body").on("click",function(e){$(e.target).hasClass("js-email-suggestions")&&$(e.target).hasClass("js-email-suggestion")||!$emailSuggestions.hasClass("active")||$(e.target).hasClass("js-email-input")||hideEmailSuggestions()}),$emailInput.on("keyup touchend change input",function(){$(this).val().indexOf("@")===-1&&hideEmailSuggestions()}),$emailInput.on("keydown",function(e){var t=e.keyCode||e.which;9===t&&hideEmailSuggestions()}),$(".js-password-input").on("focus",function(){hideEmailSuggestions()})}function hideEmailSuggestions(){$emailSuggestions.addClass("is-hidden").removeClass("active")}function emailSuggestionClick(){$("body").on("click",".js-email-suggestion",function(){var e=$(this).text();$(this).parents("form").find($emailInput).val(e),$emailInput.valid()})}function fillEmailSuggestionWrapper(e){$emailSuggestions.html("");var t=e.split("@")[0],i=e.split("@")[1];$.each(emailDomainSuggestions,function(e,a){$emailSuggestions.append('<span class="email-suggestions__email js-email-suggestion">'+t+"@"+a+"</span>"),i&&i.length&&$(".js-email-suggestion").filter(function(){$(this).toggle(0===$(this).text().split("@")[1].indexOf(i))})})}var $page=$("main"),$collapsedContent=$(".collapse"),$dropdown=$(".dropdown"),$dataScroll=$("[data-scroll]"),placeholder,$scrollTopBtn=$(".scroll-top"),$customerConsentContractLink=$(".js-customer-consent-contract"),$customerContractLink=$(".js-customer-contract"),$termsOfUseLink=$(".js-terms-of-use"),$customerPrivacyContractLink=$(".js-customer-privacy"),customerConsentContract="",$forgotPasswordLink=$(".js-forgot-password"),$forgotPasswordInput=$(".js-password-recovery-input"),$recoveryForm=$(".js-password-recovery"),$recoveryButton=$(".js-password-recovery-button"),$recoveryResult=$(".js-password-recovery-result"),$floatPlaceholder=$(".js-placeholder"),$tooltipElement=$('[data-toggle="tooltip"]'),preInfo="",customerContract="",$customerContractCheckbox=$("#IsCustomerContractConfirmed"),$customerContractCorpCheckbox=$("#IsCustomerContractConfirmedCorp"),$fpid,$jsMainMenuItem=$(".js-main-menu-item"),ageWarningImagePath=$(".js-age-warning-image-path").val(),$toogleOrderSummary=$(".js-toggle-order-summary"),$stickyOrderSummary=$(".js-order-summary"),$stickyOrderSummaryIcon=$(".js-order-summary-icon"),$jsOrderSticky=$(".js-responsive-order-sticky"),orderOverlay=$(".js-order-responsive-overlay"),emailDomainSuggestions=$(".js-email-domain-suggestions").val()?$(".js-email-domain-suggestions").val().split(","):"",$emailInput=$(".js-email-input")||$(".js-billing-address-email"),$emailSuggestions=$(".js-email-suggestions"),$jsCategoryMore=$(".js-category-more"),$showWidget=$(".js-show-widget-source").val(),$body=$("body"),toastTimer;return{init:init,isMobile:isMobile,scrollToValidationError:scrollToValidationError,dotToComma:dotToComma,commaToDot:commaToDot,popup:popup,removeModalFromDOM:removeModalFromDOM,
alertBox:alertBox,toast:toast,socialSharePopup:socialSharePopup,setLocation:setLocation,createOverlay:createOverlay,removeOverlay:removeOverlay,createLoaderIn:createLoaderIn,removeLoaderFrom:removeLoaderFrom,htmlFormatPrice:htmlFormatPrice,convertToEn:convertToEn,rebindValidator:rebindValidator,fetchGeneralRegions:fetchGeneralRegions,scrollGoto:scrollGoto,formSubmitToEnter:formSubmitToEnter,formAjaxSendToEnter:formAjaxSendToEnter,removeAttributes:removeAttributes,stripHtmlTags:stripHtmlTags,shortenText:shortenText,asyncSubmitForm:asyncSubmitForm,debounce:debounce,toggleCheckboxInputValue:toggleCheckboxInputValue,isIE:isIE,isIEFix:isIEFix,setCookie:setCookie,setCookieCustomPath:setCookieCustomPath,getCookie:getCookie,eraseCookie:eraseCookie,turkishToLower:turkishToLower,stringEqual:stringEqual,loaderSvg:loaderSvg,productCountMobileCopy:productCountMobileCopy,getFingerPrint:getFingerPrint,setSessionCookie:setSessionCookie,generateUID:generateUID,getQuery:getQuery,getQueryParameterByName:getQueryParameterByName,removeQueryParams:removeQueryParams,modalFooterResponsiveBtnChange:modalFooterResponsiveBtnChange,cardTypeTooltip:cardTypeTooltip,getCaretPosition:getCaretPosition,setCaretPosition:setCaretPosition,localStorageSupported:localStorageSupported,copyToClipboard:copyToClipboard,scrollTopPositionEvent:scrollTopPositionEvent,renderCoupon:renderCoupon,getUrlParameter:getUrlParameter,arrayMove:arrayMove,collectButtonChanged:collectButtonChanged,toBoolean:toBoolean,getItemCountPerRow:getItemCountPerRow,pushDataLayerProdId:pushDataLayerProdId,voucherApplyWarning:voucherApplyWarning,getPageType:getPageType,getDeliveryClass:getDeliveryClass,countdown:countdown,suggestCategory:suggestCategory,setProductLinkTarget:setProductLinkTarget,createOverlayForPayment:createOverlayForPayment,refreshOrderSummary:refreshOrderSummary,stickyTotalTextHtml:stickyTotalTextHtml,checkIsMobileQueryLink:checkIsMobileQueryLink}}(),favorite=function(){"use strict";function e(){r()}function t(e,t){var a=!1;a=!!e.hasClass("add-favorite"),i(e,t,a)}function i(e,t,i){e.addClass("in-active-link"),localStorage.removeItem("favoriteListLogout");var a=localStorage.getItem("favoriteListLogout"),o=[];global.localStorageSupported()&&localStorage.favoriteListLogout?(JSON.parse(a)&&(o=JSON.parse(a)),o.indexOf(t)>=0&&o.splice(o.indexOf(t),1),i||o.splice(0,0,t),localStorage.setItem("favoriteListLogout",JSON.stringify(o)),e.removeClass("in-active-link")):(localStorage.setItem("favoriteListLogout",""),o.push(t),localStorage.setItem("favoriteListLogout",JSON.stringify(o)),e.removeClass("in-active-link")),window.location.href="/uye-girisi?returnUrl="+encodeURIComponent(window.location.pathname+window.location.search)}function a(){if($(".js-login-control").length>0){var e=localStorage.getItem("favoriteListLogout");void 0!=e&&e.length>0?$.ajax({url:"/Customer/AddAllCustomerFavoritesFacebookLogin?favoriteList="+e,type:"POST",cache:!1,success:function(){for(var t=JSON.parse(e),i=0;i<t.length;i++)o(t[i],!0)},complete:function(){localStorage.removeItem("favoriteListLogout")}}):localStorage.removeItem("favoriteListLogout")}}function o(e,t){var i=localStorage.getItem("favoriteList"),a=[];global.localStorageSupported()&&localStorage.favoriteList?(JSON.parse(i)&&(a=JSON.parse(i)),a.indexOf(parseInt(e))>=0&&a.splice(a.indexOf(parseInt(e)),1),t&&a.splice(0,0,parseInt(e)),localStorage.setItem("favoriteList",JSON.stringify(a))):(localStorage.setItem("favoriteList",""),a.push(parseInt(e)),localStorage.setItem("favoriteList",JSON.stringify(a)))}function s(e){$(".js-login-control").length>0&&(void 0!=g&&g.length>0&&"product"!=e?n(g):null!==localStorage.getItem("favoriteList")&&localStorage.getItem("favoriteList").length>0&&"true"===global.getCookie("favTime")?(v=localStorage.getItem("favoriteList"),n(v)):$.ajax({url:"/Customer/GetCustomerFavoriteProductIds",type:"GET",cache:!1,success:function(e){n(JSON.stringify(e.ProductIdList)),g=JSON.stringify(e.ProductIdList),global.localStorageSupported()&&(localStorage.setItem("favoriteList",JSON.stringify(e.ProductIdList)),h(30))}}))}function n(e){for(var t=JSON.parse(e),i=0;i<=t.length;i++)$('.js-favorite-add[data-product-id="'+t[i]+'"]:not(.js-default-favorite)')&&($('.js-favorite-add[data-product-id="'+t[i]+'"]').addClass("add-favorite"),$('.product__main-info .js-favorite-add[data-product-id="'+t[i]+'"]').addClass("add-favorite"))}function r(){$(document).on("click",".js-favorite-add",function(e){e.preventDefault(),e.stopPropagation();var i=$(this),a=$(this).attr("data-product-id");if($(".js-login-control").length>0){var o=global.getCookie("CustomerIdentifier");i.hasClass("add-favorite")?d(i,a,o):l(i,a,o)}else t(i,a)})}function l(e,t,i){var a={productId:t,customerIdentifier:i};$.ajax({url:"/Customer/AddFavoriteProduct",type:"POST",data:JSON.stringify(a),contentType:"application/json; charset=utf-8",cache:!1,beforeSend:function(){e.addClass("in-active-link")},success:function(i){i.Success&&(c(e),o(t,!0),segment.productWishlistEvent(t,!1))},complete:function(){e.removeClass("in-active-link")},error:function(){e.removeClass("in-active-link")}})}function d(e,t,i){var a={productId:t,customerIdentifier:i};$.ajax({url:"/Customer/DeleteFavoriteProduct",type:"POST",data:JSON.stringify(a),contentType:"application/json; charset=utf-8",cache:!1,beforeSend:function(){e.addClass("in-active-link")},success:function(i){i.Success&&(c(e),o(t,!1),segment.productWishlistEvent(t,!0))},complete:function(){e.removeClass("in-active-link")},error:function(){e.removeClass("in-active-link")}})}function c(e){var t=e.attr("data-product-id");$('.js-favorite-add[data-product-id="'+t+'"]').each(function(){$(this).hasClass("add-favorite")?$(this).removeClass("add-favorite"):$(this).addClass("add-favorite")})}function u(){m.is(".home")&&$(".js-login-control").length>0&&$.ajax({url:"/Customer/GetCustomerLastFavoriteProducts",type:"GET",cache:!1,success:function(e){e.ProductList&&e.ProductList.length>0&&p(e.ProductList,e.SegmentListingEventViewModel.Data)}})}function p(e,t){var i="";i+='<div class="home-category__wrapper" id="home-favorites-list">',i+='<div class="home-category__title">En Son Favorilere Eklediğiniz Ürünler</div>',i+='<div class="home-category__slider c-products js-favorite-container">';for(var a=0;a<e.length;a++){if(i+='<div class="c-products__item js-listing-product-item" data-segment-listing-product-model="'+encodeURIComponent(e[a].SegmentListingProductModel)+'">',i+='<div class="c-products__item-inner">',i+='<a  data-productcode="'+e[a].ProductCode+'" href="/'+e[a].AdsProductLink+'" class="c-products__item-link js-favorite-product-item-link">',i+='<div class="c-products__item-img-container ratio-container">',""!=e[a].DeliveryCityImage&&(i+='<img class="c-products__item-img--city" src="'+e[a].DeliveryCityImage+'" alt="ciceksepeti" />'),i+='<span class="c-products__favorite-icon add-favorite js-favorite-add js-default-favorite" data-product-id="'+e[a].Id+'"><span class="icon-favorite-border"></span></span>',i+='<img width="134" height="144" alt="" src="'+e[a].PicturePath+'" class="c-products__item-img" />',i+="</div>",i+='<div class="c-products__item-info">',i+='<div class="c-products__item-badge">',i+='<span class="c-products__item-badge--all-region">'+e[a].ProductTransportModel.DeliveryMessage+"</span>",i+="</div>",i+='<div class="c-products-stars">',i+='<div class="c-products-stars__dropdown-evaluation">',e[a].ReviewRating>0){for(var o=0;o<5;o++)i+=' <div class="c-products-stars__icon-wrapper"> ',e[a].ReviewRating-o<=.5&&e[a].ReviewRating-o>0?(i+=' <span class="icon-star-fill c-products-stars__icon is-passive"></span> ',i+=' <span class="icon-star-fill c-products-stars__icon icon-half"></span> '):i+=e[a].ReviewRating-o>.5?' <span class="icon-star-fill c-products-stars__icon"></span> ':' <span class="icon-star-fill c-products-stars__icon is-passive"></span> ',i+=" </div> ";var s="";e[a].ReviewCount>99999&&(e[a].ReviewCount=99999,s="+"),e[a].ReviewCount>0&&(i+="<span class='c-products-stars__review-count'>("+e[a].ReviewCount+s+")</span>")}i+="</div>",i+="</div>",i+='<div class="c-products__item-price">',i+='<div class="price price--old">',e[a].PriceWithTax.replace(",",".")>0&&1==e[a].ShowFirstPrice&&(i+='<div class="price__left"><span class="price__integer-value">'+e[a].PriceWithTax.split(",")[0]+"</span></div>",i+='<div class="price__right"><span class="price__decimal-value-with-currency">,'+e[a].PriceWithTax.split(",")[1]+" TL</span></div>"),i+="</div>",i+='<div class="clearfix"></div>',i+='<div class="price price--now">',i+='<div class="price__left"><span class="price__integer-value">'+e[a].TotalPrice.split(",")[0]+"</span></div>",i+='<div class="price__right"><span class="price__decimal-value-with-currency">,'+e[a].TotalPrice.split(",")[1]+" TL</span></div>",i+="</div>",i+="</div>",i+="</div>",i+="</a>",i+="</div>",i+="</div>"}i+="</div>",i+='<input type="hidden" class="js-segment-listing-data" value='+t+" ",i+="</div>",$(".js-html-favorite").html(i),segment.productListViewedEvent($(".js-listing-product-item"),$("#home-favorites-list")),global.setProductLinkTarget()}function h(e){var t=new Date;t.setTime(t.getTime()+parseInt(60*e*1e3));var i="expires="+t.toUTCString();document.cookie="favTime=true; expires="+i}var m=$("main"),g=[],v=[];return{init:e,customerfavoriteGet:u,favoriteProductSet:s,fbLoginControl:a,favoritesListAddLocalStroge:o}}(),smartBanner=function(){"use strict";function e(){s(),a(),o()}function t(){l.removeClass("is-hidden"),u.addClass("with-smart-banner")}function i(){l.addClass("is-hidden"),u.removeClass("with-smart-banner")}function a(){c.on("click",function(){i()})}function o(){$(window).scroll(function(){$(window).scrollTop()>100&&i()})}function s(){global.isMobile()!==!1&&document.referrer.split("/")[2]!==window.location.host?(n(),t()):i()}function n(){d.click(function(){"iOS"===global.isMobile()?(setTimeout(function(){window.location="itms-apps://itunes.apple.com/us/app/cicek-sepeti/id723715907"},2e3),setTimeout(function(){window.location.reload()},3e3),window.location=r):"Android"===global.isMobile()&&window.open(r)})}var r=$("link[rel='alternate']").attr("href"),l=$(".smart-banner"),d=$(".js-smart-banner-download"),c=$(".js-smart-banner-close"),u=$(".js-hamburger");return{init:e}}(),wallet=function(){"use strict";function e(){a(),d(),b(),c(),u(),C(),h(),y(),p(),$e.hasClass("product")&&(w(),k()),$e.hasClass("account")&&(S(),j(),D(),H(),q(),W(),G(),Q(),K(),J(),te(),se(),ne(),ue(),me(),$e.hasClass("has-wallet-account")&&(oe(),ge(),he(),T(_)))}function t(e,t,a){be=a?a:"",global.removeOverlay(),global.popup({custom:!0,customHtml:i(e,t),shownFunction:function(){$("body").addClass("is-fixed")},hiddenFunction:function(){$("body").removeClass("is-fixed")}}),$(".js-create-wallet-phone-input-from-popup").mask("05999999999"),$("#walletForm").validate({rules:{field:{required:!0}}})}function i(e,t){var i="";return i='<div class="modal fade modal-wallet" id="modalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',i+='<div class="modal-dialog modal-wallet__modal-width">',i+='<div class="modal-content">',i+='<div class="modal-header modal-wallet__modal-header clearfix">',i+='<span class="modal-wallet__modal-title info-title create-wallet-modal">Çiçeksepeti Cüzdanımı Aktif Et</span>',i+='<span class="modal-icon icon-close-line" data-dismiss="modal" aria-label="Close"></span>',i+="</div>",i+='<form id="walletForm" autocomplete="off">',i+='<div class="modal-body modal-wallet__modal-body padding-bottom-0 clearfix" id="bottomModal">',i+='<p class="modal-wallet__modal-message-wallet-active">'+e+"</p>",i+='<div class="modal-wallet__modal-form-group modal-wallet__modal-form-group--input">',i+='<label class="modal-wallet__modal-form-group__label">Cep Telefonunuzu Girin</label>',i+='<input type="text" class="modal-wallet__modal-form-group__input js-create-wallet-phone-input-from-popup" value="05" name="field" id="field" pattern="\\d*" />',i+="</div>",i+='<div class="modal-wallet__modal-form-group">',i+='<div class="js-wallet-phone-number-from-popup clearfix hide">',i+='<span class="field-validation-error js-wallet-error-field-from-popup"></span>',i+="</div>",i+="</div>",i+='<div class="form-group modal-wallet__modal-form-text-group">',i+='<input type="checkbox" name="" id="checkWalletContact" value="true" class="js-wallet-contract-check-from-popup">',i+='<label for="checkWalletContact">Cüzdan <a class="modal-wallet__modal-contract-popup js-customer-wallet-contract-from-popup" href="javascript:void(0);">Bireysel Kullanıcı Sözleşmesi</a>’ni kabul ediyorum.</label>',i+='<span class="field-validation-error hide js-wallet-contract-error-field-from-popup"></span>',i+="</div>",i+='<div class="modal-wallet__modal-contract-content js-wallet-contract-load">',i+="</div>",i+="</div>",i+='<div class="modal-footer modal-wallet__modal-footer">',i+='<button type="button" class="agree-button btn btn-primary modal-wallet__modal-btn-block js-create-wallet-from-popup" data-type="'+t+'">',i+="Devam Et",i+="</button>",i+="</div>",i+="</form>",i+="</div>",i+="</div>",i+="</div>"}function a(){$(document).on("click",".js-create-wallet-from-popup",function(){var e=$(this),t=e.data("type");if($(".js-create-wallet-phone-input-from-popup").val().length<11)return $(".js-create-wallet-phone-input-from-popup").addClass("input-validation-error"),$(".js-wallet-phone-number-from-popup").removeClass("hide"),$(".js-wallet-error-field-from-popup").html("Bu bilginin doldurulması zorunludur."),!1;if($(".js-create-wallet-phone-input-from-popup").removeClass("input-validation-error"),$(".js-wallet-phone-number-from-popup").addClass("hide"),$(".js-wallet-error-field-from-popup").html(""),!$(".js-wallet-contract-check-from-popup").is(":checked"))return $(".js-wallet-contract-error-field-from-popup").removeClass("hide").html("Lütfen Bireysel Kullanıcı Sözleşmesi'ni onaylayınız."),!1;$(".js-wallet-contract-error-field-from-popup").addClass("hide").html(""),fe=$(".js-create-wallet-phone-input-from-popup").val(),e.prop("disabled",!0);var i={PhoneNumber:fe};$.ajax({url:"/Wallet/Create",data:i,type:"POST",success:function(e){e.IsSuccess?e.SmsVerificationRequired?(m(),setTimeout(function(){o(e,t),s(e.ExpireTime),Ce=!0},250),segment.pageView(e.PageScreenEventViewModel.Name,JSON.parse(e.PageScreenEventViewModel.Data))):"create"==t?(m(),e.Popup?setTimeout(function(){r(e.Popup.Title,e.Popup.Description)},250):global.popup({message:"İşlem Başarısız."})):"cancel"==t?(m(),setTimeout(function(){g(be)},250)):"refund"==t&&(global.createOverlay(),$("#RefundOrderItem").submit()):($(".js-create-wallet-phone-input-from-popup").addClass("input-validation-error"),$(".js-wallet-phone-number-from-popup").removeClass("hide"),$(".js-wallet-error-field-from-popup").html(e.ErrorMessage))},error:function(e){global.popup({message:"İşlem Başarısız."})},complete:function(){e.prop("disabled",!1)}})})}function o(e,t){global.popup({custom:!0,customHtml:n(e,t),hiddenFunction:function(){clearInterval(ve),$("body").removeClass("is-fixed")}}),$("body").addClass("is-fixed")}function s(e){ve=setInterval(function(){e<=0&&(clearInterval(ve),$(".js-wallet-verify-input").val(""),$(".js-get-code-for-wallet-approve").prop("disabled",!1),$(".js-wallet-approve-error").text("Onay kodunu belirtilen sürede giremediniz. Kodu Tekrar Gönder'e tıklayarak yeni bir onay kodu talep ediniz."),Ce=!1),$(".js-wallet-approve-countdown").text(e--)},1e3)}function n(e,t){var i=e.PhoneNumber.substring(1),a=i.replace(/(\d)(\d\d\d)(\d\d\d)(\d\d)(\d\d)/,"$1 ($2) $3 $4 $5"),o="";o='<div class="modal fade modal-wallet" id="customModalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',o+='<div class="modal-dialog modal-wallet__modal-width">',o+='<div class="modal-content">',o+='<div class="modal-header modal-wallet__modal-header clearfix">',o+='<span class="modal-wallet__modal-title info-title create-wallet-modal">Onay Kodunu Girin</span>',o+='<span class="modal-icon icon-close-line js-kill-wallet-approve-interval" data-dismiss="modal" aria-label="Close"></span>',o+="</div>",o+='<div class="modal-body modal-wallet__modal-body clearfix" id="bottomModal">',o+='<p class="modal-wallet__modal-message">Çiçeksepeti Cüzdan\'ınızı oluşturmaya devam etmek için lütfen '+a+" numarasına gelen onay kodunu giriniz.</p>",o+='<div class="modal-wallet__modal-form-title">'+e.CodeLength+" Haneli Onay Kodu</div>",o+='<div class="modal-wallet__modal-input-row">';for(var s=0;s<e.CodeLength;s++)o+='<input type="tel" class="modal-wallet__modal-approve-input js-wallet-verify-input js-only-number" />';return o+="</div>",o+='<div class="modal-wallet__modal-approve-countdown"><span class="js-wallet-approve-countdown">'+e.ExpireTime+"</span>sn</div>",o+='<div class="modal-wallet__modal-approve-error-text js-wallet-approve-error"></div>',o+="</div>",o+='<div class="modal-footer modal-wallet__modal-footer">',o+='<button type="button" class="agree-button btn btn-primary modal-wallet__modal-btn-block js-wallet-phone-verify" data-type="'+t+'" data-phone="'+i+'">',o+="Onayla",o+="</button>",o+='<button type="button" class="btn btn-underlined btn-underlined--gray modal-wallet__modal-btn-block js-get-code-for-wallet-approve modal-wallet__disabled-btn" disabled>',o+="Kodu tekrar gönder",o+="</button>",o+="</div>",o+="</div>",o+="</div>",o+="</div>"}function r(e,t){global.popup({custom:!0,customHtml:l(e,t),hiddenFunction:function(){clearInterval(ve),$("body").removeClass("is-fixed")}}),$("body").addClass("is-fixed")}function l(e,t){var i="";return i='<div class="modal fade modal-wallet" id="customModalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',i+='<div class="modal-dialog modal-wallet__modal-width">',i+='<div class="modal-content">',i+='<div class="modal-body modal-wallet__modal-body modal-wallet__modal-body-padding clearfix" id="bottomModal">',i+='<span class="modal-wallet__modal-wallet-icon__bg"><span class="icon-wallet-carrot modal-wallet__modal-wallet-icon inline"></span></span>',i+='<p class="modal-wallet__modal-body-title">'+e+"</p>",i+='<p class="modal-wallet__modal-message">'+t+"</p>",i+="</div>",i+='<div class="modal-footer modal-wallet__modal-footer">',i+='<button type="button" class="agree-button btn btn-primary modal-wallet__modal-btn-single-block" data-dismiss="modal">',i+="Tamam",i+="</button>",i+='<a type="button" class="btn btn-underlined btn-underlined--gray modal-wallet__modal-btn-block modal-wallet__disabled-btn" href="/hesabim/cuzdanim">',i+="Cüzdan'a Git",i+="</a>",i+="</div>",i+="</div>",i+="</div>",i+="</div>"}function d(){$(document).on("click",".js-wallet-phone-verify",function(){for(var e=$(this),t=e.data("type"),i=$(".js-wallet-verify-input"),a="",o=0;o<i.length;o++)a+=$(i[o]).val();if(a.length<=0)return $(".js-wallet-approve-error").text(i.length+" haneli onay kodunun girilmesi zorunludur."),$(".js-wallet-verify-input").addClass("input-validation-error"),!1;fe=e.data("phone");var s={PhoneNumber:fe,Code:a,ShowPopupOnSuccess:Te};e.prop("disabled",!0),$.ajax({url:"/Wallet/Verify",data:s,type:"POST",success:function(i){i.IsSuccess?"create"==t?($.publish("segment-identify",["updateProfileWallet"]),i.ShowPopupOnSuccess?(m(),setTimeout(function(){r(i.Popup.Title,i.Popup.Description)},250)):window.location.reload()):"cancel"==t?(m(),$.publish("segment-identify",["updateProfileWallet"]),setTimeout(function(){g(be)},250)):"refund"==t&&($.publish("segment-identify",["updateProfileWallet"]),global.createOverlay(),$("#RefundOrderItem").submit()):($(".js-wallet-verify-input").val(""),$(".js-wallet-approve-error").text(i.Message),$(".js-wallet-verify-input").addClass("input-validation-error"),e.prop("disabled",!1))},error:function(t){e.prop("disabled",!1),m(),global.popup({message:"İşlem Başarısız."})}})})}function c(){$(document).on("click",".js-get-code-for-wallet-approve",function(){var e=$(this);if(Ce)return $(".js-wallet-approve-error").text("Yeni kod için sürenin bitmesini bekleyin!"),!1;var t={PhoneNumber:fe};e.prop("disabled",!0),$.ajax({url:"/Wallet/Create",data:t,type:"POST",success:function(e){e.IsSuccess?e.SmsVerificationRequired?(clearInterval(ve),s(e.ExpireTime),$(".js-wallet-approve-error").text(""),$(".js-wallet-verify-input").removeClass("input-validation-error"),Ce=!0,setTimeout(function(){$(".js-get-code-for-wallet-approve").prop("disabled",!0)},100),segment.pageView(e.PageScreenEventViewModel.Name,JSON.parse(e.PageScreenEventViewModel.Data))):window.location.reload():($(".js-wallet-phone-number-from-popup").addClass("input-validation-error"),$(".js-wallet-create-error").removeClass("hide"),$(".js-wallet-error-field").html(e.ErrorMessage))},error:function(e){$(".js-wallet-approve-error").text("İşlem Başarısız.")},complete:function(){e.prop("disabled",!1)}})})}function u(){$(document).on("keyup input",".js-wallet-verify-input",function(e){var t=$(this);$(".js-wallet-verify-input").hasClass("input-validation-error")&&($(".js-wallet-approve-error").text(""),$(".js-wallet-verify-input").removeClass("input-validation-error")),e=e?e:window.event;var i=e.which?e.which:e.keyCode,a=$(this).val();if(a.length>1)for(var o=a.trim().split(""),s=$(".js-wallet-verify-input"),n=0;n<s.length;n++)$(s[n]).val(o[n]),s.last().focus();else 1==t.val().length?t.next().hasClass("js-wallet-verify-input")&&(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105||229==e.keyCode)&&t.next().focus():0==t.val().length&&(!t.prev().hasClass("js-wallet-verify-input")||8!=i&&127!=i||t.prev().focus())}),$(document).on("keypress",".js-wallet-verify-input",function(e){var t=$(this).val();void 0!=t&&t.toString().length>=1&&$(this).val("")})}function p(){$(document).on("keypress","body",function(e){13===e.keyCode&&$("#walletForm").length>0&&$(".js-create-wallet-from-popup").length>0&&(e.preventDefault(),e.stopPropagation(),$(".js-create-wallet-from-popup").trigger("click"))})}function h(){$(document).on("change",".js-wallet-contract-check-from-popup",function(){$(".js-wallet-contract-error-field-from-popup").addClass("hide").html("")})}function m(){$(".modal").each(function(){$(this).remove()}),$(".modal-backdrop").each(function(){$(this).remove()})}function g(e){var t={CancelUrl:e};$.ajax({url:"/Customer/CheckWalletForCancelAndRefund",type:"POST",data:t,success:function(e){m(),setTimeout(function(){""!=we?(be=e.CancelUrl,v(we,_e,ke)):window.location.href=e.CancelUrl},100)},error:function(e){m(),setTimeout(function(){global.popup({message:"İşlem Başarısız."})},1e3)}})}function v(e,t,i){global.popup({custom:!0,customHtml:f(e,t,i),loadnFunction:global.modalFooterResponsiveBtnChange()}),$(".js-cancel-order-val").selectize({onBlur:function(){$(".selectize-dropdown").css({display:"none"})}})}function f(e,t,i){var a;if(a='<div class="modal fade account-cancel__modal" id="modalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',a+='<div class="modal-dialog">',a+='<div class="modal-content">',a+='<div class="modal-header">',a+='<span class="modal-icon icon-close-line" data-dismiss="modal" aria-label="Close"></span>',a+='<h4 class="modal-title">Sipariş İptali</h4>',a+="</div>",a+='<div class="modal-body">',a+='<div class="row">',"true"==String(t)){if(a+='<div class="col-md-12">',a+="<p>Lütfen iptal etme sebebinizi seçiniz</p><br>",a+='<select class=" white-selectbox account-cancel__modal--selectbox js-cancel-order-val" data-val="true" data-val-number="The field SendingReasonId must be a number." id="" name="">',a+='<option value="">İptal Sebebi Seçiniz</option>',e.length>0)for(var o=0;o<e.length;o++)a+='<option value="'+e[o].Value+'">'+e[o].Text+"</option>";a+="</select>",a+='<span class="field-validation-error js-cancel-order-validation" ><span class="">Bu bilginin doldurulması zorunludur.</span></span>',a+="</div>"}return"false"==String(t)&&(a+='<div class="col-md-12 col-md-12--height-auto">',a+="<p>",a+=""!==i?i:"Siparişiniz talebiniz doğrultusunda iptal edilecektir. Ücret iadeniz bankanızın işleyişine göre 1-10 iş günü içerisinde hesabınıza yansıyacaktır. Onaylıyor musunuz?",a+="</p><br>",a+="</div>"),a+="</div>",a+="</div>",a+='<div class="modal-footer">',a+='<button type="button" class="btn btn-underlined btn-underlined--gray" onclick="undefined" data-dismiss="modal"><span class="icon-left-arrow btn-underlined__left-icon"></span>Vazgeç</button>',"true"==String(t)&&(a+='<button type="button" class="btn btn-primary js-cancel-order-confirmation agree-button">Siparişi İptal Et</button>'),"false"==String(t)&&(a+='<button type="button" class="btn btn-primary js-cancel-order-confirmation agree-button">Onayla</button>'),a+="</div>",a+="</div></div></div>"}function b(){$(document).on("click",".js-kill-wallet-approve-interval",function(){clearInterval(ve)})}function y(){$(document).on("blur",".js-create-wallet-phone-input-from-popup",function(){return $(".js-create-wallet-phone-input-from-popup").val().length<11?($(".js-create-wallet-phone-input-from-popup").addClass("input-validation-error"),$(".js-wallet-phone-number-from-popup").removeClass("hide"),$(".js-wallet-error-field-from-popup").html("Bu bilginin doldurulması zorunludur."),!1):($(".js-create-wallet-phone-input-from-popup").removeClass("input-validation-error"),$(".js-wallet-phone-number-from-popup").addClass("hide"),$(".js-wallet-error-field-from-popup").html(""),void 0)})}function C(){$(document).on("click",".js-customer-wallet-contract-from-popup",function(){if($(this).hasClass("active"))$(this).removeClass("active"),$(".js-wallet-contract-load").html("");else{if($(this).addClass("active"),""!==Se)return void $(".js-wallet-contract-load").html(Se);var e=$.post("/Wallet/Contract");e.done(function(e){Se=e.content,$(".js-wallet-contract-load").html(Se)})}})}function w(){var e=$(".js-product-category-id").data("id"),t=$(".js-price-container").attr("data-price"),i=$(".js-branch-id").val();e&&t&&$.ajax({type:"GET",url:"/Wallet/GetProductDetailWalletBanner?categoryId="+e+"&productPrice="+t+"&branchId="+i,success:function(e){e.length>0?(je.html(e),window.location.search.indexOf("walletBanner")>=0&&je.trigger("click")):je.html("")}})}function k(){je.click(function(){var e=window.location.pathname,i="?walletBanner";m(),$.ajax({type:"GET",url:"/Wallet/GetProductDetailWalletPopup?returnUrl="+e+i,success:function(e){global.createOverlay(),e.IsCustomerLogin?e.IsCustomerHasWallet?global.removeOverlay():t(e.PopupDescriptionText,"create"):!e.IsCustomerLogin&&e.RedirectUrl?(window.location.href=e.RedirectUrl,global.removeOverlay()):global.removeOverlay()}})})}function _(e){var t=e;$.validator.addMethod("maxValue",function(e,t,i){var e=$(t).val(),a=$(t).attr("maxvalue");return"number"==typeof a&&(a=a.toFixed(2)),this.optional(t)||parseFloat(e.replace(",","."))<=parseFloat(a)},function(e,t){var i=e;return"number"==typeof i&&(i=i.toFixed(2)),i=i.replace(".",","),"En fazla "+i+" TL yükleyebilirsiniz."}),$(document).on("keydown",".js-wallet-amount-mask",function(e){e=e?e:window.event;var i=e.which?e.which:e.keyCode,a=$(this),o=a.val(),s=new RegExp(t,"g");127!=i&&8!=i&&setTimeout(function(){var e=a.val();s.test(e)||a.val(o)},10)})}function S(){$e.hasClass("account-wallet")&&$("#PhoneNumber").mask("05999999999")}function T(e){$.get("/Wallet/Regex").done(function(t){var i=t.AddBalanceLeftCharLimit-1,a=t.AddBalanceRightCharLimit,o="^[1-9]\\d{0,"+i+"}(\\,\\d{0,"+a+"})?$";e(o)})}function j(){$(document).on("keyup paste","#WalletCreditCardNumber",function(e){if(!global.isIEFix())var t=global.getCaretPosition(this);$(this).payform("formatNumeric"),$(this).val($(this).val().replace(/[^0-9]/g,"")),global.isIEFix()||global.setCaretPosition(this,t.start,t.end),e.stopPropagation(),e.preventDefault(),x($(this).val())}),global.cardTypeTooltip(0)}function x(e){var t=$.payform.parseCardType(e);"visa"===t?global.cardTypeTooltip(0):"mastercard"===t?global.cardTypeTooltip(0):"amex"===t?($("#Cvv").attr("maxlength",4),global.cardTypeTooltip(1)):(global.cardTypeTooltip(0),$("#Cvv").attr("maxlength",3))}function D(){De.on("click",function(e){return Pe?(e.preventDefault(),e.stopPropagation(),!1):(Pe=!0,Ie=1,void P(Ie))})}function I(){$(".js-modal-summary-body").data("total-page")>=Ie&&Ae&&(Ae=!1,ye&&4!=ye.readyState&&ye.abort(),ye=$.ajax({url:"/Wallet/Transaction?page="+Ie,type:"GET",beforeSend:function(){global.createOverlay()},success:function(e){Ie++;var t="";t+=e.Html,$(".js-modal-summary-body").append(t),global.removeOverlay(),setTimeout(function(){Ae=!0},0),segment.pageView(e.PageScreenEventViewModel.Name,JSON.parse(e.PageScreenEventViewModel.Data))},error:function(e){0!=ye.readyState&&(m(),setTimeout(function(){global.popup({message:"İşlem Başarısız."})},100)),global.removeOverlay(),setTimeout(function(){Ae=!0},0)}}))}function P(e){$.ajax({url:"/Wallet/Transaction?page="+e,type:"GET",success:function(e){Ie++,global.popup({custom:!0,customHtml:A(e),hiddenFunction:function(){$("body").removeClass("is-fixed")}}),$("body").addClass("is-fixed"),setTimeout(function(){$("#summaryModalBody").scrollTop(0),$("#summaryModalBody").bind("scroll",function(e){var t=$(this).scrollTop(),i=$(this).height(),a=$(".js-modal-summary-body").height(),o=t/(a-i)*100;setTimeout(function(){o>60&&I()},250)})},200),segment.pageView(e.PageScreenEventViewModel.Name,JSON.parse(e.PageScreenEventViewModel.Data))},error:function(e){global.popup({message:"İşlem Başarısız."})},complete:function(e){Pe=!1}})}function A(e){var t="";return t='<div class="modal fade modal-wallet" id="customModalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',t+='<div class="modal-dialog modal-wallet__modal-width-summary">',t+='<div class="modal-content">',t+='<div class="modal-header clearfix">',t+='<span class="modal-wallet__modal-title info-title">Hesap Özeti</span>',t+='<span class="modal-icon icon-close-line" data-dismiss="modal" aria-label="Close"></span>',t+="</div>",t+='<div class="modal-body modal-wallet__modal-body-summary clearfix" id="summaryModalBody">',t+='<div class="js-modal-summary-body" data-total-page="'+e.TotalPage+'">',t+=e.Html,t+="</div>",t+="</div>",t+="</div>",t+="</div>",t+="</div>"}function E(e,t){var i={message:"Çiçeksepeti Cüzdanım'a "+e+" TL Yüklediniz!"},a=O(i);global.popup({message:a,customDialogClass:"modal-wallet__modal-width modal-wallet__add-balance",popupType:"custom",customButtonName:"Tamam",customButtonClass:"agree-button btn btn-primary modal-wallet__modal-btn-single-block",hiddenFunction:function(){m(),$("html").removeClass("modal-open"),t&&le(t)}})}function O(e){var t="";return t+='<span class="modal-icon icon-close-line" data-dismiss="modal" aria-label="Close"></span>',t+='<span class="modal-wallet__modal-wallet-icon__bg"><span class="icon-check modal-wallet__modal-wallet-icon inline"></span></span>',t+='<p class="modal-wallet__modal-body-title">Bakiyeniz Yüklendi!</p>',t+='<p class="modal-wallet__modal-message">'+e.message+"</p>"}function M(e){var t={title:"Bakiye yüklenirken bir hata oluştu!",message:e};global.popup({custom:!0,customHtml:L(t)})}function L(e){var t="";return t='<div class="modal fade modal-wallet" id="modalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',t+='<div class="modal-dialog modal-wallet__modal-width">',t+='<div class="modal-content">',t+='<div class="modal-body modal-wallet__modal-body padding-bottom-0 clearfix" id="bottomModal">',t+='<span class="modal-icon icon-close-line" data-dismiss="modal" aria-label="Close"></span>',t+='<span class="icon-subscription-alert modal-wallet__modal-wallet-icon subscribe-icon-attention" style="display:inline-block"></span>',t+='<p class="modal-wallet__modal-body-title">'+e.title+"</p>",t+='<p class="modal-wallet__modal-message">'+e.message+"</p>",t+="</div>",t+='<div class="modal-footer modal-wallet__modal-footer">',t+='<button type="button" class="agree-button btn btn-primary modal-wallet__modal-btn-single-block" data-dismiss="modal">',t+="Tamam",t+="</button>",t+="</div>",t+="</div>",t+="</div>",t+="</div>"}function z(e){
var t={message:e};global.popup({custom:!0,customHtml:F(t)})}function F(e){var t="";return t='<div class="modal fade modal-wallet" id="modalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',t+='<div class="modal-dialog modal-wallet__modal-width">',t+='<div class="modal-content">',t+='<div class="modal-header modal-wallet__modal-header clearfix">',t+='<span class="modal-wallet__modal-title info-title">Hızlı İade</span>',t+='<span class="modal-icon icon-close-line" data-dismiss="modal" aria-label="Close"></span>',t+="</div>",t+='<div class="modal-body modal-wallet__modal-body padding-bottom-0 clearfix" id="bottomModal">',t+='<p class="modal-wallet__modal-message-wallet-active">'+e.message+"</p>",t+="</div>",t+='<div class="modal-footer modal-wallet__modal-footer">',t+='<button type="button" class="agree-button btn btn-primary modal-wallet__modal-btn-block js-transfer-to-my-wallet-for-refund">',t+="Hemen Cüzdanıma Aktar",t+="</button>",t+='<button type="button" class="btn modal-wallet__modal-btn-block modal-wallet__modal-refund-btn js-transfer-to-my-card-for-refund">',t+="Kartıma Aktar",t+="<span>(Bankanıza bağlı olarak 1-10 iş günü sürebilir)</span>",t+="</button>",t+="</div>",t+="</div>",t+="</div>",t+="</div>"}function B(e){var t={message:e};global.popup({custom:!0,customHtml:R(t)})}function R(e){var t="";return t='<div class="modal fade modal-wallet" id="modalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',t+='<div class="modal-dialog modal-wallet__modal-width">',t+='<div class="modal-content">',t+='<div class="modal-header modal-wallet__modal-header clearfix">',t+='<span class="modal-wallet__modal-title info-title">Sipariş İptali</span>',t+='<span class="modal-icon icon-close-line absolute-icon" data-dismiss="modal" aria-label="Close"></span>',t+="</div>",t+='<div class="modal-body modal-wallet__modal-body padding-bottom-0 clearfix" id="bottomModal">',t+='<p class="modal-wallet__modal-message-wallet-active">'+e.message+"</p>",t+="</div>",t+='<div class="modal-footer modal-wallet__modal-footer">',t+='<button type="button" class="agree-button btn btn-primary modal-wallet__modal-btn-block js-transfer-to-my-wallet">',t+="Hemen Cüzdanıma Aktar",t+="</button>",t+='<button type="button" class="btn modal-wallet__modal-btn-block modal-wallet__modal-refund-btn js-transfer-to-my-card">',t+="Kartıma Aktar",t+="<span>(Bankanıza bağlı olarak 1-10 iş günü sürebilir)</span>",t+="</button>",t+="</div>",t+="</div>",t+="</div>",t+="</div>"}function N(e){var t={message:e};global.popup({custom:!0,customHtml:V(t)})}function V(e){var t;return t='<div class="modal fade account-cancel__modal" id="modalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',t+='<div class="modal-dialog">',t+='<div class="modal-content">',t+='<div class="modal-header">',t+='<span class="modal-icon icon-close-line" data-dismiss="modal" aria-label="Close"></span>',t+='<h4 class="modal-title">Sipariş İptali</h4>',t+="</div>",t+='<div class="modal-body">',t+='<div class="row">',t+='<div class="col-md-12 col-md-12--height-auto">',t+="<p>"+e.message+"</p><br>",t+="</div>",t+="</div>",t+="</div>",t+='<div class="modal-footer">',t+='<button type="button" class="btn btn-underlined btn-underlined--gray" onclick="undefined" data-dismiss="modal"><span class="icon-left-arrow btn-underlined__left-icon"></span>Vazgeç</button>',t+='<button type="button" class="btn btn-primary js-cancel-order-pay-my-wallet agree-button">Onayla</button>',t+="</div>",t+="</div></div></div>"}function H(){var e=$(".js-wallet-refund-title").val(),t=$(".js-wallet-refund-desc").val();e&&t&&window.location.search.indexOf("wf")>=0&&window.location.search.indexOf("pagenumber")<0&&global.popup({custom:!0,customHtml:U(e,t),hiddenFunction:function(){var e=window.location.origin+window.location.pathname+window.location.search.split("wf")[0].slice(0,-1);history.replaceState({},document.title,e)}})}function U(e,t){var i="";return i='<div class="modal fade modal-wallet" id="customModalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',i+='<div class="modal-dialog modal-wallet__modal-width">',i+='<div class="modal-content">',i+='<div class="modal-body modal-wallet__modal-body modal-wallet__modal-body-padding padding-bottom-0 clearfix" id="bottomModal">',i+='<span class="modal-wallet__modal-wallet-icon__bg"><span class="icon-wallet-carrot modal-wallet__modal-wallet-icon inline"></span></span>',i+='<p class="modal-wallet__modal-body-title">'+e+"</p>",i+='<p class="modal-wallet__modal-message">'+t+"</p>",i+="</div>",i+='<div class="modal-footer modal-wallet__modal-footer">',i+='<button type="button" class="agree-button btn btn-primary modal-wallet__modal-btn-single-block" data-dismiss="modal">',i+="Tamam",i+="</button>",i+='<a type="button" class="btn btn-underlined btn-underlined--gray modal-wallet__modal-btn-block modal-wallet__disabled-btn" href="/hesabim/cuzdanim">',i+="Cüzdan'a Git",i+="</a>",i+="</div>",i+="</div>",i+="</div>",i+="</div>"}function q(){$(document).on("click",".js-create-wallet",function(){var e=$(this);if($(".js-wallet-phone-number").removeClass("input-validation-error"),$(".js-wallet-create-error").addClass("hide"),$(".js-wallet-error-field").html(""),!$(".js-wallet-contract-check").is(":checked"))return global.popup({message:"Lütfen Bireysel Kullanıcı Sözleşmesi'ni onaylayınız."}),!1;fe=$(".js-wallet-phone-number").val(),e.prop("disabled",!0);var t={PhoneNumber:fe};$.ajax({url:"/Wallet/Create",data:t,type:"POST",success:function(e){e.IsSuccess?(e.SmsVerificationRequired?(o(e,"create"),s(e.ExpireTime),Ce=!0):window.location.reload(),segment.pageView(e.PageScreenEventViewModel.Name,JSON.parse(e.PageScreenEventViewModel.Data))):($(".js-wallet-phone-number").addClass("input-validation-error"),$(".js-wallet-create-error").removeClass("hide"),$(".js-wallet-error-field").html(e.ErrorMessage))},error:function(e){global.popup({message:"İşlem Başarısız."})},complete:function(){e.prop("disabled",!1)}})})}function W(){$(document).on("keypress","body",function(e){13===e.keyCode&&$("#createWalletForm").length>0&&$(".js-create-wallet").length>0&&(e.preventDefault(),e.stopPropagation(),0==$(".js-wallet-verify-input").length&&$(".js-create-wallet").trigger("click"))})}function G(){xe.on("click",function(){if(""!==Se)return void global.popup({message:Se,title:"Bireysel Kullanıcı Sözleşmesi",popupType:"custom",customButtonName:"Okudum, Kabul Ediyorum",customButtonClass:"js-customer-wallet-contract-accept-button"});var e=$.post("/Wallet/Contract");e.done(function(e){global.popup({message:e.content,title:"Bireysel Kullanıcı Sözleşmesi",popupType:"custom",customButtonName:"Okudum, Kabul Ediyorum",customButtonClass:"js-customer-wallet-contract-accept-button"}),Se=e.content})})}function Q(){$(document).on("click",".js-customer-wallet-contract-accept-button",function(){$("#IsContractChecked").prop("checked")===!1&&$("#IsContractChecked").prop("checked",!0)})}function K(){$(document).on("click",".js-new-card-for-wallet",function(){var e=$(this),t=$(".js-registered-card-pay-for-wallet"),i=$(".js-credit-cart-info"),a=$(".js-registered-card-event"),o=$(".js-credit-card-number"),s=$(".account-wallet__registered-card-list .is-active.js-registered-card label"),n=$(".account-wallet__registered-card-list .is-active.js-registered-card input");n.prop("checked",!1),s.prop("checked",!1).parent().removeClass("is-active"),e.hide(),t.removeClass("is-hidden"),i.show(),a.addClass("is-hidden");var r=o.val();if(r.length>=6&&$(".js-credit-card-number").is(":visible")){var l=r.substr(0,6);Y(l)}else ae()})}function J(){$(document).on("click",".js-registered-card-pay-for-wallet",function(){var e=$(this),t=$(".js-new-card-for-wallet"),i=$(".js-credit-cart-info"),a=$(".js-registered-card-event"),o=$(".account-wallet__registered-card-list .js-registered-card:first-child label");$(".account-wallet__registered-card-list .js-registered-card").removeClass("is-active"),o.prop("checked",!0).parent().addClass("is-active"),o.trigger("click"),e.addClass("is-hidden"),t.show(),i.hide(),a.removeClass("is-hidden")})}function Y(e){var t=$.get("/Wallet/CheckCvvRequired",{bin:e});t.done(function(t){setTimeout(function(){t.update_cvv===!0?($("#Cvv").val(""),$(".form-credit-card__cvc").hide(),$(".label_cvv").hide()):ie(),t.SaveCreditCardPermission===!0?($(".js-credit-cart-iyzico-for-wallet").removeClass("is-hidden"),X(e)):$(".js-credit-cart-iyzico-for-wallet").addClass("is-hidden")},100)})}function X(e){var t=$(".js-registered-card").hasClass("is-active"),i=$.get("/Iyzico/CheckBin",{bin:e,isSelected:t});i.done(function(e){return e.valid?void Z():void ee()})}function Z(){$(".js-iyzico-checkbox-for-wallet").prop("disabled",!1)}function ee(){$(".js-iyzico-checkbox-for-wallet").prop("checked",!1),$(".js-iyzico-checkbox-for-wallet").prop("disabled",!0)}function te(){$(document).on("click",".js-iyzico-checkbox-for-wallet",function(){$(this).is(":checked")?$(this).val("true"):$(this).val("false")})}function ie(){$(".form-credit-card__cvc").show(),$(".label_cvv").show()}function ae(){$("#Cvv").val(""),$(".form-credit-card__cvc").hide(),$(".label_cvv").hide(),$(".js-credit-cart-iyzico").hide(),$(".js-credit-cart-iyzico-for-wallet").addClass("is-hidden")}function oe(){if($("#WalletCreditCardNumber").length>0){if($("#WalletCreditCardNumber").val().length>0&&$("#WalletCreditCardNumber").trigger("keyup"),global.isMobile()&&$("#WalletCreditCardNumber").attr("inputmode","numeric"),"Android"===global.isMobile()&&($("#Cvv").attr("type","number"),$("#WalletCreditCardNumber").on("change keyup paste",function(){var e=Math.max(parseInt($("#WalletCreditCardNumber").attr("maxlength")));$("#WalletCreditCardNumber").val().length>e&&$("#WalletCreditCardNumber").val($("#WalletCreditCardNumber").val().substr(0,e))}),$("#Cvv").on("change keyup paste",function(){var e=Math.max(parseInt($("#Cvv").attr("maxlength")));$("#Cvv").val().length>e&&$("#Cvv").val($("#Cvv").val().substr(0,e))})),""!=$(".js-credit-card-number").val()&&$(".js-credit-card-number").val().length>=6&&$(".js-credit-card-number").is(":visible")){var e=$(".js-credit-card-number").val(),t=e.substr(0,6);Y(t)}$(".js-only-number").keydown(function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190,17,91,86,65,67,88])||65==e.keyCode&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}),$(".js-only-number").bind("paste",function(e){if($("#Cvv").attr("maxlength",3),!$(this).hasClass("js-credit-card-number")){var t=e.originalEvent.clipboardData,i=$(this),a=t.getData("text/plain"),o=i.prop("maxlength");"undefined"==typeof o||null===o?i.val(a.replace(/[^0-9]/g,"")):i.val(a.replace(/[^0-9]/g,"").substring(0,o))}}),$(".payment-details__left").length<1&&$(".payment-details__right").addClass("payment-details__no-card"),$(".js-credit-card-number").on("keyup input paste",function(){if($(".js-credit-card-number").is(":visible")){var e=$(this).val(),t=e.length>=6?e.substr(0,6):null;null!=t?Y(t):ae()}})}}function se(){$(document).on("change",".js-choose-wallet-pay",function(){$(".js-wallet-pay-label").removeClass("has-error"),$(".js-balance-pay-error").addClass("hide")})}function ne(){$(document).on("click",".js-wallt-pay-btn",function(){var e,t=$("#addBalanceForm");return t.find("input[name=FpVisitorId]").length<=0&&(e=document.createElement("INPUT"),e.setAttribute("name","FpVisitorId"),e.setAttribute("value",vId),e.setAttribute("class","hidden"),t.append(e)),$(".js-choose-wallet-pay").is(":checked")?($(".js-registered-card.is-active").length>0&&$(".js-iyzico-checkbox-for-wallet").prop("checked",!1),void(t.valid()&&$.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),beforeSend:function(){global.createOverlay()}}).done(function(e){if(e.IsSuccess){if(e.IsCustomerBlocked)return global.removeOverlay(),void re();e.IsCompleted?(global.removeOverlay(),$(".js-wallet-amount-mask").val(""),$(".js-credit-card-number").val(""),$("select").val(""),$(".form-credit-card__cvc input").val(""),$(".js-iyzico-checkbox-for-wallet").prop("checked",!1),E(e.AddedAmount,e.CardRegisterInfoModel),$(".js-wallet-balance").text(e.Balance),$(".js-wallet-amount-mask").attr("placeholder",e.MaximumAmountPerMonthText),e.IsDepositAvailable||($(".js-show-wallet-balance-error-message").html('<p class="account-wallet__deposit-error"> <span class="icon-subscription-alert"></span>'+e.MaximumDepositAmountSetting+"</p>"),$(".account-wallet__disabled-wrapper").prepend('<div class="disabled-mask"></div>'))):window.location.href=e.RedirectUrl}else if(!e.IsSuccess){global.removeOverlay();var e={title:"Bakiye yüklenirken bir hata oluştu!",message:e.ErrorMessage};global.popup({custom:!0,customHtml:L(e)})}}).fail(function(e){global.removeOverlay(),global.popup({message:"Bir Hata Oluştu!"})}))):($(".js-wallet-pay-label").addClass("has-error"),$(".js-balance-pay-error").removeClass("hide"),!1)})}function re(){var e=$(window).height(),t=$("html"),i='<img src="//cdn03.ciceksepeti.com/Themes/Ciceksepeti/Assets/images/loader-large.gif" alt="loader">',a=t.hasClass("ie8")||t.hasClass("lt-ie10")?i:global.loaderSvg();$(".account__right").append('<div id="overlay"></div><div class="svg-loader-container">'+a+"</div>"),$("#overlay").height(e).css({opacity:.4,position:"absolute",top:0,left:0,"background-color":"white",width:"100%",height:"100%","z-index":5e3,"text-align":"center"}),$(".svg-loader-container").css({opacity:.6,width:"150px",height:"150px",position:"absolute",top:"50%",left:"50%",margin:"-75px 0 0 -75px","z-index":6e3,"text-align":"center"})}function le(e){if(e.IsSuccess){var t=pe(e);global.popup({message:t,customDialogClass:"modal-wallet__modal-width",customClass:"saveCard-popup-wrapper",popupType:"confirm",confirmButton:"Onayla ve Kartı Kaydet",dismissButton:"Kartı Kaydetmeden Devam Et",dismissAction:"wallet.hideCardPopupRedirect()",confirmAction:"wallet.showCardPopupRedirect()"}),global.removeOverlay()}else global.removeOverlay()}function de(){global.createOverlay(),Ee=!0;var e=decodeURIComponent($(".js-saveCard-popup-redirectUrl").val())+"&isAccepted=true";window.location.href=e,global.removeOverlay()}function ce(){if(!Ee){global.createOverlay();var e=decodeURIComponent($(".js-saveCard-popup-redirectUrl").val())+"&isAccepted=false";window.location.href=e,global.removeOverlay()}}function ue(){$(document).on("click",".js-saveCard-popup-contract-btn",function(){var e=$(".js-saveCard-popup-contract-btn").index(this);if($(this).hasClass("IsCheckAllContact")){var t=$(".saveCard-popup #IsCheckAllContact").is(":checked");$(".saveCard-popup #IsCheckAllContact").prop("checked",!t)}$(".saveCard-popup-contract").eq(e).hasClass("showing")?($(".saveCard-popup-contract").fadeOut(100),$(".saveCard-popup-contract").removeClass("showing")):($(".saveCard-popup-contract").fadeOut(0),$(".saveCard-popup-contract").removeClass("showing"),$(".saveCard-popup-contract").eq(e).addClass("showing"),$(".saveCard-popup-contract").eq(e).fadeIn(500))})}function pe(e){var t="";return t+="<div class='saveCard-popup'>",t+="<div class='saveCard-popup-icon-wrapper'>",t+="<span class='modal-wallet__modal-wallet-icon__bg'>",t+="<span class='icon-lock modal-wallet__modal-wallet-icon inline'></span>",t+="</span></div>",t+="<div class='saveCard-popup-title'>",t+=e.PopupTitle,t+="</div>",t+="<div class='saveCard-popup-text'>",t+=e.PopupText,t+="</div>",t+="<input type='hidden' class='js-saveCard-popup-redirectUrl' value='",t+=e.RedirectUrl,t+="'>",t+="<div class='saveCard-popup-contract'>",t+=e.PopupSaveContract,t+="</div>",t+="</div>"}function he(){if($("#show-success-popup").length>0&&""!=$("#show-success-popup").data("success-price")){var e=$("#show-success-popup").data("success-price");E(e,!1)}else if($("#error-message").length>0&&""!=$("#error-message").val()){var t=$("#error-message").val();M(t)}}function me(){$(document).on("click",".js-registered-card > label",function(e){var t=$(this);t.parent().addClass("is-active").siblings().removeClass("is-active");var i=t.children(".account-wallet__registered-card-number").text();Y(i.substr(0,6))})}function ge(){var e=$(".js-registered-card-event"),t=$(".js-registered-card input:checked").length;if(!e.hasClass("is-hidden"))if(t>0)$(".js-registered-card input:checked").siblings().click(),$(".js-registered-card input:checked").prop("checked",!0);else{var i=$(".account-wallet__registered-card-list .js-registered-card").eq(0);i.find("label").click(),i.find("input").prop("checked",!0)}}var ve,fe,be,ye,$e=$("main"),Ce=!1,we="",ke="",_e=!1,Se="",Te=$e.hasClass("product"),je=$(".js-product-wallet-banner"),xe=$(".js-wallet-contract"),De=$(".js-wallet-summary"),Ie=1,Pe=!1,Ae=!0,_e=!1,Ee=!1;return{init:e,walletActivatePopup:t,closeModalIsSuccess:m,cancelOrderItemPopup:v,showWalletFastRefundPopup:z,showWalletCancelRefundPopup:B,showWalletRefundMyWalletPopup:N,hideCardPopupRedirect:ce,showCardPopupRedirect:de,getProductDetailWalletBanner:w,walletVerifyInput:u}}(),brazePush=function(){"use strict";function e(){"undefined"!=typeof braze&&document.getElementsByClassName("js-show-web-push")[0]&&"True"==document.getElementsByClassName("js-show-web-push")[0].value&&t()}function t(){void 0!==navigator.permissions&&navigator.permissions.query({name:"notifications"}).then(function(e){e.onchange=function(){"denied"==e.state&&a(!1),"granted"==e.state&&a(!0)}})}function i(){var e,t=navigator.userAgent,i=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(i[1]))return e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE ",version:e[1]||""};if("Chrome"===i[1]){if(e=t.match(/\bOPR\/(\d+)/),null!=e)return{name:"Opera",version:e[1]};if(e=t.match(/\bYaBrowser\/(\d+)/),null!=e)return{name:"Yandex",version:e[1]}}return i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&i.splice(1,1,e[1]),{name:i[0],version:i[1]}}function a(e){var t,a=$("main");t=a.hasClass("home")?"home":a.hasClass("category")?"product-list":a.hasClass("product")?"product-detail":a.hasClass("order-tracking")?"order-tracking":a.hasClass("thanks")?"thanks":"other";var o=e,s=global.getCookie("CustomerIdentifier"),n="",r=global.getCookie("incognitoBrowser");o&&(n=s);var l=i(),d={Browser:l.name.toLowerCase(),PlayerId:n,Page:t,IsAllowed:o};"visible"==document.visibilityState&&"true"!==r&&$.ajax({url:"/Customer/WebPushPermission",type:"post",data:d,async:!1})}return{init:e}}(),ads=function(){"use strict";function init(){clickAd(),hasPromotionExcludeList(),middleAdClick(),visibleAdOnScroll()}function generateAdsHTML(data,advertIconText,page,target,keyword,listingHtml){var adsHTML="",orderNumber,similarClassName="";if("category"===target){""==page&&(page=1);var order1,order2,order3,order4,order5,order6,order7,order8,order9,order10;$win.width()>1599?(order1=9,order2=49,order3=89,order4=129,order5=169,order6=209,order7=249,order8=289,order9=329,order10=369):$win.width()>991?(order1=9,order2=39,order3=69,order4=99,order5=129,order6=159,order7=189,order8=219):$win.width()>599?(order1=9,order2=29,order3=49,order4=69,order5=89,order6=109):$win.width()>479?(order1=9,order2=19,order3=29,order4=39):(order1=1,order2=2,order3=61,order4=62)}"product"===target&&(similarClassName="products__item--similar products__item-target");var zoomCLass="zoom-on",browserZoomLevel=Math.round(100*window.devicePixelRatio);browserZoomLevel>100&&(zoomCLass="");for(var i=0;i<data.length;i++)if(i<10){orderNumber=1==page?eval("order"+(i+1)):parseInt(60*(page-1)*10+eval("order"+(i+1)));var productDateBasedDiscountClass="";null!=data[i].DateBasedDiscountEndDate&&""!=data[i].DateBasedDiscountEndDate&&(productDateBasedDiscountClass="has-date-base-campaing");var showDateBasedTimer,showDateBasedInstallmentBadge,showDateBasedProductBoxClass,showDiscountAvailableClass,showDateBasedDiscount=data[i].IsDateBasedDiscountAvailable&&data[i].IsShowCartDiscountProgressBar,showDiscountAvailable=data[i].IsDateBasedDiscountAvailable,conditionalDiscountMessage=data[i].ConditionalDiscountMessage,conditionalDiscountMessageClass=conditionalDiscountMessage?"has-conditional-message":"";showDateBasedProductBoxClass=showDateBasedDiscount?"show-date-base-countdown":"",showDateBasedTimer=showDateBasedDiscount?"":"hidden",showDateBasedInstallmentBadge=showDateBasedDiscount?"hidden":"",showDiscountAvailableClass=showDiscountAvailable?"js-show-discount":"";var dateBasedDiscountEndDateValue=null==data[i].DateBasedDiscountEndDate?"":data[i].DateBasedDiscountEndDate,productItemFeaturedSize;"product"!=target&&(productItemFeaturedSize="products__item--featured-xlg"),adsHTML+='<div class="products__item '+similarClassName+" js-product-item-for-countdown js-category-item-hover "+productItemFeaturedSize+"  js-ad-product "+productDateBasedDiscountClass+" "+showDateBasedProductBoxClass+" ad-product--"+(parseInt(i)+1)+" js-ad-product--p"+page+'" data-ad-code='+data[i].VariantCode+" data-ad-id="+data[i].VariantCode+" data-entry-id="+data[i].EntryId+" data-sequence ="+data[i].AjaxSequence+' data-date-base-campaing="'+dateBasedDiscountEndDateValue+'" style="order:'+orderNumber+"; -webkit-order:"+orderNumber+"; -moz-order:"+orderNumber+"; -ms-order:"+orderNumber+'" data-keyword="'+keyword+'" data-segment-listing-product-model='+encodeURIComponent(data[i].SegmentListingProductModel)+">",adsHTML+='<div class="products__item-inner">',adsHTML+='<div class="products__container-background">',adsHTML+='<a class="products__item-link js-products__item-link js-ad-product-link" data-productcode="'+data[i].ProductCode+'" data-sequence="'+data[i].AjaxSequence+'" href="/'+data[i].AdsProductLink+'" tabindex="0">',adsHTML+='<span class="products__item-link__badge">'+advertIconText+"</span>",adsHTML+='<div class="products__item-img-container ratio-container">';var isAgeWarningApproved=$(".js-age-warning-is-approved").val();if(data[i].IsRequiredLegalPermission&&"true"!==isAgeWarningApproved){adsHTML+='<span class="products__favorite-icon js-age-warning-hidden-favorite hidden-favorite js-favorite-add" data-product-id="'+data[i].Id+'"><span class="icon-favorite-border"></span></span>',adsHTML+='<img width="255" height="280" src="'+data[i].PicturePath+'" class="products__item-img lazyload age-warning-hidden-thumb js-age-warning-hidden-thumb" alt="'+data[i].Name+'">';var ageWarningImagePath="";if($(".js-age-warning-big-image-path").length)var ageWarningImagePath=$(".js-age-warning-big-image-path").val();adsHTML+="<img class='js-age-warning-thumb age-warning-thumb' src='"+ageWarningImagePath+"' alt='"+data[i].Name+"' width='255' height='280' />"}else adsHTML+='<span class="products__favorite-icon js-favorite-add" data-product-id="'+data[i].Id+'"><span class="icon-favorite-border"></span></span>',adsHTML+='<img width="255" height="280" src="'+data[i].PicturePath+'" class="products__item-img lazyload" alt="'+data[i].Name+'">';if(adsHTML+="</div>",adsHTML+='<div class="products__item-info">',adsHTML+='<div class="products__item-details">',adsHTML+='<p class="products__item-title">'+data[i].Name+"</p>",adsHTML+=" <div class='products-stars'> ",data[i].ReviewRating>0){adsHTML+=" <div class='products-stars__dropdown-evaluation'> ";for(var j=0;j<5;j++)data[i].ReviewRating-j<=.5&&data[i].ReviewRating-j>0?(adsHTML+=" <div class='products-stars__icon-wrapper'> ",adsHTML+=" <span class='icon-star-fill products-stars__icon is-passive'></span> ",adsHTML+=" <span class='icon-star-fill products-stars__icon icon-half'></span> ",adsHTML+=" </div> "):data[i].ReviewRating-j>.5?(adsHTML+=" <div class='products-stars__icon-wrapper'> ",adsHTML+=" <span class='icon-star-fill products-stars__icon '></span> ",adsHTML+=" </div> "):(adsHTML+=" <div class='products-stars__icon-wrapper'> ",adsHTML+=" <span class='icon-star-fill products-stars__icon is-passive'></span> ",adsHTML+=" </div> ");var moreThan="";data[i].ReviewCount>99999&&(data[i].ReviewCount=99999,moreThan="+"),data[i].ReviewCount>0&&(adsHTML+="<span class='products-stars__review-count'>("+data[i].ReviewCount+moreThan+")</span>"),adsHTML+=" </div> "}else adsHTML+=" <div class='products-stars__dropdown-evaluation'> ",adsHTML+=" </div> ";if(adsHTML+="<div class='clearfix'></div>",adsHTML+=" </div> ",adsHTML+='<div class="products__item-badge js-products-bagde-all '+global.getDeliveryClass(data[i].ProductTransportModel.ProductDeliveryType)+' ">',adsHTML+='<span class="products__item-badge-text">'+data[i].ProductTransportModel.DeliveryMessage+"</span>",adsHTML+="</div>",adsHTML+='<div class="products__item-price products__item-price-ad js-no-tax '+showDiscountAvailableClass+'">',data[i].IsDateBasedDiscountAvailable&&(adsHTML+='<div class="price--old-wrapper">'),data[i].PriceWithTax.replace(",",".")>0&&data[i].PriceWithTax.split(",")[0].length<4&&1==data[i].ShowFirstPrice){var discountPercentage=Math.round((data[i].PriceWithTax.replace(",",".")-data[i].TotalPrice.replace(",","."))/data[i].PriceWithTax.replace(",",".")*100);adsHTML+="<div class='discount-percentage'>",adsHTML+="<span class='discount-percentage__text'>%"+discountPercentage+"</span>",adsHTML+="</div>"}if(data[i].PriceWithTax.replace(",",".")>0&&1==data[i].ShowFirstPrice?(adsHTML+='<div class="price price--old '+zoomCLass+'">',adsHTML+='<div class="price__left">',adsHTML+='<span class="price__integer-value">'+data[i].PriceWithTax.split(",")[0]+"</span>",adsHTML+="</div>",adsHTML+='<div class="price__right">',adsHTML+='<span class="price__decimal-value-with-currency">,'+data[i].PriceWithTax.split(",")[1]+" TL</span>",adsHTML+="</div>",adsHTML+="</div>"):(adsHTML+='<div class="price price--old old-price-empty">',adsHTML+='<div class="price__left">',adsHTML+='<span class="price__integer-value">&nbsp;</span>',adsHTML+="</div>",adsHTML+='<div class="price__right">',adsHTML+='<span class="price__decimal-value-with-currency">&nbsp;</span>',adsHTML+="</div>",adsHTML+="</div>"),data[i].IsDateBasedDiscountAvailable){var showOriginalPriceDecimal=!0,formattedOriginalPrice=parseFloat(data[i].TotalPriceWithoutDateBasedDiscount).toFixed(2).toString();parseInt(formattedOriginalPrice).toString().length>=5?(formattedOriginalPrice=parseInt(data[i].TotalPriceWithoutDateBasedDiscount).priceFormat(0,3,".",","),showOriginalPriceDecimal=!1):formattedOriginalPrice=parseFloat(data[i].TotalPriceWithoutDateBasedDiscount).priceFormat(2,4,".",","),adsHTML+=" ";var visibleControl=data[i].IsRegulationObstacle?" hide":"";adsHTML+='<div class="price price--original '+visibleControl+'">',showOriginalPriceDecimal?(adsHTML+='<div class="price__left">',adsHTML+='<span class="price__integer-value">'+formattedOriginalPrice.split(",")[0]+"</span>",adsHTML+="</div>"):(adsHTML+='<div class="price__left">',adsHTML+='<span class="price__integer-value">'+formattedOriginalPrice+"</span>",adsHTML+="</div>"),showOriginalPriceDecimal?(adsHTML+='<div class="price__right">',adsHTML+='<span class="price__decimal-value-with-currency">,'+formattedOriginalPrice.split(",")[1]+" TL</span>",adsHTML+="</div>"):(adsHTML+='<div class="price__right">',adsHTML+='<span class="price__decimal-value-with-currency">&nbsp;TL</span>',adsHTML+="</div>"),adsHTML+="</div>"}data[i].IsDateBasedDiscountAvailable&&(adsHTML+="</div>");var firstPriceControl=data[i].IsRegulationObstacle?"margin-left: 0":"";adsHTML+='<div class="price price--now" style="'+firstPriceControl+'" data-price='+data[i].TotalPrice.replace(",",".")+'">',data[i].IsDateBasedDiscountAvailable&&(adsHTML+='<span class="price-date-basec-discount">'+data[i].DateBasedDiscountText+"&nbsp;</span>"),adsHTML+='<div class="price__left">',adsHTML+='<span class="price__integer-value">'+data[i].TotalPrice.split(",")[0]+"</span>",adsHTML+="</div>",adsHTML+="",adsHTML+='<div class="price__right">',adsHTML+='<span class="price__decimal-value-with-currency">,'+data[i].TotalPrice.split(",")[1]+" TL</span>",adsHTML+="</div>",adsHTML+="</div>",adsHTML+="</div>",adsHTML+="</div>",adsHTML+="</div>",adsHTML+='<div class="products__subscription-price-wrapper '+showDateBasedInstallmentBadge+" "+conditionalDiscountMessageClass+'">',1!=data[i].ProductType&&2!=data[i].ProductType||conditionalDiscountMessage?data[i].Installment&&!conditionalDiscountMessage?(adsHTML+='<div class="products__brand-badge">',adsHTML+='<p class="products__installment">',adsHTML+=data[i].InstallmentText,adsHTML+="</p>",adsHTML+="</div>"):conditionalDiscountMessage&&(adsHTML+='<div class="products__conditional-message__wrapper">',adsHTML+='<div class="products__conditional-message">',adsHTML+=conditionalDiscountMessage,adsHTML+="</div>",adsHTML+="</div>"):(adsHTML+='<div class="products__subscription-price-wrapper__inner">',adsHTML+='<span class="products__subscription-price">',adsHTML+='<span class="products__subscription-price__text">Abonelikte %'+data[i].SubscriptionDiscountPercentage+" İndirim </span>",adsHTML+='<span class="products__subscription-price__integer">'+data[i].SubscriptionPrice.split(",")[0]+"</span>",adsHTML+='<span class="products__subscription-price__decimal">,'+data[i].SubscriptionPrice.split(",")[1]+" TL</span>",adsHTML+="</span>",adsHTML+="</div>"),adsHTML+="</div>",adsHTML+='<div class="products__campaing hidden js-date-based-campaing '+showDateBasedTimer+'">',adsHTML+='<div class="products__campaing__timer">',adsHTML+="<div>",adsHTML+='<span class="icon icon-lightning products__campaing__timer__icon"></span> İndirim için son <b class="products__campaing__timer__countdown js-products-campaing-timer" data-range="'+data[i].TotalBarMinutes+'">00:00</b>',adsHTML+="</div>",adsHTML+='<div class="products__discount-timer">',adsHTML+='<div class="products__discount-timer__mask">',adsHTML+='<div class="products__discount-timer__bar"></div>',adsHTML+='<div class="products__discount-timer__percent js-discount-timer-percent" style="width: 100%;"></div>',adsHTML+="</div>",adsHTML+="</div>",adsHTML+="</div>",adsHTML+="</div>",adsHTML+="</a>",adsHTML+="</div>",adsHTML+="</div>",adsHTML+="</div>"}if("category"===target&&$(".products--category").append(adsHTML),"product"===target){$("#ani-productWidget .js-ani-container").append(adsHTML),$("#ani-productWidget .js-ani-container").prepend(adsHTML);var pageHeadTags=document.getElementsByTagName("head")[0],pageStyles=document.createElement("style"),pagesCSS=".products .products__item-target:nth-child(n+7) {display:none}";pageStyles.id="test-a",pageStyles.innerHTML=pagesCSS,pageHeadTags.appendChild(pageStyles)}1==page&&"True"==$(".js-show-widget").val()&&window.location.href.toLowerCase().indexOf("arama")===-1&&global.suggestCategory(),dateBaseCampaign(),listingHtml&&segment.productListViewedEvent(listingHtml+=adsHTML,$(".js-category-detail")),global.setProductLinkTarget(),$page.hasClass("category")&&(pageCategory.triggerDiscountInCartAb(),visibleAd())}function dateBaseCampaign(){for(var e=$('.js-product-item-for-countdown:not([data-date-base-campaing=""])').not(".js-date-based-running").not(".js-ani-widget-product"),t=0;t<e.length;t++){var i=$(e[t]).data("date-base-campaing"),a=$(e[t]).find(".js-products-campaing-timer");global.countdown(a,i)}}function visibleAd(){var e="",t=[];$(".js-ad-product").each(function(){var i=$(this).data("ad-code"),a=$(this).data("entry-id"),o=$(this).data("sequence"),s=$(this).data("keyword");if($(this).visible(!0,!0)&&!(adsExcludeForVisible.indexOf(i)>-1)){if(e+=i+",",$page.hasClass("search-page"))var n={Id:a,Sequence:o,Keyword:s};else var n={Id:a,Sequence:o};var r=$(".js-dynamic-url-id").val();r&&(n.DynamicUrlId=parseInt(r)),t.push(n),adsExcludeForVisible.push(i)}}),e=e.replace(/.$/,""),""!=e&&sendVisibleEvent(e,t)}function visibleAdOnScroll(){$(window).scrollStopped(function(){visibleAd()})}function getAdsListForDetailPage(){var e=$(".js-first-product-detail-value-id").val(),t=$(".js-product-id").val(),i=6;$win.width()>1199?i=6:$win.width()>991?i=5:$win.width()>767?i=4:$win.width()>479&&(i=3),$.ajax({url:"/Catalog/GetSellersChoiceList?dv="+e+"&recordcount="+i+"&sourcetype=3&productId="+t,type:"GET",
cache:!1,success:function(e){e.Products.length<i||e.Products.length>0&&generateAdsHTML(e.Products,e.AdvertIconText,1,"product",e.Keyword)}})}function getAdsListForCategoryPage(e){if(adsExcludeForVisible=[],"true"!=$pageOldPrice.val()){var t=$(".js-category-url").val(),i=global.getPageType(),a=global.getQuery("df"),o=global.getQuery("page"),s=global.getQuery("sameday"),n=global.getQuery("freecargo"),r=global.getQuery("personalized"),l=global.getQuery("discount"),d=global.getQuery("qt"),c=global.getQuery("c"),u=global.getQuery("prc"),p=global.getQuery("storeId"),h=global.getQuery("query"),d=global.getQuery("qt"),m=getAdCount($win.width()),g=$(".js-first-product-detail-value-id:last").val(),v="",f=["/kampanyali-urunler","/ayni-gun-teslim"],b=!1,y=$(".js-show-widget").val();if(location.search.indexOf("OM.zn")>-1){var C=location.search.split("="),w=C.length-1;v=location.search.indexOf("page")>-1?"&omzn="+C[w-1].slice(0,-5):"&omzn="+C[w]}o||("True"==y?$jsCategoryMore.removeClass("hidden"):$jsCategoryMore.addClass("hidden")),$.each(f,function(e,t){if(window.location.pathname.toLowerCase()===t)return b=!0,!1}),b||((d.length<=0||window.location.href.toLowerCase().indexOf("arama")===-1)&&"category"==i?p.length<=0&&$.ajax({url:"/Catalog/GetSellersChoiceList?df="+a+"&page="+o+"&c="+c+"&prc="+u+"&personalized="+r+"&sameday="+s+"&discount="+l+"&url="+t+"&recordCount="+m+"&freecargo="+n+v,type:"GET",cache:!1,success:function(t){var i=e,a="";e||(i=$(".js-ajax-category-products").html(),a=$(".js-category-detail")),t.Products.length>0?generateAdsHTML(t.Products,t.AdvertIconText,o,"category",t.Keyword,i):("True"==y&&""===o&&global.suggestCategory(),segment.productListViewedEvent(i,a))}}):window.location.href.toLowerCase().indexOf("arama")>=0&&"search"==i?p.length<=0&&$.ajax({url:"/Catalog/GetSellersChoiceList?query="+h+"&qt="+d+"&df="+a+"&page="+o+"&c="+c+"&prc="+u+"&personalized="+r+"&sameday="+s+"&discount="+l+"&url="+t+"&recordCount="+m+"&freecargo="+n+"&dv="+g+v,type:"GET",cache:!1,success:function(e){e.Products.length>0&&generateAdsHTML(e.Products,e.AdvertIconText,o,"category",e.Keyword)}}):window.location.href.toLowerCase().indexOf("arama")!==-1||"category"!=i||"True"!=y||o||global.suggestCategory())}}function sendVisibleEvent(e,t){setTimeout(function(){var i=global.getPageType(),a=global.getFingerPrint(),o=global.getCookie("CustomerIdentifier"),s=$(".js-is-product-sequence-detailvalueid").val()||$(".js-first-product-detail-value-id").val(),n=[];[s].forEach(function(e){n.push(parseInt(e))}),n=$page.hasClass("search-page")?[]:n;var r=0;"category"===i?r=1:"search"===i?r=2:"product"===i&&(r=3);var l=window.ani||[];l.push(["trackEvent",{EventName:"ProductSeenEvent",ProductCodeList:e,CustomerIdentifier:o,EntryList:t,Identifier:a,SourceType:r}])},1e3)}function getAdCount(e){var t="";switch(!0){case e>=1600:t=10;break;case e<1600&&e>=992:t=8;break;case e<992&&e>=600:t=6;break;case e<600:t=4;break;default:t=4}return t}function middleAdClick(){$(document).on("mousedown",".js-ad-product-link",function(e){2==e.which&&$(this).trigger("click")})}function clickAd(){$(document).on("click",".js-ad-product-link",function(e){e.preventDefault(),adsExcludeForClick=null==localStorage.getItem("promotionExcludeList")?[]:JSON.parse(localStorage.getItem("promotionExcludeList"));var t=[],i=new Date,a=$(this).attr("href"),o=$(this).parents(".js-ad-product"),s=o.data("ad-code"),n=o.data("entry-id"),r=o.data("sequence"),l=o.data("keyword"),d=$(this).attr("target")?$(this).attr("target"):"_self",c=$(".js-dynamic-url-id").val();if($page.hasClass("search-page"))var u={Id:n,Sequence:r,Keyword:l};else var u={Id:n,Sequence:r};if(c&&(u.DynamicUrlId=parseInt(c)),t.push(u),adsExcludeForClick.map(function(e){return e.promotionCode}).indexOf(s)>-1){var p=adsExcludeForClick.map(function(e){return e.promotionCode}).indexOf(s),h=adsExcludeForClick[p];new Date(h.date).getTime()<new Date(i).getTime()&&(adsExcludeForClick.splice(p,1),promotionClickEvents(adsExcludeForClick,i,s,t))}else promotionClickEvents(adsExcludeForClick,i,s,t);localStorage.setItem("promotionExcludeList",JSON.stringify(adsExcludeForClick)),global.setCookie("promotionExcludeList",!0,.25),void 0!=e.originalEvent&&("_blank"===d?(e.stopPropagation(),window.open(a,d)):window.location.href=a)})}function promotionClickEvents(e,t,i,a){t.setMinutes(t.getMinutes()+10);var o=new Date(t);e.push({promotionCode:i,date:o}),sendClickEvent(i,a)}function hasPromotionExcludeList(){""==global.getCookie("promotionExcludeList")&&localStorage.removeItem("promotionExcludeList")}function sendClickEvent(e,t){var i=global.getPageType(),a=global.getFingerPrint(),o=global.getCookie("CustomerIdentifier"),s=$(".js-is-product-sequence-detailvalueid").val()||$(".js-first-product-detail-value-id").val(),n=[];[s].forEach(function(e){n.push(parseInt(e))}),n=$page.hasClass("search-page")?[]:n;var r=0;"category"===i?r=1:"search"===i?r=2:"product"===i&&(r=3);var l=window.ani||[];l.push(["trackEvent",{EventName:"ProductViewEvent",ProductCode:e,CustomerIdentifier:o,EntryList:t,Identifier:a,SourceType:r}])}var $win=$(window),$page=$("main"),$pageOldPrice=$(".js-has-old-price"),adsExcludeForClick=[],adsExcludeForVisible=[],$jsCategoryMore=$(".js-category-more");return{init:init,dateBaseCampaign:dateBaseCampaign,getAdsListForCategoryPage:getAdsListForCategoryPage,getAdsListForDetailPage:getAdsListForDetailPage,visibleAd:visibleAd}}();window.addEventListener("load",function(){ads.visibleAd()}),$(function(){"use strict";global.init(),favorite.init(),csVarVarSelection.init(),($("main").hasClass("product")||$("main").hasClass("extra-products"))&&counter.init(),/Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&smartBanner.init(),$("main").hasClass("home")||$("main").hasClass("category")||$("main").hasClass("mizu")||$("main").hasClass("city")||$("main").hasClass("product")||$("main").hasClass("opportunity")||$("main").hasClass("clap")||(selectizeInit.init(),faq.init(),discountView.init()),($("main").hasClass("product")||$("main").hasClass("category"))&&ads.init(),($("main").hasClass("product")||$("main").hasClass("account")||$("main").hasClass("thanks"))&&wallet.init(),($("main").hasClass("product")||$("main").hasClass("page-seller-questions")||$("main").hasClass("page-comments"))&&nsReview.init(),window.lazySizesConfig=window.lazySizesConfig||{},window.lazySizesConfig.expand=225,window.lazySizesConfig.expFactor=1.4,$(window).on("load",function(){brazePush.init()})});var csVarVarSelection=function(){"use strict";function e(){y&&c(y),t(),r(),l(),d(),p(),o(v,function(){s(v),$(".js-navigasyon-container").css({opacity:"1"})})}function t(){var e=$(".js-choice-parameter").val();"iOS"===global.isMobile()&&(e="true"==e?global.getCookie("csVarSelection"):e),e&&(g>0?global.setCookieCustomPath("csVarSelection",e,g):global.eraseCookie("csVarSelection")),v=global.getCookie("csVarSelection")||1}function i(){u(),$("#flatModalBox").remove(),$(".modal-backdrop").remove(),global.popup({popupType:"alert",custom:!0,backdrop:"static",keyboard:!1,customHtml:n(),shownFunction:function(){$("body").addClass("is-fixed")},hiddenFunction:function(){$(".js-modal-backdrop-csvv").remove(),$(".js-cs-varvar-popup").remove(),$("body").removeClass("is-fixed"),a()}})}function a(){if(!h){c("not-select");var e={element:$(".js-csvv-popup-link")};segment.csVarVarSelectionEvent(e)}}function o(e,t){$(document).find(".js-website-exclusive").each(function(){var t=$(this);t.removeClass("hidden");var i=t.attr("data-website-id");i!=e&&3!=i&&t.addClass("hidden")}),t&&t()}function s(e){if(e){var t=".js-brand-slider--image[data-website-id="+e+"]";$(t).length&&!$(t).hasClass("slick-initialized")&&mainBrands.initBrandSlider(t)}}function n(){var e="";return e+='<div class="modal popup__csvv fade" id="customModalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',e+='<div class="modal-dialog">',e+="<div>",e+='<div class="popup__csvv-content clearfix">',e+='<div class="item-cs">',e+='<a href="/" class="js-csvv-popup-link item-link" data-website-id="1">',e+='<div class="image-wrapper">',e+='<picture><source srcset="',e+=m.FirstImageMobile+'" media="(max-width: 767px)">',e+='<img src="',e+=m.FirstImage+'" width="348" height="720" class="item-image item-flower" alt="ciceksepeti popup image" />',e+="</picture>",e+="</div></a></div>",e+='<div class="item-extra">',e+='<a href="/" class="js-csvv-popup-link item-link" data-website-id="2">',e+='<div class="image-wrapper">',e+='<picture><source srcset="',e+=m.SecondImageMobile+'" media="(max-width: 767px)">',e+='<img src="',e+=m.SecondImage+'" width="348" height="720" class="item-image item-flower" alt="varvar popup image" />',e+="</picture>",e+="</div></a></div>",e+="</div>",e+="</div>",e+="</div>",e+="</div>"}function r(){if(v){var e=$(".js-header-upper-color[data-website-id="+v+"]").attr("data-website-id-color");if($(".js-switch-csvv-button").removeClass("active"),$(".js-switch-csvv-banner").removeClass("active"),$(".js-switch-csvv-button[data-website-id="+v+"]").addClass("active"),$(".js-switch-csvv-banner[data-website-id="+v+"]").addClass("active"),$(".js-header-upper").css("background-color",e),$(window).width()<768){var t=$(".js-header-bottom.switcher-active");t.css("border-color",e),t.find(".js-navigasyon-container").css("background",e)}}}function l(){if(v){var e=$(".js-search-placeholder[data-website-id="+v+"]");$(".js-search-placeholder").removeClass("active"),e.addClass("active"),$(".js-product-search-input").attr("placeholder",e.val())}}function d(){$(document).on("click",".js-csvv-popup-link, .js-switch-csvv-button",function(e){var t=$(this),i=t.attr("data-website-id"),a=window.location.pathname;t.hasClass("active")&&(window.location.href="/"),e.preventDefault(),$(window).scrollTop(0),"/"!==a&&i?(c(i),window.location.href="/"):(y&&(history.replaceState({},document.title,"/"),y=global.getQueryParameterByName("choice")||null),i&&(c(i),r(),o(i,function(){s(i)}),l(),homePageImpressions(),"function"==typeof ga&&(ga("set","dimension17",i),ga("send","pageview")),$("#customModalBox").modal("hide")));var n={element:t};segment.csVarVarSelectionEvent(n),$(".js-brand-slider--image").length&&($(".js-brand-slider--image.slick-initialized").slick("reinit"),$(".js-brand-slider--image.slick-initialized").slick("refresh"))})}function c(e){var t=String(e);["1","2","not-select"].indexOf(t)!==-1&&(g>0?v&&global.setCookieCustomPath("csVarSelection",t,g):global.eraseCookie("csVarSelection"),h=t,v=global.getCookie("csVarSelection"))}function u(){b=getCookie("closePopupAb").length>0?"true"==getCookie("closePopupAb"):f}function p(){$(".js-switch-csvv-banner").on("click",function(){var e=$(this);if(e.find("a").length>0){var t=e.find(".website-switcher__banner-img"),i=t.attr("data-src");segment.trackFunc("Promotion Clicked",{promotion_id:layoutGlobal.getBannerId(i),creative:"home/switch",name:"home/switch",position:2})}})}var h,m=$(".js-homepage-switch-popup-option-resource").val()&&""!==$(".js-homepage-switch-popup-option-resource").val()?JSON.parse($(".js-homepage-switch-popup-option-resource").val()):"",g=$(".js-homepage-switch-hour")&&parseInt($(".js-homepage-switch-hour").val())/24,v=global.getCookie("csVarSelection")||1,f="True"==$(".js-homepage-switch-isclosebuttonactive").val(),b=!1,y=global.getQueryParameterByName("choice")||null;return{init:e,createCsVarVarPopup:i}}(),counter=function(){"use strict";function e(){t(),i(),a(),o()}function t(){p.find(c).on("click",function(){s($(this))})}function i(){p.find(u).on("click",function(){n($(this))})}function a(){h.find(c).on("click",function(){var e=$(this),t=s(e),i=orderGlobal.getMainProductId(e),a=orderGlobal.getExtraItemId(e),o=orderGlobal.grabMainProduct(orderGlobal.allProducts,i),n=orderGlobal.grabExtraProduct(o,a);n.Quantity=t,$.ajax({url:"/Checkout/UpdateAdditionalProduct",type:"POST",data:{mainProductIdentifier:i,model:n},async:!0,cache:!1}).done(function(e){pageExtraProducts.updateExtraProductThumbsForOrderProducts(i),orderGlobal.updateSummary(a,!0)}).fail(function(e){var t="Geçersiz işlem.";e.responseJSON&&e.responseJSON.Message&&(t=e.responseJSON.Message),global.alertBox({message:t,alertBoxType:"alert",dismissButton:"Tamam"})})})}function o(){h.find(u).on("click",function(){var e=$(this),t=n(e),i=orderGlobal.getMainProductId(e),a=orderGlobal.getExtraItemId(e),o=orderGlobal.grabMainProduct(orderGlobal.allProducts,i),s=orderGlobal.grabExtraProduct(o,a);1===s.Quantity?s.Quantity=0:s.Quantity=t,$.ajax({url:"/Checkout/UpdateAdditionalProduct",type:"POST",data:{mainProductIdentifier:i,model:s},async:!0,cache:!1}).done(function(e){pageExtraProducts.updateExtraProductThumbsForOrderProducts(i),0===s.Quantity?(orderGlobal.updateSummary(),orderGlobal.deleteExtraProduct(i,a)):(s.Quantity=t,orderGlobal.updateSummary(a,!1))}).fail(function(e){var t="Geçersiz işlem.";e.responsJSON&&e.responseJSON.Message&&(t=e.responseJSON.Message),global.alertBox({message:t,alertBoxType:"alert",dismissButton:"Tamam"})})})}function s(e){var t=e.closest(l).find(d),i=parseInt(t.val());return i++,t.val(i),i>19&&e.attr("disabled",!0).addClass("counter__button--disabled"),i}function n(e){var t=e.closest(l).find(d),i=parseInt(t.val());return i>1&&(i--,t.val(i),i<21&&e.closest(l).find(".js-increase-count").attr("disabled",!1).removeClass("counter__button--disabled"),i)}function r(e,t){$('.js-main-product[data-main-product-id="'+e+'"]').find('.js-extra-item[data-extra-item-id="'+t+'"]').find(d).val(0)}var l=$(".js-counter"),d=$(".js-count"),c=$(".js-increase-count"),u=$(".js-decrease-count"),p=$(".js-counter--product-detail"),h=$(".js-counter--extra-product");return{init:e,$count:d,increaseCount:s,decreaseCount:n,resetExtraProductCount:r,$extraProductCounter:h}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(e=convertToEn(a(String(e||"").toLowerCase())),!e||!e.length)return[];var t,i,s,r,l=[],d=e.split(/ +/);for(t=0,i=d.length;t<i;t++){if(s=o(d[t]),this.settings.diacritics)for(r in n)n.hasOwnProperty(r)&&(s=s.replace(new RegExp(r,"g"),n[r]));l.push({string:d[t],regex:new RegExp(s,"i")})}return l},e.prototype.iterator=function(e,t){var i;i=s(e)?Array.prototype.forEach||function(e){for(var t=0,i=this.length;t<i;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},i.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var i,a,o,s;i=this,e=i.prepareSearch(e,t),o=e.tokens,a=e.options.fields,s=o.length;var n=function(e,t){var i,a;return e?(e=String(e||""),a=e.search(t.regex),a===-1?0:(i=t.string.length/e.length,0===a&&(i+=.5),i)):0},r=function(){var e=a.length;return e?1===e?function(e,t){return n(t[a[0]],e)}:function(t,i){for(var o=0,s=0;o<e;o++)s+=n(i[a[o]],t);return s/e}:function(){return 0}}();return s?1===s?function(e){return r(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,i=0,a=0;i<s;i++){if(t=r(o[i],e),t<=0)return 0;a+=t}return a/s}:function(e){for(var t=0,i=0;t<s;t++)i+=r(o[t],e);return i/s}:function(){return 0}},e.prototype.getSortFunction=function(e,i){var a,o,s,n,r,l,d,c,u,p,h;if(s=this,e=s.prepareSearch(e,i),h=!e.query&&i.sort_empty||i.sort,u=function(e,t){return"$score"===e?t.score:s.items[t.id][e]},r=[],h)for(a=0,o=h.length;a<o;a++)(e.query||"$score"!==h[a].field)&&r.push(h[a]);if(e.query){for(p=!0,a=0,o=r.length;a<o;a++)if("$score"===r[a].field){p=!1;break}p&&r.unshift({field:"$score",direction:"desc"})}else for(a=0,o=r.length;a<o;a++)if("$score"===r[a].field){r.splice(a,1);break}for(c=[],a=0,o=r.length;a<o;a++)c.push("desc"===r[a].direction?-1:1);return l=r.length,l?1===l?(n=r[0].field,d=c[0],function(e,i){return d*t(u(n,e),u(n,i))}):function(e,i){var a,o,s;for(a=0;a<l;a++)if(s=r[a].field,o=c[a]*t(u(s,e),u(s,i)))return o;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"===("undefined"==typeof e?"undefined":_typeof(e)))return e;t=i({},t);var a=t.fields,o=t.sort,n=t.sort_empty;return a&&!s(a)&&(t.fields=[a]),o&&!s(o)&&(t.sort=[o]),n&&!s(n)&&(t.sort_empty=[n]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var i,a,o,s,n=this;return a=this.prepareSearch(e,t),t=a.options,e=a.query,s=t.score||n.getScoreFunction(a),e.length?n.iterator(n.items,function(e,o){i=s(e),(t.filter===!1||i>0)&&a.items.push({score:i,id:o})}):n.iterator(n.items,function(e,t){a.items.push({score:1,id:t})}),o=n.getSortFunction(a,t),o&&a.items.sort(o),a.total=a.items.length,"number"==typeof t.limit&&(a.items=a.items.slice(0,t.limit)),a};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=r(String(e||"")),t=r(String(t||"")),e>t?1:t>e?-1:0)},i=function(e,t){var i,a,o,s;for(i=1,a=arguments.length;i<a;i++)if(s=arguments[i])for(o in s)s.hasOwnProperty(o)&&(e[o]=s[o]);return e},a=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},o=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||$&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n={a:"[aÀÁ ÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",g:"[Ğğg]",i:"[ıiÌÍÎÏìíîïĪīİ]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[şŞsŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},r=function(){var e,t,i,a,o="",s={};for(i in n)if(n.hasOwnProperty(i))for(a=n[i].substring(2,n[i].length-1),o+=a,e=0,t=a.length;e<t;e++)s[a.charAt(e)]=i;var r=new RegExp("["+o+"]","g");return function(e){return e.replace(r,function(e){return s[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var i,a,o,s=this,n=[];if(s.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(i=0,a=e.length;i<a;i++)"string"==typeof e[i]?n.push(e[i]):(s.plugins.settings[e[i].name]=e[i].options,n.push(e[i].name));else if(e)for(o in e)e.hasOwnProperty(o)&&(s.plugins.settings[o]=e[o],n.push(o));for(;n.length;)s.require(n.shift())},e.prototype.loadPlugin=function(t){var i=this,a=i.plugins,o=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');a.requested[t]=!0,a.loaded[t]=o.fn.apply(i,[i.plugins.settings[t]||{}]),a.names.push(t)},e.prototype.require=function(e){var t=this,i=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(i.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return i.loaded[e]},e.define=function(t,i){e.plugins[t]={name:t,fn:i}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,i){"use strict";var a=function B(e,t){if("string"!=typeof t||t.length){var i="string"==typeof t?new RegExp(t,"i"):t,B=function a(e){var t=0;if(3===e.nodeType){var o=e.data.search(i);if(o>=0&&e.data.length>0){var s=e.data.match(i),n=document.createElement("span");n.className="highlight";var r=e.splitText(o),l=(r.splitText(s[0].length),r.cloneNode(!0));n.appendChild(l),r.parentNode.replaceChild(n,r),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var d=0;d<e.childNodes.length;++d)d+=a(e.childNodes[d]);return t};return e.each(function(){B(this)})}},o=function(){};o.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(e){for(var t=["on","off","trigger"],i=0;i<t.length;i++)e.prototype[t[i]]=o.prototype[t[i]]};var s=/Mac/.test(navigator.userAgent),n=65,r=13,l=27,d=37,c=38,u=80,p=39,h=40,m=78,g=8,v=46,f=16,b=s?91:17,y=s?18:17,$=9,C=1,w=2,k=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,S=function(e){return"undefined"!=typeof e},T=function(e){return"undefined"==typeof e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},j=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},x=function(e){return(e+"").replace(/\$/g,"$$$$")},D={};D.before=function(e,t,i){var a=e[t];e[t]=function(){return i.apply(e,arguments),a.apply(e,arguments)}},D.after=function(e,t,i){var a=e[t];e[t]=function(){var t=a.apply(e,arguments);return i.apply(e,arguments),t}};var I=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},P=function(e,t){var i;return function(){var a=this,o=arguments;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(a,o)},t)}},A=function(e,t,i){var a,o=e.trigger,s={};e.trigger=function(){var i=arguments[0];return t.indexOf(i)===-1?o.apply(e,arguments):void(s[i]=arguments)},i.apply(e,[]),e.trigger=o;for(a in s)s.hasOwnProperty(a)&&o.apply(e,s[a])},E=function(e,t,i,a){e.on(t,i,function(t){for(var i=t.target;i&&i.parentNode!==e[0];)i=i.parentNode;return t.currentTarget=i,a.apply(this,[t])})},O=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var i=document.selection.createRange(),a=document.selection.createRange().text.length;i.moveStart("character",-e.value.length),t.start=i.text.length-a,t.length=a}return t},M=function(e,t,i){var a,o,s={};if(i)for(a=0,o=i.length;a<o;a++)s[i[a]]=e.css(i[a]);else s=e.css();t.css(s)},L=function(t,i){if(!t)return 0;var a=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");M(i,a,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=a.width();return a.remove(),o},z=function(e){var t=null,i=function(i,a){var o,s,n,r,l,d,c,u;i=i||window.event||{},a=a||{},i.metaKey||i.altKey||(a.force||e.data("grow")!==!1)&&(o=e.val(),i.type&&"keydown"===i.type.toLowerCase()&&(s=i.keyCode,n=s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||32===s,s===v||s===g?(u=O(e[0]),u.length?o=o.substring(0,u.start)+o.substring(u.start+u.length):s===g&&u.start?o=o.substring(0,u.start-1)+o.substring(u.start+1):s===v&&"undefined"!=typeof u.start&&(o=o.substring(0,u.start)+o.substring(u.start+1))):n&&(d=i.shiftKey,c=String.fromCharCode(i.keyCode),c=d?c.toUpperCase():c.toLowerCase(),o+=c)),r=e.attr("placeholder"),!o&&r&&(o=r),l=L(o,e)+10,l!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",i),i()},F=function R(i,a){var o,s,n,r,l=this;r=i[0],r.selectize=l;var d=window.getComputedStyle&&window.getComputedStyle(r,null);if(n=d?d.getPropertyValue("direction"):r.currentStyle&&r.currentStyle.direction,n=n||i.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:a,$input:i,tabIndex:i.attr("tabindex")||"",tagType:"select"===r.tagName.toLowerCase()?C:w,rtl:/rtl/i.test(n),eventNS:".selectize"+ ++R.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:i.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===a.loadThrottle?l.onSearchChange:P(l.onSearchChange,a.loadThrottle)}),l.sifter=new t(this.options,{diacritics:a.diacritics}),l.settings.options){for(o=0,s=l.settings.options.length;o<s;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,s=l.settings.optgroups.length;o<s;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin(F),i.mixin(F),e.extend(F.prototype,{setup:function(){var t,i,a,o,n,r,l,d,c,u=this,p=u.settings,h=u.eventNS,m=e(window),g=e(document),v=u.$input;if(l=u.settings.mode,d=v.attr("class")||"",t=e("<div>").addClass(p.wrapperClass).addClass(d).addClass(l),i=e("<div>").addClass(p.inputClass).addClass("items").appendTo(t),a=e('<input class="js-emoji-characters" type="text" autocomplete="address-level4" />').appendTo(i).attr("tabindex",v.is(":disabled")?"-1":u.tabIndex),r=e(p.dropdownParent||t),o=e("<div>").addClass(p.dropdownClass).addClass(l).hide().appendTo(r),n=e("<div>").addClass(p.dropdownContentClass).appendTo(o),u.settings.copyClassesToDropdown&&o.addClass(d),t.css({width:v[0].style.width}),u.plugins.names.length&&(c="plugin-"+u.plugins.names.join(" plugin-"),t.addClass(c),o.addClass(c)),(null===p.maxItems||p.maxItems>1)&&u.tagType===C&&v.attr("multiple","multiple"),u.settings.placeholder&&a.attr("placeholder",p.placeholder),!u.settings.splitOn&&u.settings.delimiter){var $=u.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");u.settings.splitOn=new RegExp("\\s*"+$+"+\\s*")}v.attr("autocorrect")&&a.attr("autocorrect",v.attr("autocorrect")),v.attr("autocapitalize")&&a.attr("autocapitalize",v.attr("autocapitalize")),u.$wrapper=t,u.$control=i,u.$control_input=a,u.$dropdown=o,u.$dropdown_content=n,o.on("mouseenter","[data-selectable]",function(){return u.onOptionHover.apply(u,arguments)}),o.on("mousedown click","[data-selectable]",function(){return u.onOptionSelect.apply(u,arguments)}),E(i,"mousedown","*:not(input)",function(){return u.onItemSelect.apply(u,arguments)}),z(a),i.on({mousedown:function(){return u.onMouseDown.apply(u,arguments)},click:function(){return u.onClick.apply(u,arguments)}}),a.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return u.onKeyDown.apply(u,arguments)},keyup:function(){return u.onKeyUp.apply(u,arguments)},keypress:function(){return u.onKeyPress.apply(u,arguments)},resize:function(){u.positionDropdown.apply(u,[])},blur:function(){return u.onBlur.apply(u,arguments)},focus:function(){return u.ignoreBlur=!1,u.onFocus.apply(u,arguments)},paste:function(){return u.onPaste.apply(u,arguments)}}),g.on("keydown"+h,function(e){u.isCmdDown=e[s?"metaKey":"ctrlKey"],u.isCtrlDown=e[s?"altKey":"ctrlKey"],u.isShiftDown=e.shiftKey}),g.on("keyup"+h,function(e){e.keyCode===y&&(u.isCtrlDown=!1),e.keyCode===f&&(u.isShiftDown=!1),e.keyCode===b&&(u.isCmdDown=!1)}),g.on("mousedown"+h,function(e){if(u.isFocused){if(e.target===u.$dropdown[0]||e.target.parentNode===u.$dropdown[0])return!1;u.$control.has(e.target).length||e.target===u.$control[0]||u.blur(e.target)}}),m.on(["scroll"+h,"resize"+h].join(" "),function(){u.isOpen&&u.positionDropdown.apply(u,arguments)}),m.on("mousemove"+h,function(){u.ignoreHover=!1}),this.revertSettings={$children:v.children().detach(),tabindex:v.attr("tabindex")},v.attr("tabindex",-1).hide().after(u.$wrapper),e.isArray(p.items)&&(u.setValue(p.items),delete p.items),k&&v.on("invalid"+h,function(e){e.preventDefault(),u.isInvalid=!0,u.refreshState()}),u.updateOriginalInput(),u.refreshItems(),u.refreshState(),u.updatePlaceholder(),u.isSetup=!0,v.is(":disabled")&&u.disable(),u.on("change",this.onChange),v.data("selectize",u),v.addClass("selectized"),u.trigger("initialize"),p.preload===!0&&u.onSearchChange("")},setupTemplates:function(){var t=this,i=t.settings.labelField,a=t.settings.optgroupLabelField,o={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[a])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[i])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[i])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},o,t.settings.render)},setupCallbacks:function(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur",keyup:"onKeyUp",enter_keypress:"onEnterKeypress"};for(e in i)i.hasOwnProperty(e)&&(t=this.settings[i[e]],t&&this.on(e,t))},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){var i=this,a=t.isDefaultPrevented();e(t.target);if(i.isFocused){if(t.target!==i.$control_input[0])return"single"===i.settings.mode?i.isOpen?i.close():i.open():a||i.setActiveItem(null),!1}else a||window.setTimeout(function(){i.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var i=this;i.isFull()||i.isInputHidden||i.isLocked?t.preventDefault():i.settings.splitOn&&setTimeout(function(){for(var t=e.trim(i.$control_input.val()||"").split(i.settings.splitOn),a=0,o=t.length;a<o;a++)i.createItem(t[a])},0)},onKeyPress:function(e){var t=this;if(t.settings.isOnKeyPress){var t=this,i=!0;if(this.isLocked)return e&&e.preventDefault();var a=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&a===this.settings.delimiter&&(this.createItem(),e.preventDefault(),i=!1),e.keyCode==r&&(e.preventDefault(),t.trigger("enter_keypress")),i}},onKeyDown:function(e){var t=(e.target===this.$control_input[0],this);if(t.isLocked)return void(e.keyCode!==$&&e.preventDefault());switch(e.keyCode){case n:if(t.isCmdDown)return void t.selectAll();break;case l:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case m:if(!e.ctrlKey||e.altKey)break;case h:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,1);i.length&&t.setActiveOption(i,!0,!0)}}else{t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,0);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case u:if(!e.ctrlKey||e.altKey)break;case c:if(t.$activeOption){t.ignoreHover=!0;var a=t.getAdjacentOption(t.$activeOption,-1);a.length&&t.setActiveOption(a,!0,!0)}return void e.preventDefault();case r:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case d:return void t.advanceSelection(-1,e);case p:return void t.advanceSelection(1,e);case $:return void(t.settings.selectOnTab&&t.isOpen&&t.$activeOption?(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()):t.settings.create&&t.createItem()&&e.preventDefault());case g:case v:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(s?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var i=t.$control_input.val()||"";t.lastValue!==i&&(t.lastValue=i,t.onSearchChange(i),
t.refreshOptions(),t.trigger("keyup",i))},onSearchChange:function(e){var t=this,i=t.settings.load;i&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(a){i.apply(t,[e,a])})))},onFocus:function(e){var t=this,i=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),i||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(e);var a=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),(t||document.body).focus(),i.ignoreFocus=!1,i.trigger("blur")};i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,a):a()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var i,a,o=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),a=e(t.currentTarget),a.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):(i=a.attr("data-value"),"undefined"!=typeof i&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(i),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&o.setActiveOption(o.getOption(i))))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,i=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||i.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input,i=t.val()!==e;i&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===C&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){var i=t?[]:["change"];A(this,i,function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,i){var a,o,s,n,r,l,d,c,u=this;if("single"!==u.settings.mode){if(t=e(t),!t.length)return e(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if(a=i&&i.type.toLowerCase(),"mousedown"===a&&u.isShiftDown&&u.$activeItems.length){for(c=u.$control.children(".active:last"),n=Array.prototype.indexOf.apply(u.$control[0].childNodes,[c[0]]),r=Array.prototype.indexOf.apply(u.$control[0].childNodes,[t[0]]),n>r&&(d=n,n=r,r=d),o=n;o<=r;o++)l=u.$control[0].childNodes[o],u.$activeItems.indexOf(l)===-1&&(e(l).addClass("active"),u.$activeItems.push(l));i.preventDefault()}else"mousedown"===a&&u.isCtrlDown||"keydown"===a&&this.isShiftDown?t.hasClass("active")?(s=u.$activeItems.indexOf(t[0]),u.$activeItems.splice(s,1),t.removeClass("active")):u.$activeItems.push(t.addClass("active")[0]):(e(u.$activeItems).removeClass("active"),u.$activeItems=[t.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(t,i,a){var o,s,n,r,l,d=this;d.$activeOption&&d.$activeOption.removeClass("active"),d.$activeOption=null,t=e(t),t.length&&(d.$activeOption=t.addClass("active"),!i&&S(i)||(o=d.$dropdown_content.height(),s=d.$activeOption.outerHeight(!0),i=d.$dropdown_content.scrollTop()||0,n=d.$activeOption.offset().top-d.$dropdown_content.offset().top+i,r=n,l=n-o+s,n+s>o+i?d.$dropdown_content.stop().animate({scrollTop:l},a?d.settings.scrollDuration:0):n<i&&d.$dropdown_content.stop().animate({scrollTop:r},a?d.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),setTimeout(function(){e.$control_input[0].style.removeProperty("position"),e.$control_input[0].style.removeProperty("left"),e.$control_input[0].style.removeProperty("opacity")},100),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){t=convertToEn(t);var i,a,o,s=this,n=s.settings,r=this.getSearchOptions();if(n.score&&(o=s.settings.score.apply(this,[t]),"function"!=typeof o))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==s.lastQuery?(s.lastQuery=t,a=s.sifter.search(t,e.extend(r,{score:o})),s.currentResults=a):a=e.extend(!0,{},s.currentResults),n.hideSelected)for(i=a.items.length-1;i>=0;i--)s.items.indexOf(T(a.items[i].id))!==-1&&a.items.splice(i,1);return a},refreshOptions:function(t){var i,o,s,n,r,l,d,c,u,p,h,m,g,v,f,b;"undefined"==typeof t&&(t=!0);var y=this,$=convertToEn(e.trim(y.$control_input.val())),C=y.search($),w=y.$dropdown_content,k=y.$activeOption&&T(y.$activeOption.attr("data-value"));for(n=C.items.length,"number"==typeof y.settings.maxOptions&&(n=Math.min(n,y.settings.maxOptions)),r={},l=[],i=0;i<n;i++)for(d=y.options[C.items[i].id],c=y.render("option",d),u=d[y.settings.optgroupField]||"",p=e.isArray(u)?u:[u],o=0,s=p&&p.length;o<s;o++)u=p[o],y.optgroups.hasOwnProperty(u)||(u=""),r.hasOwnProperty(u)||(r[u]=[],l.push(u)),r[u].push(c);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){var i=y.optgroups[e].$order||0,a=y.optgroups[t].$order||0;return i-a}),h=[],i=0,n=l.length;i<n;i++)u=l[i],y.optgroups.hasOwnProperty(u)&&r[u].length?(m=y.render("optgroup_header",y.optgroups[u])||"",m+=r[u].join(""),h.push(y.render("optgroup",e.extend({},y.optgroups[u],{html:m})))):h.push(r[u].join(""));if(w.html(h.join("")),y.settings.highlight&&C.query.length&&C.tokens.length)for(i=0,n=C.tokens.length;i<n;i++)a(w,C.tokens[i].regex);if(!y.settings.hideSelected)for(i=0,n=y.items.length;i<n;i++)y.getOption(y.items[i]).addClass("selected");g=y.canCreate($),g&&(w.prepend(y.render("option_create",{input:$})),b=e(w[0].childNodes[0])),y.hasOptions=C.items.length>0||g,y.hasOptions?(C.items.length>0?(f=k&&y.getOption(k),f&&f.length?v=f:"single"===y.settings.mode&&y.items.length&&(v=y.getOption(y.items[0])),v&&v.length||(v=b&&!y.settings.addPrecedence?y.getAdjacentOption(b,1):w.find("[data-selectable]:first"))):v=b,y.setActiveOption(null),t&&!y.isOpen&&y.open()):(y.setActiveOption(null),t&&y.isOpen&&y.close())},addOption:function(t){var i,a,o,s=this;if(e.isArray(t))for(i=0,a=t.length;i<a;i++)s.addOption(t[i]);else(o=s.registerOption(t))&&(s.userOptions[o]=!0,s.lastQuery=null,s.trigger("option_add",o,t))},registerOption:function(e){var t=T(e[this.settings.valueField]);return!(!t||this.options.hasOwnProperty(t))&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=T(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,i){var a,o,s,n,r,l,d,c=this;if(t=T(t),s=T(i[c.settings.valueField]),null!==t&&c.options.hasOwnProperty(t)){if("string"!=typeof s)throw new Error("Value must be set in option data");d=c.options[t].$order,s!==t&&(delete c.options[t],n=c.items.indexOf(t),n!==-1&&c.items.splice(n,1,s)),i.$order=i.$order||d,c.options[s]=i,r=c.renderCache.item,l=c.renderCache.option,r&&(delete r[t],delete r[s]),l&&(delete l[t],delete l[s]),c.items.indexOf(s)!==-1&&(a=c.getItem(t),o=e(c.render("item",i)),a.hasClass("active")&&o.addClass("active"),a.replaceWith(o)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(e,t){var i=this;e=T(e);var a=i.renderCache.item,o=i.renderCache.option;a&&delete a[e],o&&delete o[e],delete i.userOptions[e],delete i.options[e],i.lastQuery=null,i.trigger("option_remove",e),i.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,i){var a=this.$dropdown.find("[data-selectable]"),o=a.index(t)+i;return o>=0&&o<a.length?a.eq(o):e()},getElementWithValue:function(t,i){if(t=T(t),"undefined"!=typeof t&&null!==t)for(var a=0,o=i.length;a<o;a++)if(i[a].getAttribute("data-value")===t)return e(i[a]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,i){for(var a=e.isArray(t)?t:[t],o=0,s=a.length;o<s;o++)this.isPending=o<s-1,this.addItem(a[o],i)},addItem:function(t,i){var a=i?[]:["change"];A(this,a,function(){var a,o,s,n,r,l=this,d=l.settings.mode;return t=T(t),l.items.indexOf(t)!==-1?void("single"===d&&l.close()):void(l.options.hasOwnProperty(t)&&("single"===d&&l.clear(i),"multi"===d&&l.isFull()||(a=e(l.render("item",l.options[t])),r=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(a),(!l.isPending||!r&&l.isFull())&&l.refreshState(),l.isSetup&&(s=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(t),n=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==d),n&&l.setActiveOption(l.getOption(n))),!s.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,a),l.updateOriginalInput({silent:i})))))})},removeItem:function(e,t){var i,a,o,s=this;i="object"===("undefined"==typeof e?"undefined":_typeof(e))?e:s.getItem(e),e=T(i.attr("data-value")),a=s.items.indexOf(e),a!==-1&&(i.remove(),i.hasClass("active")&&(o=s.$activeItems.indexOf(i[0]),s.$activeItems.splice(o,1)),s.items.splice(a,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(e)&&s.removeOption(e,t),a<s.caretPos&&s.setCaret(s.caretPos-1),s.refreshState(),s.updatePlaceholder(),s.updateOriginalInput({silent:t}),s.positionDropdown(),s.trigger("item_remove",e,i))},createItem:function(t,i){var a=this,o=a.caretPos;t=t||e.trim(a.$control_input.val()||"");var s=arguments[arguments.length-1];if("function"!=typeof s&&(s=function(){}),"boolean"!=typeof i&&(i=!0),!a.canCreate(t))return s(),!1;a.lock();var n="function"==typeof a.settings.create?this.settings.create:function(e){var t={};return t[a.settings.labelField]=e,t[a.settings.valueField]=e,t},r=I(function(e){if(a.unlock(),!e||"object"!==("undefined"==typeof e?"undefined":_typeof(e)))return s();var t=T(e[a.settings.valueField]);return"string"!=typeof t?s():(a.setTextboxValue(""),a.addOption(e),a.setCaret(o),a.addItem(t),a.refreshOptions(i&&"single"!==a.settings.mode),void s(e))}),l=n.apply(this,[t,r]);return"undefined"!=typeof l&&r(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e,t=this;t.isRequired&&(t.items.length&&(t.isInvalid=!1),t.$control_input.prop("required",e)),t.refreshClasses()},refreshClasses:function(){var t=this,i=t.isFull(),a=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",a).toggleClass("full",i).toggleClass("not-full",!i).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!i&&!a)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,i,a,o,s=this;if(e=e||{},s.tagType===C){for(a=[],t=0,i=s.items.length;t<i;t++)o=s.options[s.items[t]][s.settings.labelField]||"",a.push('<option value="'+j(s.items[t])+'" selected="selected">'+j(o)+"</option>");a.length||this.$input.attr("multiple")||a.push('<option value="" selected="selected"></option>'),s.$input.html(a.join(""))}else s.$input.val(s.getValue()),s.$input.attr("value",s.$input.val());s.isSetup&&(e.silent||s.trigger("change",s.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,"iOS"!=global.isMobile()||e.$wrapper.hasClass("js-selectize")?e.$dropdown.hide():""!=e.lastQuery&&null!=e.lastQuery||1!=e.items.length||e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var i=Math.min(this.caretPos,this.items.length);0===i?this.$control.prepend(t):e(this.$control[0].childNodes[i]).before(t),this.setCaret(i+1)},deleteSelection:function(t){var i,a,o,s,n,r,l,d,c,u=this;if(o=t&&t.keyCode===g?-1:1,s=O(u.$control_input[0]),u.$activeOption&&!u.settings.hideSelected&&(l=u.getAdjacentOption(u.$activeOption,-1).attr("data-value")),n=[],u.$activeItems.length){for(c=u.$control.children(".active:"+(o>0?"last":"first")),r=u.$control.children(":not(input)").index(c),o>0&&r++,i=0,a=u.$activeItems.length;i<a;i++)n.push(e(u.$activeItems[i]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(u.isFocused||"single"===u.settings.mode)&&u.items.length&&(o<0&&0===s.start&&0===s.length?n.push(u.items[u.caretPos-1]):o>0&&s.start===u.$control_input.val().length&&n.push(u.items[u.caretPos]));if(!n.length||"function"==typeof u.settings.onDelete&&u.settings.onDelete.apply(u,[n])===!1)return!1;for("undefined"!=typeof r&&u.setCaret(r);n.length;)u.removeItem(n.pop());return u.showInput(),u.positionDropdown(),u.refreshOptions(!0),l&&(d=u.getOption(l),d.length&&u.setActiveOption(d)),!0},advanceSelection:function(e,t){var i,a,o,s,n,r,l=this;0!==e&&(l.rtl&&(e*=-1),i=e>0?"last":"first",a=O(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(s=l.$control_input.val().length,n=e<0?0===a.start&&0===a.length:a.start===s,n&&!s&&l.advanceCaret(e,t)):(r=l.$control.children(".active:"+i),r.length&&(o=l.$control.children(":not(input)").index(r),l.setActiveItem(null),l.setCaret(e>0?o+1:o))))},advanceCaret:function(e,t){var i,a,o=this;0!==e&&(i=e>0?"next":"prev",o.isShiftDown?(a=o.$control_input[i](),a.length&&(o.hideInput(),o.setActiveItem(a),t&&t.preventDefault())):o.setCaret(o.caretPos+e))},setCaret:function(t){var i=this;if(t="single"===i.settings.mode?i.items.length:Math.max(0,Math.min(i.items.length,t)),!i.isPending){var a,o,s,n;for(s=i.$control.children(":not(input)"),a=0,o=s.length;a<o;a++)n=e(s[a]).detach(),a<t?i.$control_input.before(n):i.$control.append(n)}i.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,i=t.eventNS,a=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(a.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:a.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(i),e(document).off(i),e(document.body).off(i),delete t.$input[0].selectize},render:function(e,t){var i,a,o="",s=!1,n=this,r=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==e&&"item"!==e||(i=T(t[n.settings.valueField]),s=!!i),s&&(S(n.renderCache[e])||(n.renderCache[e]={}),n.renderCache[e].hasOwnProperty(i))?n.renderCache[e][i]:(o=n.settings.render[e].apply(this,[t,j]),"option"!==e&&"option_create"!==e||(o=o.replace(r,"<$1 data-selectable")),"optgroup"===e&&(a=t[n.settings.optgroupValueField]||"",o=o.replace(r,'<$1 data-group="'+x(j(a))+'"')),"option"!==e&&"item"!==e||(o=o.replace(r,'<$1 data-value="'+x(j(i||""))+'"')),s&&(n.renderCache[e][i]=o),o)},clearCache:function(e){var t=this;"undefined"==typeof e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var i=t.settings.createFilter;return e.length&&("function"!=typeof i||i.apply(t,[e]))&&("string"!=typeof i||new RegExp(i).test(e))&&(!(i instanceof RegExp)||i.test(e))}}),F.count=0,F.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!0,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,isOnKeyPress:!1,render:{}},e.fn.selectize=function(t){var i=e.fn.selectize.defaults,a=e.extend({},i,t),o=a.dataAttr,s=a.labelField,n=a.valueField,r=a.optgroupField,l=a.optgroupLabelField,d=a.optgroupValueField,c=function(t,i){var r,l,d,c,u=t.attr(o);if(u)for(i.options=JSON.parse(u),r=0,l=i.options.length;r<l;r++)i.items.push(i.options[r][n]);else{var p=e.trim(t.val()||"");if(!a.allowEmptyOption&&!p.length)return;for(d=p.split(a.delimiter),r=0,l=d.length;r<l;r++)c={},c[s]=d[r],c[n]=d[r],i.options.push(c);i.items=d}},u=function(t,i){var c,u,p,h,m=i.options,g={},v=function(e){var t=o&&e.attr(o);return"string"==typeof t&&t.length?JSON.parse(t):null},f=function(t,o){t=e(t);var l=T(t.attr("value"));if(l||a.allowEmptyOption)if(g.hasOwnProperty(l)){if(o){var d=g[l][r];d?e.isArray(d)?d.push(o):g[l][r]=[d,o]:g[l][r]=o}}else{var c=v(t)||{};c[s]=c[s]||t.text(),c[n]=c[n]||l,c[r]=c[r]||o,g[l]=c,m.push(c),t.is(":selected")&&i.items.push(l)}},b=function(t){var a,o,s,n,r;for(t=e(t),s=t.attr("label"),s&&(n=v(t)||{},n[l]=s,n[d]=s,i.optgroups.push(n)),r=e("option",t),a=0,o=r.length;a<o;a++)f(r[a],s)};for(i.maxItems=t.attr("multiple")?null:1,h=t.children(),c=0,u=h.length;c<u;c++)p=h[c].tagName.toLowerCase(),"optgroup"===p?b(h[c]):"option"===p&&f(h[c])};return this.each(function(){if(!this.selectize){var o,s=e(this),n=this.tagName.toLowerCase(),r=s.attr("placeholder")||s.attr("data-placeholder");r||a.allowEmptyOption||(r=s.children('option[value=""]').text());var l={placeholder:r,options:[],optgroups:[],items:[]};"select"===n?u(s,l):c(s,l),o=new F(s,e.extend(!0,{},i,l,t))}})},e.fn.selectize.defaults=F.defaults,e.fn.selectize.support={validity:k},F.define("start_typing",function(e){var t=this,i=8;this.onKeyDown=function(e){var a=t.onKeyDown;return function(e){if((null===t.settings.maxItems||1===t.settings.maxItems)&&(t.isFull()||t.isInputHidden)){var o=e.keyCode,s=o>47&&o<58||32==o||o>64&&o<91||o>95&&o<112||o>185&&o<193||o>218&&o<223;s&&(e.keyCode=i,t.deleteSelection(e))}return a.apply(t,arguments)}}()}),F.define("drag_drop",function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var i=this;i.lock=function(){var e=i.lock;return function(){var t=i.$control.data("sortable");return t&&t.disable(),e.apply(i,arguments)}}(),i.unlock=function(){var e=i.unlock;return function(){var t=i.$control.data("sortable");return t&&t.enable(),e.apply(i,arguments)}}(),i.setup=function(){var t=i.setup;return function(){t.apply(this,arguments);var a=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),a.css({overflow:"visible"})},stop:function(){a.css({overflow:"hidden"});var t=i.$activeItems?i.$activeItems.slice():null,o=[];a.children("[data-value]").each(function(){o.push(e(this).attr("data-value"))}),i.setValue(o),i.setActiveItem(t)}})}}()}}),F.define("dropdown_header",function(t){var i=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),i.setup=function(){var a=i.setup;return function(){a.apply(i,arguments),i.$dropdown_header=e(t.html(t)),i.$dropdown.prepend(i.$dropdown_header)}}()}),F.define("optgroup_columns",function(t){var i=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,i){var a=t.closest("[data-group]").find("[data-selectable]"),o=a.index(t)+i;return o>=0&&o<a.length?a.eq(o):e()},this.onKeyDown=function(){var e=i.onKeyDown;return function(t){var a,o,s,n;return!this.isOpen||t.keyCode!==d&&t.keyCode!==p?e.apply(this,arguments):(i.ignoreHover=!0,n=this.$activeOption.closest("[data-group]"),a=n.find("[data-selectable]").index(this.$activeOption),n=t.keyCode===d?n.prev("[data-group]"):n.next("[data-group]"),s=n.find("[data-selectable]"),o=s.eq(Math.min(s.length-1,a)),void(o.length&&this.setActiveOption(o)))}}();var a=function s(){var e,t=s.width,i=document;return"undefined"==typeof t&&(e=i.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,i.body.appendChild(e),t=s.width=e.offsetWidth-e.clientWidth,i.body.removeChild(e)),t},o=function(){var o,s,n,r,l,d,c;if(c=e("[data-group]",i.$dropdown_content),s=c.length,s&&i.$dropdown_content.width()){if(t.equalizeHeight){for(n=0,o=0;o<s;o++)n=Math.max(n,c.eq(o).height());c.css({height:n})}t.equalizeWidth&&(d=i.$dropdown_content.innerWidth()-a(),r=Math.round(d/s),c.css({width:r}),s>1&&(l=d-r*(s-1),c.eq(s-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(D.after(this,"positionDropdown",o),D.after(this,"refreshOptions",o))}),F.define("remove_button",function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var i=this,a='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+j(t.title)+'">'+t.label+"</a>",o=function(e,t){var i=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,i)+t+e.substring(i)};this.setup=function(){var s=i.setup;return function(){if(t.append){var n=i.settings.render.item;i.settings.render.item=function(e){return o(n.apply(this,arguments),a)}}s.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!i.isLocked){var a=e(t.currentTarget).parent();i.setActiveItem(a),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()}}),F.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var i=t.onKeyDown;return function(t){var a,o;return t.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length&&(a=this.caretPos-1,a>=0&&a<this.items.length)?(o=this.options[this.items[a]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[o])),this.refreshOptions(!0)),void t.preventDefault()):i.apply(this,arguments)}}()}),F.define("no_results",function(t){var i=37,a=38,o=39,s=40,n=[i,a,o,s],r=this,l="Adresin tamamını girmek yerine sadece mahalle veya sokak, hastane, okul ismi gibi bilgiyi girin.";t=e.extend({message:l,html:function(e){return'<div class="selectize-dropdown-content no-result">'+e.message+"</div>"}},t),r.on("load",function(){var e=l;r.hasOptions?r.$empty_results_container.hide():r.$empty_results_container.html(e).show()}),r.onKeyUp=function(){var e=r.onKeyUp;return function(t){n.indexOf(t.keyCode)>-1||(r.isOpen=!1,e.apply(r,arguments))}}(),r.onBlur=function(){var e=r.onBlur;return function(){e.apply(r,arguments),r.$empty_results_container.hide()}}(),r.setup=function(){var i=r.setup;return function(){i.apply(r,arguments),r.$empty_results_container=e(t.html(e.extend({classNames:r.$input.attr("class")},t))),r.$empty_results_container.hide(),r.$dropdown.append(r.$empty_results_container)}}()}),F.define("no_results_cs",function(t){var i,a=this,o="selectize-dropdown-content no-result",s="Adresin tamamını girmek yerine sadece mahalle veya sokak, hastane, okul ismi gibi bilgiyi girin.";i=e("<div>").addClass(o).html(s),a.setup=function(){var e=a.setup;return function(){e.apply(a,arguments),a.$dropdown_content_no_results=a.$dropdown_content_no_results=i,a.$dropdown_content_no_results.hide(),a.$dropdown.append(a.$dropdown_content_no_results)}}()}),F.define("preserve_on_blur",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onBlur=function(e){var i=t.onBlur;return function(e){var t=this.$control_input,a=t.val();i.apply(this,e),this.setTextboxValue(a)}}()}),F.define("faq_no_results",function(t){var i=37,a=38,o=39,s=40,n=[i,a,o,s],r=this,l="Aradığınız destek konusu bulunamadı, dilerseniz aşağıda bulunan başlıkları inceleyebilirsiniz.";t=e.extend({message:l,html:function(e){return'<div class="selectize-dropdown-content faq-no-result">'+e.message+"</div>"}},t),r.on("load",function(){var e=l;r.hasOptions?r.$empty_results_container.hide():r.$empty_results_container.html(e).show()}),r.onKeyUp=function(){var e=r.onKeyUp;return function(t){n.indexOf(t.keyCode)>-1||(r.isOpen=!1,e.apply(r,arguments))}}(),r.onBlur=function(){var e=r.onBlur;return function(){e.apply(r,arguments),r.$empty_results_container.hide()}}(),r.setup=function(){var i=r.setup;return function(){i.apply(r,arguments),r.$empty_results_container=e(t.html(e.extend({classNames:r.$input.attr("class")},t))),r.$empty_results_container.hide(),r.$dropdown.append(r.$empty_results_container)}}()}),F.define("no_results_receiver",function(t){var i=this;t=e.extend({message:"Girdiğiniz kritere uygun sonuç bulamadık.",html:function(e){return'<div class="selectize-dropdown-content no-results-receiver"><div class="no-results">'+e.message+"</div></div>"}},t),i.displayEmptyResultsMessage=function(){this.$empty_results_container.css("top",this.$control.outerHeight()),this.$empty_results_container.css("width",this.$control.outerWidth()),this.$empty_results_container.show(),this.$dropdown.hide(),this.$control.addClass("dropdown-active")},i.refreshOptions=function(){var e=i.refreshOptions;return function(){e.apply(i,arguments),this.hasOptions||!this.lastQuery?(this.$empty_results_container.hide(),this.$dropdown.show()):_.isEmpty(this.options)||this.displayEmptyResultsMessage()}}(),i.onKeyDown=function(){var e=i.onKeyDown;return function(t){e.apply(i,arguments),27===t.keyCode&&this.$empty_results_container.hide()}}(),i.onBlur=function(){var e=i.onBlur;return function(t){var a=this.$control_input,o=a.val();e.apply(i,arguments),this.$empty_results_container.hide(),this.$dropdown.hide(),this.$control.removeClass("dropdown-active");var s=this.currentResults;s&&s.items.length<=0?this.setTextboxValue(""):this.setTextboxValue(o)}}(),i.setup=function(){var a=i.setup;return function(){a.apply(i,arguments),i.$empty_results_container=e(t.html(e.extend({classNames:i.$input.attr("class")},t))),i.$empty_results_container.insertBefore(i.$dropdown),i.$empty_results_container.hide()}}()}),F});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){var i=t(e,e.document);e.lazySizes=i,"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=i)}(window,function(e,t){"use strict";if(t.getElementsByClassName){var i,a=t.documentElement,o=e.Date,s=e.HTMLPictureElement,n="addEventListener",r="getAttribute",l=e[n],d=e.setTimeout,c=e.requestAnimationFrame||d,u=e.requestIdleCallback,p=/^picture$/i,h=["load","error","lazyincluded","_lazyloaded"],m={},g=Array.prototype.forEach,v=function(e,t){return m[t]||(m[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),m[t].test(e[r]("class")||"")&&m[t]},f=function(e,t){v(e,t)||e.setAttribute("class",(e[r]("class")||"").trim()+" "+t)},b=function(e,t){var i;(i=v(e,t))&&e.setAttribute("class",(e[r]("class")||"").replace(i," "))},y=function P(e,t,i){var a=i?n:"removeEventListener";i&&P(e,t),h.forEach(function(i){e[a](i,t)})},$=function(e,i,a,o,s){var n=t.createEvent("CustomEvent");return n.initCustomEvent(i,!o,!s,a||{}),e.dispatchEvent(n),n},C=function(t,a){var o;!s&&(o=e.picturefill||i.pf)?o({reevaluate:!0,elements:[t]}):a&&a.src&&(t.src=a.src)},w=function(e,t){return(getComputedStyle(e,null)||{})[t]},k=function(e,t,a){for(a=a||e.offsetWidth;a<i.minSize&&t&&!e._lazysizesWidth;)a=t.offsetWidth,t=t.parentNode;return a},_=function(){var e,i,a=[],o=function(){var t;for(e=!0,i=!1;a.length;)t=a.shift(),t[0].apply(t[1],t[2]);e=!1};return function(s){e?s.apply(this,arguments):(a.push([s,this,arguments]),i||(i=!0,(t.hidden?d:c)(o)))}}(),S=function(e,t){return t?function(){_(e)}:function(){var t=this,i=arguments;_(function(){e.apply(t,i)})}},T=function(e){var t,i=0,a=125,s=999,n=s,r=function(){t=!1,i=o.now(),e()},l=u?function(){u(r,{timeout:n}),n!==s&&(n=s)}:S(function(){d(r)},!0);return function(e){var s;(e=e===!0)&&(n=66),t||(t=!0,s=a-(o.now()-i),s<0&&(s=0),e||s<9&&u?l():d(l,s))}},j=function(e){var t,i,a=99,s=function(){t=null,e()},n=function r(){var e=o.now()-i;e<a?d(r,a-e):(u||s)(s)};return function(){i=o.now(),t||(t=d(n,a))}},x=function(){var s,c,u,h,m,k,x,I,P,A,E,O,M,L,z,F=/^img$/i,B=/^iframe$/i,R="onscroll"in e&&!/glebot/.test(navigator.userAgent),N=0,V=0,H=0,U=0,q=function ae(e){H--,e&&e.target&&y(e.target,ae),(!e||H<0||!e.target)&&(H=0)},W=function(e,i){var o,s=e,n="hidden"==w(t.body,"visibility")||"hidden"!=w(e,"visibility");for(P-=i,O+=i,A-=i,E+=i;n&&(s=s.offsetParent)&&s!=t.body&&s!=a;)n=(w(s,"opacity")||1)>0,n&&"visible"!=w(s,"overflow")&&(o=s.getBoundingClientRect(),
n=E>o.left&&A<o.right&&O>o.top-1&&P<o.bottom+1);return n},G=function(){var e,t,o,n,l,d,p,h,g;if((m=i.loadMode)&&H<8&&(e=s.length)){t=0,U++,null==L&&("expand"in i||(i.expand=a.clientHeight>500?500:400),M=i.expand,L=M*i.expFactor),V<L&&H<1&&U>3&&m>2?(V=L,U=0):V=m>1&&U>2&&H<6?M:N;for(;t<e;t++)if(s[t]&&!s[t]._lazyRace)if(R)if((h=s[t][r]("data-expand"))&&(d=1*h)||(d=V),g!==d&&(x=innerWidth+d*z,I=innerHeight+d,p=d*-1,g=d),o=s[t].getBoundingClientRect(),(O=o.bottom)>=p&&(P=o.top)<=I&&(E=o.right)>=p*z&&(A=o.left)<=x&&(O||E||A||P)&&(u&&H<3&&!h&&(m<3||U<4)||W(s[t],d))){if(te(s[t]),l=!0,H>9)break}else!l&&u&&!n&&H<4&&U<4&&m>2&&(c[0]||i.preloadAfterLoad)&&(c[0]||!h&&(O||E||A||P||"auto"!=s[t][r](i.sizesAttr)))&&(n=c[0]||s[t]);else te(s[t]);n&&!l&&te(n)}},Q=T(G),K=function(e){f(e.target,i.loadedClass),b(e.target,i.loadingClass),y(e.target,Y)},J=S(K),Y=function(e){J({target:e.target})},X=function(e,t){try{e.contentWindow.location.replace(t)}catch(i){e.src=t}},Z=function(e){var t,a,o=e[r](i.srcsetAttr);(t=i.customMedia[e[r]("data-media")||e[r]("media")])&&e.setAttribute("media",t),o&&e.setAttribute("srcset",o),t&&(a=e.parentNode,a.insertBefore(e.cloneNode(),e),a.removeChild(e))},ee=S(function(e,t,a,o,s){var n,l,c,u,m,v;(m=$(e,"lazybeforeunveil",t)).defaultPrevented||(o&&(a?f(e,i.autosizesClass):e.setAttribute("sizes",o)),l=e[r](i.srcsetAttr),n=e[r](i.srcAttr),s&&(c=e.parentNode,u=c&&p.test(c.nodeName||"")),v=t.firesLoad||"src"in e&&(l||n||u),m={target:e},v&&(y(e,q,!0),clearTimeout(h),h=d(q,2500),f(e,i.loadingClass),y(e,Y,!0)),u&&g.call(c.getElementsByTagName("source"),Z),l?e.setAttribute("srcset",l):n&&!u&&(B.test(e.nodeName)?X(e,n):e.src=n),(l||u)&&C(e,{src:n})),_(function(){e._lazyRace&&delete e._lazyRace,b(e,i.lazyClass),v&&!e.complete||(v?q(m):H--,K(m))})}),te=function(e){var t,a=F.test(e.nodeName),o=a&&(e[r](i.sizesAttr)||e[r]("sizes")),s="auto"==o;(!s&&u||!a||!e.src&&!e.srcset||e.complete||v(e,i.errorClass))&&(t=$(e,"lazyunveilread").detail,s&&D.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,H++,ee(e,t,s,o,a))},ie=function oe(){if(!u){if(o.now()-k<999)return void d(oe,999);var e=j(function(){i.loadMode=3,Q()});u=!0,i.loadMode=3,Q(),l("scroll",function(){3==i.loadMode&&(i.loadMode=2),e()},!0)}};return{_:function(){k=o.now(),s=t.getElementsByClassName(i.lazyClass),c=t.getElementsByClassName(i.lazyClass+" "+i.preloadClass),z=i.hFac,l("scroll",Q,!0),l("resize",Q,!0),e.MutationObserver?new MutationObserver(Q).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a[n]("DOMNodeInserted",Q,!0),a[n]("DOMAttrModified",Q,!0),setInterval(Q,999)),l("hashchange",Q,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t[n](e,Q,!0)}),/d$|^c/.test(t.readyState)?ie():(l("load",ie),t[n]("DOMContentLoaded",Q),d(ie,2e4)),Q(s.length>0)},checkElems:Q,unveil:te}}(),D=function(){var e,a=S(function(e,t,i,a){var o,s,n;if(e._lazysizesWidth=a,a+="px",e.setAttribute("sizes",a),p.test(t.nodeName||""))for(o=t.getElementsByTagName("source"),s=0,n=o.length;s<n;s++)o[s].setAttribute("sizes",a);i.detail.dataAttr||C(e,i.detail)}),o=function(e,t,i){var o,s=e.parentNode;s&&(i=k(e,s,i),o=$(e,"lazybeforesizes",{width:i,dataAttr:!!t}),o.defaultPrevented||(i=o.detail.width,i&&i!==e._lazysizesWidth&&a(e,s,o,i)))},s=function(){var t,i=e.length;if(i)for(t=0;t<i;t++)o(e[t])},n=j(s);return{_:function(){e=t.getElementsByClassName(i.autosizesClass),l("resize",n)},checkElems:n,updateElem:o}}(),I=function A(){A.i||(A.i=!0,D._(),x._())};return function(){var t,a={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};i=e.lazySizesConfig||e.lazysizesConfig||{};for(t in a)t in i||(i[t]=a[t]);e.lazySizesConfig=i,d(function(){i.init&&I()})}(),{cfg:i,autoSizer:D,loader:x,init:I,uP:C,aC:f,rC:b,hC:v,fire:$,gW:k,rAF:_}}}),function(e){var t=document.createElement("input"),i="oninput"in t&&(!("documentMode"in document)||document.documentMode>9),a=function(e){return"INPUT"===e.nodeName&&("text"===e.type||"password"===e.type)},o=null,s=null,n=null,r={get:function(){return n.get.call(this)},set:function(e){s=e,n.set.call(this,e)}},l=function(e){o=e,s=e.value,n=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(o,"value",r),o.attachEvent("onpropertychange",c)},d=function(){o&&(delete o.value,o.detachEvent("onpropertychange",c),o=null,s=null,n=null)},c=function(t){if("value"===t.propertyName){var i=t.srcElement.value;i!==s&&(s=i,e(o).trigger("textchange"))}};i?e(document).on("input",function(t){"TEXTAREA"!==t.target.nodeName&&e(t.target).trigger("textchange")}):e(document).on("focusin",function(e){a(e.target)&&(d(),l(e.target))}).on("focusout",function(){d()}).on("selectionchange keyup keydown",function(){o&&o.value!==s&&(s=o.value,e(o).trigger("textchange"))})}(jQuery),function(e){var t={};e.fn.extend({subscribe:function(e,i,a){var o=t[e];o||(o=this._createEventName(e));var s=this;if(this.subscribers){this.subscribers[e]=i;for(var n in o)if(n._fn===i)return this}var r=function(){return i.apply(s,a||arguments)};return r._fn=i,this._appendHandler(o,r),this},unsubscribe:function(e,i){var a=t[e];return!!a&&this._removeHandler(a,i)},publish:function(e,i,a){var o=t[e];if(o){var s=o,n=s.length;t[e]=[];for(var r=0;r<n;r++){var l=s.shift();if(t[e].push(l),l.apply({},i||[])===!1)return t[e]=t[e].concat(s),!1}return!0}},publishOnEvent:function(t,i,a){return this._createEventName(i),this.bind(t,a,function(t){e(this).publish(i,t.data,t)}),this},_createEventName:function(e){return t[e]||(t[e]=[]),t[e]},_appendHandler:function(e,t){for(var i=e.length,a=0;a<i;a++)if(e[a]._fn===t._fn)return!1;return e.push(t),!0},_removeHandler:function(e,t){var i=e.length;t||(e=[]);for(var a=0;a<i;a++){var o=e.shift();if(o._fn==t)return!0;e.push(o)}return!1}}),e.extend({subscribe:function(t,i,a){return e().subscribe(t,i,a)},unsubscribe:function(t,i){return e().unsubscribe(t,i)},publish:function(t,i,a){return e().publish(t,i,a)}})}(jQuery),$(document).ready(function(){function e(){var e=$("#productCode").val();ga("send","event","Ürün Detay Drop Down - Hata","İlçe Seçiniz",e,1),v("Ürün Detay Drop Down - Hata","İlçe Seçiniz")}function t(){var e=$("#productCode").val();ga("send","event","Ürün Detay Drop Down - Hata","Tarih Seçiniz",e,1),v("Ürün Detay Drop Down - Hata","Tarih Seçiniz")}function i(){var e=$("#productCode").val();ga("send","event","Ürün Detay Drop Down - Hata","Teslimat Saati Seçiniz",e,1),v("Ürün Detay Drop Down - Hata","Teslimat Saati Seçiniz")}function a(){var e=$("#productCode").val();ga("send","event","Ürün Detay Drop Down - Hata","Özellik seçiniz",e,1),v("Ürün Detay Drop Down - Hata","Özellik seçiniz")}function o(){var e=$("#productCode").val();ga("send","event","Ürün Detay Drop Down - Hata","Dakika seçiniz",e,1),v("Ürün Detay Drop Down - Hata","Dakika seçiniz")}function s(){var e=$("#productCode").val();ga("send","event","Ürün Detay Drop Down - Hata","Saat seçiniz",e,1),v("Ürün Detay Drop Down - Hata","Saat seçiniz")}function n(e){var t=$("#js-mobile-promotion").data("place");ga("send","event","MobilLP-contact",t,e)}function r(){var e=(new Date).getTime(),t=$("#productCode").val(),i=$(".js-region-selectize option:selected").text(),a=(new Date).getTime(),o=a-e;ga("send","event","Ürün Detay","İlçe Secimi",o,t+"-"+i)}function l(){var e=(new Date).getTime(),t=$("#productCode").val(),i=$(".js-region-selectize option:selected").text(),a=$(".js-hidden-date-input").val(),o=(new Date).getTime(),s=o-e;ga("send","event","Ürün Detay","Tarih Seçimi",s,t+"-"+i+"-"+a)}function d(){var e=$("#productCode").val(),t=$(".js-region-selectize option:selected").text();ga("send","event","Ürün Detay Drop Down - Hata","Gönderilemiyor",e+"-"+t,1),v("Ürün Detay Drop Down - Hata","Gönderilemiyor")}function c(){var e=$(".js-region-selectize option:selected").text();v("Gönderilemeyen Ürünler",e)}function u(){}function p(){var e=(new Date).getTime(),t=$("#productCode").val(),i=void 0==$("#ProductGroupName").val()?"":$("#ProductGroupName").val(),a=(new Date).getTime(),o=a-e;ga("send","event","Sepete Ekle",i,o,t)}function h(){var e=$("#productCode").val();ga("send","event","Özel Gün Sipariş Kısıtlaması",e,"1")}function m(e){var t=$("#CurrentEmail").val(),i=$("#NewEmail").val(),a=i&&t!==i?"New E-mail":"Existing Email";e?ga("send","event","Unsubscribe Sayfası",a,e):ga("send","event","Unsubscribe Sayfası",a)}function g(){}function v(e,t){var i=$(".product__info-box .price__integer-value").text(),a=$(".product__info-box .price__decimal-value-with-currency").text().split("  ")[0],o=i+a,s=$("#productCode").val();ga("send","event",e,t,s,o)}function f(e){for(var t=e+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){for(var o=i[a];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return null}function b(){var e="test";try{var t=window.localStorage;return t.setItem(e,"1"),t.removeItem(e),!0}catch(i){return!1}}function y(){var e=w("ver");null!=e?C():null!=document.referrer&&document.referrer.indexOf(document.domain)!==-1||C()}function C(){var e=document.getElementById("serverTime");if(null!=e){var t=e.textContent,i=f("__utmz"),a=new Array({Utmz:i,WebReferral:document.referrer,Query:window.location.href,CreateOn:t,Sequence:1});if(b())if(null!=localStorage.getItem("WebReferralV2")){var o=JSON.parse(localStorage.getItem("WebReferralV2"));a[0].Sequence=o.length+1;var s=a.concat(o);localStorage.setItem("WebReferralV2",JSON.stringify(s))}else localStorage.setItem("WebReferralV2",JSON.stringify(a))}}function w(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),a=i.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}$("#google-analytics-plugin").length&&($.subscribe("popup-region-validate",e),$.subscribe("popup-datepicker-validate",t),$.subscribe("popup-deliveryhour-validate",i),$.subscribe("popup-property-validate",a),$.subscribe("popup-minute-validate",o),$.subscribe("popup-hour-validate",s),$.subscribe("region-change",r),$.subscribe("change-productdetail-deliverydate",l),$.subscribe("warning-productdetail-city-cant-send",d),$.subscribe("addToCart",p),$.subscribe("click-mobile-promotion",n),$.subscribe("push-unsubscribe",m),$.subscribe("product-day-close-warning",h),$.subscribe("warning-productdetail-region-cant-send",c),$.subscribe("warning-category-region-no-product",u),$.subscribe("order-tracking-by-google-maps",g),y(),$("body").on("click",".js-similar-product-link",function(){}))});var segment=function(){"use strict";function e(){$("#segment-analytics").length&&($.subscribe("segment-identify",y),$.subscribe("segment-track",C),o(),a(),s(),n(),p(),d(),c(),l(),r(),u(),h(),_(),j(),A(),t(),z(),E(),O(),M(),B(),R(),x(),D(),H()),Z.hasClass("payment")?f():m()}function t(){0!==$(".js-product-conditional-discounts").length||ie&&0!==ae.length||0===ae.length&&"False"===$(".product__variants.is-product .js-choose-variant:checked").attr("data-variant-has-variant-discount")&&L()}function i(e,t){($(".js-login-control").length>0||"true"==$(".js-login-order-control").val())&&$.ajax({url:"/Segment/GetSegment",type:"get",cache:!1}).done(function(i){if(i.IsSuccess){var a=i.Segment.Phone,o=i.Segment.IsOptedEmailMarketing,s=i.Segment.IsOptedSMSMarketing,n=i.Segment.IsOptedPhoneMarketing;"allContactTrue"==t&&(o=!0,s=!0,n=!0),"allContactFalse"==t&&(o=!1,s=!1,n=!1),X={customer_id:i.Segment.Identifier,email:i.Segment.Email,phone_country_code:i.Segment.PhoneCountryCode,phone:a,membership_type:i.Segment.MembershipType,name:i.Segment.Name,flowers_subscription_status:i.Segment.FlowersSubscriptionStatus,has_active_reminder_service:i.Segment.HasActiveReminderService,has_registered_active_credit_card:i.Segment.HasRegisteredActiveCreditCard,available_coupons:i.Segment.AvailableCoupons,opt_in_email:o,opt_in_sms:s,opt_in_phone:n,company_name:i.Segment.CompanyName,opt_out_parents_day_sms_email:i.Segment.IsOptedSpecialDays,customer_class:i.Segment.CustomerClass,is_active:i.Segment.IsActive,registration_channel:i.Segment.RegistrationChannel,receiver_country:i.Segment.ReceiverCountry,currency:i.Segment.Currency,language:i.Segment.Language,permission_update_channel:i.Segment.UpdateChannelType,membership_plan:i.Segment.MembershipPlan,has_wallet:i.Segment.HasWallet,wallet_balance:i.Segment.WalletBalance,address:i.Segment.Address,first_name:i.Segment.FirstName,last_name:i.Segment.LastName,is_email_verified:i.Segment.IsEmailVerified},Y=i.Segment.Identifier;var r=global.getCookie("platform")?global.getCookie("platform"):"Manual";if(global.eraseCookie("platform"),"identifyEvent"==e)k(Y,X),"notUpdateProfile"!==t&&"updateProfileWallet"!==t?v():"updateProfileWallet"===t&&v(!0);else if("trackEvent"==e){var l={customer_id:Y,platform:r};"Signed Up"==t&&(l.membership_type=i.Segment.MembershipType),w(t,l)}else if("trackEventSubSegStatus"==e){var l={customer_id:Y,flowers_subscription_status:i.Segment.FlowersSubscriptionStatus};w("User Profile Updated",l)}else if("trackEventRegisteredCard"==e){var l={customer_id:Y,has_registered_active_credit_card:i.Segment.HasRegisteredActiveCreditCard};w("User Profile Updated",l)}}})}function a(){var e=global.getCookie("segmentSignedUp");e&&($.publish("segment-identify",["notUpdateProfile"]),$.publish("segment-track",["Signed Up"]),global.eraseCookie("segmentSignedUp"))}function o(){var e=global.getCookie("segmentSignedIn");e&&($.publish("segment-identify",["notUpdateProfile"]),$.publish("segment-track",["Signed In"]),global.eraseCookie("segmentSignedIn"))}function s(){var e=global.getCookie("segmentSignedUpdate");e&&($.publish("segment-identify",null),global.eraseCookie("segmentSignedUpdate"))}function n(){var e=global.getCookie("phoneUpdate");e&&($.publish("segment-identify",null),global.eraseCookie("phoneUpdate"))}function r(){var e=global.getCookie("CheckoutSegLog");"True"==e&&($.publish("segment-track",["Signed Up"]),global.eraseCookie("CheckoutSegLog"))}function l(){var e=global.getCookie("SubSegStatus");"True"==e&&(i("trackEventSubSegStatus"),global.eraseCookie("SubSegStatus"))}function d(){var e=global.getCookie("FbSegLogin");"True"==e||"true"==e?($.publish("segment-identify",["notUpdateProfile"]),$.publish("segment-track",["Signed Up"]),global.eraseCookie("FbSegLogin")):"False"!=e&&"false"!=e||($.publish("segment-identify",["notUpdateProfile"]),$.publish("segment-track",["Signed In"]),global.eraseCookie("FbSegLogin"))}function c(){var e=global.getCookie("GoogleSegLogin");"True"==e||"true"==e?($.publish("segment-identify",["notUpdateProfile"]),$.publish("segment-track",["Signed Up"]),global.eraseCookie("GoogleSegLogin")):"False"!=e&&"false"!=e||($.publish("segment-identify",["notUpdateProfile"]),$.publish("segment-track",["Signed In"]),global.eraseCookie("GoogleSegLogin"))}function u(){var e=global.getCookie("SegLogout");"True"!=e&&"true"!=e||(w("Signed Out",{}),window.analytics.reset(),global.eraseCookie("SegLogout"))}function p(){var e=$(".js-segment-control").val();"True"==e&&y()}function h(){var e=$(".js-success-recovery-password");Z.hasClass("password-confirm")&&e.length>0&&($.publish("segment-identify",["notUpdateProfile"]),$.publish("segment-track",["Signed In"]))}function m(e){var t=e?e.Data:$("#checkout-step-completed-event-view-model-data").val(),i=e?e.Name:$("#checkout-step-completed-event-view-model-name").val(),a=[];if(t&&""!==t){var o=localStorage.getItem("checkoutStepSegmentData"),s=JSON.parse(t),n=JSON.parse(t);if(delete n.ShouldSendStepCompletedEvent,o){a=JSON.parse(o);var r=a.findIndex(function(e){return e.step===s.step});if(r>-1){var l=g(a[r],s);(l&&s.ShouldSendStepCompletedEvent===!0||l===!1)&&w(i,n),a.splice(r,1,s)}else w(i,n),a.splice(0,0,s)}else w(i,n),a.push(s);localStorage.setItem("checkoutStepSegmentData",JSON.stringify(a))}}function g(e,t){var i={application:e.application,is_sender_receiver_same:e.is_sender_receiver_same,pay_type:e.pay_type,payment_bank_info:e.payment_bank_info,receiver_region:e.receiver_region,is_message_card_included:e.is_message_card_included,invoice_type:e.invoice_type},a={application:t.application,is_sender_receiver_same:t.is_sender_receiver_same,pay_type:t.pay_type,payment_bank_info:t.payment_bank_info,receiver_region:t.receiver_region,is_message_card_included:t.is_message_card_included,invoice_type:t.invoice_type};return JSON.stringify(i)===JSON.stringify(a)}function v(e){var t=[];if("True"==$(".js-is-communication-permissions-updated").val()&&(t.push("opt_in_email"),t.push("opt_in_sms"),t.push("opt_in_phone")),"True"==$(".js-is-un-permitted-special-days-updated").val()&&t.push("opt_out_parents_day_sms_email"),("True"==$(".js-is-changed-has-registered-card").val()||global.getCookie("changedRegisteredCard"))&&(t.push("has_registered_active_credit_card"),global.eraseCookie("changedRegisteredCard")),"True"==$(".js-is-changed-has-reminder").val()&&t.push("has_active_reminder_service"),"True"==$(".js-is-company-name-changed").val()&&t.push("company_name"),e&&t.push("has_wallet"),t.length>0){var i={profile_details_updated:t};w("User Profile Updated",i)}}function f(){ee?$.ajax({url:"/Segment/GetSegment?c="+ee,type:"get",cache:!1}).done(function(e){e.IsSuccess&&(X={customer_id:e.Segment.Identifier,email:e.Segment.Email,phone_country_code:e.Segment.PhoneCountryCode,phone:e.Segment.Phone,membership_type:e.Segment.MembershipType,name:e.Segment.Name,flowers_subscription_status:e.Segment.FlowersSubscriptionStatus,has_active_reminder_service:e.Segment.HasActiveReminderService,has_registered_active_credit_card:e.Segment.HasRegisteredActiveCreditCard,available_coupons:e.Segment.AvailableCoupons,opt_in_email:e.Segment.IsOptedEmailMarketing,opt_in_sms:e.Segment.IsOptedSMSMarketing,opt_in_phone:e.Segment.IsOptedPhoneMarketing,company_name:e.Segment.CompanyName,opt_out_parents_day_sms_email:e.Segment.IsOptedSpecialDays,customer_class:e.Segment.CustomerClass,is_active:e.Segment.IsActive,registration_channel:e.Segment.RegistrationChannel,receiver_country:e.Segment.ReceiverCountry,currency:e.Segment.Currency,language:e.Segment.Language,permission_update_channel:e.Segment.UpdateChannelType,membership_plan:e.Segment.MembershipPlan,has_wallet:e.Segment.HasWallet,wallet_balance:e.Segment.WalletBalance,address:e.Segment.Address,first_name:e.Segment.FirstName,last_name:e.Segment.LastName,is_email_verified:e.Segment.IsEmailVerified},Y=e.Segment.Identifier,k(Y,X),setTimeout(function(){b(),m()},50))}):(b(),m())}function b(){var e=$(".js-page-screen-event-view-model").data("name"),t=$(".js-page-screen-event-view-model").data("properties");K(e,t),analytics.page()}function y(e){i("identifyEvent",e)}function C(e){i("trackEvent",e)}function w(e,t){if(window.analytics){var i=global.isMobile()?3:1,a=1==global.getCookie("csVarSelection")?"gift":"marketplace",o=global.getCookie("regionlist"),s=document.referrer,n="";s&&s.trim().length>0&&(n=new URL(s).pathname.slice(1)+new URL(s).search);var r={channel:i,main_selection:a,url:location.href||"",path:location.pathname.slice(1)+location.search||"",referrer_url:s||"",referrer_path:n,region_id:o?[o]:""},t=Object.assign(r,t);window.analytics.track(e,t,{integrations:{Amplitude:{session_id:Q()}}})}}function k(e,t){window.analytics.identify(e,t,{context:{app:{version:te}},integrations:{Amplitude:{session_id:Q()}}})}function _(){Z.hasClass("thanks")&&"True"==$(".js-is-payment").val()&&""!=$(".js-order-token-number").val()&&"false"==global.getCookie("ThanksPageVisited")&&$.ajax({url:"/Segment/OrderCompleted?orderToken="+$(".js-order-token-number").val()}).done(function(e){e.IsSuccess&&w("Order Completed",JSON.parse(e.Data))})}function S(e,t,i){var a={query:e.toLocaleLowerCase(),list_type:T(t)};for(var o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);segment.trackFunc("Products Searched",a)}function T(e){var t;switch(e){case"Marka":t="Brand";break;case"Kategori":t="Category";break;default:t="Keyword"}return t}function j(){var e=$(".js-refund-order-token").val(),t=$(".js-refund-product-token").val();Z.hasClass("refund-result")&&""!==e&&""!==t&&$.ajax({url:"/segment/OrderPostSale?orderToken="+e+"&orderProductToken="+t+"&segmentOrderType=3"}).done(function(e){e.IsSuccess&&w("Product Returned",JSON.parse(e.Data))})}function x(){Z.hasClass("opportunity")&&I($(".js-listing-product-item"),$(".js-opportunity-content"))}function D(){Z.hasClass("clap-home")&&I($(".js-listing-product-item"),$(".js-clap-home"))}function I(e,t){if(Z.is(".category-page, .search-page, .home, .opportunity, .clap-home")&&e){var i;if(t){var a=$(t).find(".js-segment-listing-data").val();a&&(i=JSON.parse(a))}else{var o=$(e).find(".js-segment-listing-data").val();o&&(i=JSON.parse(o))}i&&($(e).each(function(e,t){var a=$(t).attr("data-segment-listing-product-model");if(a){var o=JSON.parse(decodeURIComponent(a)),s={category_0:o.category_0,category_1:o.category_1,product_id:o.product_id,position:o.position};i.products.push(s)}}),w("Product List Viewed",i))}}function P(e){if(Z.is(".category-page, .search-page, .home, .opportunity, .clap-home")&&""!==$(".js-segment-listing-data").val()){var t=JSON.parse($(".js-segment-listing-data").val()),i={query:t.query,list_type:t.list_type};w("Product Clicked",$.extend({},e,i))}}function A(){$(document).on("click",".js-listing-product-item",function(){var e=$(this).attr("data-segment-listing-product-model"),t=JSON.parse(decodeURIComponent(e));t&&P(t)})}function E(){Z.hasClass("cart")&&$("#cart-viewed-page-screen-event-view-model-data").val()&&""!==$("#cart-viewed-page-screen-event-view-model-data").val()&&w($("#cart-viewed-page-screen-event-view-model-name").val(),JSON.parse($("#cart-viewed-page-screen-event-view-model-data").val()))}function O(){if(Z.is(".order.receiver, .clap-message")&&$("#checkout-started-event-view-model-data").val()&&""!==$("#checkout-started-event-view-model-data").val()){var e=global.isMobile()?3:1,t=Object.assign(JSON.parse($("#checkout-started-event-view-model-data").val()),{channel:e});w($("#checkout-started-event-view-model-name").val(),t)}}function M(){Z.is(".order.receiver, .payment, .clap-message, .card-message, .invoice, .extra-products")&&$("#checkout-step-viewed-event-model-data").val()&&""!==$("#checkout-step-viewed-event-model-data").val()&&w($("#checkout-step-viewed-event-model-name").val(),JSON.parse($("#checkout-step-viewed-event-model-data").val()))}function L(){if(Z.hasClass("product")&&$("#segment-product-view-data").val()&&""!==$("#segment-product-view-data").val()){var e=JSON.parse($("#segment-product-variant-data").val()),t=JSON.parse($("#segment-product-view-data").val()),i=$("#segment-product-view-name").val(),a=$("#variantID").val();e.length>0&&(e=e.filter(function(e){return e.Id==a})[0]),e.Id&&delete e.Id,setTimeout(function(){var a=$("#isOnlyCargo").val().toLowerCase(),o=$(".js-is-only-service").val(),s=$(".js-is-product-conditional-discount").val();"true"===a&&"false"===o?t.delivery_type="Kargo":"false"===a&&"true"===o?t.delivery_type="Servis Aracı":"false"===a&&"false"===o?t.delivery_type="Kargo ve Servis Aracı":t.delivery_type=null,t.conditional_discount="true"==s,"true"==a&&(""!==$(".js-sales-information-message")[0].innerText?t.is_free_delivery=!0:t.is_free_delivery=!1),w(i,Object.assign(t,e))},550)}}function z(){$(".js-choose-variant").on("change",function(){t()})}function F(e,t,i){var a="TRY",o=Z.attr("data-segment-wishlist"),s="Product Listing",n="Product Added to Wishlist";o?s=o:i&&(s="cart");var r={selected_currency:a};$.ajax({url:"/segment/CollectionProduct?productId="+e,type:"GET",success:function(e){e.IsSuccess&&(t?n="Product Removed from Wishlist":r.added_from=s,w(n,$.extend({},JSON.parse(e.Data),r)))}})}function B(e){var t="Collection Viewed",i=$(".js-segment-collection-track");i=e?i.val():i.last().val(),Z.hasClass("collection")&&i&&""!==i&&w(t,JSON.parse(i))}function R(){var e=$("#js-segment-favorite-products").val(),t="Favorite Viewed";Z.hasClass("customer-favorites")&&e&&""!==e&&w(t,JSON.parse(e))}function N(){var e=$(".js-evaluation-survey-page-screen-event-view-model-name").val(),t=$(".js-evaluation-survey-page-screen-event-view-model-data").val();K(e,JSON.parse(t))}function V(e){var t;t=e.element.hasClass("js-csvv-popup-link")?"Main Selection Popup Clicked":"Main Selection Switch Clicked",w(t,{})}function H(){$(document).on("click",".js-navigation-click-event",function(e){var t=$(this);t.hasClass("js-main-menu-link")&&t.closest(".js-main-menu-item").addClass("js-main-menu-active");var i="Navigation Clicked",a=t.attr("data-segment-navigation"),o=$(window).width()<768,s=global.isMobile()?3:1,n="listing";if(!t.hasClass("js-for-you-navigation-click")||o){if(a)var r=JSON.parse(a);o&&(n=r.clicked_to||"listing"),setTimeout(function(){var e=$.map($(".js-main-menu-item").not(".hidden"),function(e,t){var i=$(e),a="is-active";if(o&&(a="is-active-responsive"),i.hasClass(a)||i.hasClass("js-main-menu-active"))return{clicked_to:n,level1_id:i.find(".js-navigation-click-event").first().attr("data-nav-id"),level1_name:i.find(".js-main-menu-text").first().text().trim().toLowerCase(),level1_position:t+1,channel:s}})[0]||{};w(i,Object.assign(r,e))},10)}})}function U(e){var t=[];$(".js-evaluation-option:checked").each(function(e,i){t.push($(i).attr("data-name").turkishToLower())});var i=$(".js-evaluation-survey-text"),a="Nps Confirmed",o={confirm_date:(new Date).toLocaleString("TR"),nps_score:Number($(".js-evaluation-survey-selected-point").text()),subjects:t.join("-")};i.val()&&(o.description=i.val()),global.checkIsMobileQueryLink()&&k(e,{}),setTimeout(function(){w(a,o)},500)}function q(e,t){var i={list_type:e,page_number:t?t:1,coupons:[]},a=t?".js-voucher-data-for-segment"+t:".js-voucher-data-for-segment",o="Vouchers List Viewed",s=!0;Z.hasClass("coupons-page")||delete i.page_number,Z.hasClass("product")||(s=!1),setTimeout(function(){$(a).each(function(e,t){var a=$(t).attr("data-segment-voucher-model"),o=JSON.parse(decodeURIComponent(a));s="Available"==o.status,s||delete o.is_targeted,i.coupons.push(o)}),i.coupons.length>0&&segment.trackFunc(o,i)},500)}function W(e){var t="Vouchers Collected",i=e.parents(".js-segment-voucher").attr("data-segment-voucher-model"),a=JSON.parse(decodeURIComponent(i));delete a.collect_status,delete a.list_sub_type,(Z.hasClass("product")&&$(".js-specific-audience").length<=0||!Z.is(".product, .account-coupons"))&&delete a.is_targeted;var o={collect_place:G()},s=$.extend({},a,o);segment.trackFunc(t,s)}function G(){var e,t=Z.attr("class").split(" ")[0];switch(t){case"account":e="Account";break;case"coupons-page":e="Vouchers homepage";break;case"category":e="Seller product list";break;default:e="Product detail"}return e}function Q(){var e,t=Date.now();e=global.getCookie("SEGMENT_SESSION").length>0?JSON.parse(decodeURIComponent(global.getCookie("SEGMENT_SESSION"))):{sessionId:t,lastEventTime:t};var i=e.lastEventTime;return new Date(t)-new Date(i)>18e5?(e.sessionId=t,e.lastEventTime=t):e.lastEventTime=t,global.setCookieCustomPath("SEGMENT_SESSION",JSON.stringify(e)),Math.round(new Date(e.sessionId).getTime()/1e3)}function K(e,t){if(window.analytics&&void 0!=e){var i=1;global.isMobile()&&(i=3),i=global.checkIsMobileQueryLink()?2:i,t.channel=i;var a={},o={session_id:Q()};a=void 0!=t?J(o,t):o,e=e.replace(/"/g,""),window.analytics.page(e,a,{integrations:{Amplitude:{session_id:Q()}}})}}function J(e,t){var i={};for(var a in e)i[a]=e[a];for(var a in t)i[a]=t[a];return i}var Y,X={},Z=$("main"),ee=$(".js-guest-customer-id").val(),te=$(".js-segment-app-version").val(),ie="False"===$(".js-has-variant-discount").val(),ae=$(".product__variants.is-product .js-choose-variant");return{init:e,pageView:K,getAmplitudeSessionId:Q,getSegment:i,productSearchedEvent:S,productViewEvent:L,trackFunc:w,checkoutStepCompleted:m,collectionWishListView:B,productWishlistEvent:F,productListViewedEvent:I,productClickedEvent:P,csVarVarSelectionEvent:V,voucherListViewed:q,vouchersCollected:W,npsConfirmedEvent:U,evaluationSurveyPageEvent:N,segmentListType:T}}();window.addEventListener("load",function(){segment.init()});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(e){"use strict";function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=c),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var a=e(this),o=a.data(x);o||(o=new i(this,t),a.data(x,o))})}function i(t,i){function a(t){if(!(de()||e(t.target).closest(i.excludedElements,qe).length>0)){var a=t.originalEvent?t.originalEvent:t;if(!a.pointerType||"mouse"!=a.pointerType||0!=i.fallbackToMouseEvents){var o,s=a.touches,n=s?s[0]:a;return We=C,s?Ge=s.length:i.preventDefaultEvents!==!1&&t.preventDefault(),Me=0,Le=null,ze=null,He=null,Fe=0,Be=0,Re=0,Ne=1,Ve=0,Ue=ve(),re(),ue(0,n),!s||Ge===i.fingers||i.fingers===y||H()?(Ke=Se(),2==Ge&&(ue(1,s[1]),Be=Re=ye(Qe[0].start,Qe[1].start)),(i.swipeStatus||i.pinchStatus)&&(o=M(a,We))):o=!1,o===!1?(We=_,M(a,We),o):(i.hold&&(tt=setTimeout(e.proxy(function(){qe.trigger("hold",[a.target]),i.hold&&(o=i.hold.call(qe,a,a.target))},this),i.longTapThreshold)),ce(!0),null)}}}function D(e){var t=e.originalEvent?e.originalEvent:e;if(We!==k&&We!==_&&!le()){var a,o=t.touches,s=o?o[0]:t,n=pe(s);if(Je=Se(),o&&(Ge=o.length),i.hold&&clearTimeout(tt),We=w,2==Ge&&(0==Be?(ue(1,o[1]),Be=Re=ye(Qe[0].start,Qe[1].start)):(pe(o[1]),Re=ye(Qe[0].end,Qe[1].end),He=Ce(Qe[0].end,Qe[1].end)),Ne=$e(Be,Re),Ve=Math.abs(Be-Re)),Ge===i.fingers||i.fingers===y||!o||H()){if(Le=_e(n.start,n.end),ze=_e(n.last,n.end),N(e,ze),Me=we(n.start,n.end),Fe=be(),me(Le,Me),a=M(t,We),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var r=!0;if(i.triggerOnTouchLeave){var l=Te(this);r=je(n.end,l)}!i.triggerOnTouchEnd&&r?We=O(w):i.triggerOnTouchLeave&&!r&&(We=O(k)),We!=_&&We!=k||M(t,We)}}else We=_,M(t,We);a===!1&&(We=_,M(t,We))}}function I(e){var t=e.originalEvent?e.originalEvent:e,a=t.touches;if(a){if(a.length&&!le())return ne(t),!0;if(a.length&&le())return!0}return le()&&(Ge=Xe),Je=Se(),Fe=be(),F()||!z()?(We=_,M(t,We)):i.triggerOnTouchEnd||i.triggerOnTouchEnd===!1&&We===w?(i.preventDefaultEvents!==!1&&e.preventDefault(),We=k,M(t,We)):!i.triggerOnTouchEnd&&J()?(We=k,L(t,We,m)):We===w&&(We=_,M(t,We)),ce(!1),null}function P(){Ge=0,Je=0,Ke=0,Be=0,Re=0,Ne=1,re(),ce(!1)}function A(e){var t=e.originalEvent?e.originalEvent:e;i.triggerOnTouchLeave&&(We=O(k),M(t,We))}function E(){qe.unbind(Ie,a),qe.unbind(Oe,P),qe.unbind(Pe,D),qe.unbind(Ae,I),Ee&&qe.unbind(Ee,A),ce(!1)}function O(e){var t=e,a=R(),o=z(),s=F();return!a||s?t=_:!o||e!=w||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!o&&e==k&&i.triggerOnTouchLeave&&(t=_):t=k,t}function M(e,t){var i,a=e.touches;return(G()||W())&&(i=L(e,t,p)),(U()||H())&&i!==!1&&(i=L(e,t,h)),oe()&&i!==!1?i=L(e,t,g):se()&&i!==!1?i=L(e,t,v):ae()&&i!==!1&&(i=L(e,t,m)),t===_&&P(e),t===k&&(a?a.length||P(e):P(e)),i}function L(t,a,c){var u;if(c==p){if(qe.trigger("swipeStatus",[a,Le||null,Me||0,Fe||0,Ge,Qe,ze]),i.swipeStatus&&(u=i.swipeStatus.call(qe,t,a,Le||null,Me||0,Fe||0,Ge,Qe,ze),u===!1))return!1;if(a==k&&q()){if(clearTimeout(et),clearTimeout(tt),qe.trigger("swipe",[Le,Me,Fe,Ge,Qe,ze]),i.swipe&&(u=i.swipe.call(qe,t,Le,Me,Fe,Ge,Qe,ze),u===!1))return!1;switch(Le){case o:qe.trigger("swipeLeft",[Le,Me,Fe,Ge,Qe,ze]),i.swipeLeft&&(u=i.swipeLeft.call(qe,t,Le,Me,Fe,Ge,Qe,ze));break;case s:qe.trigger("swipeRight",[Le,Me,Fe,Ge,Qe,ze]),i.swipeRight&&(u=i.swipeRight.call(qe,t,Le,Me,Fe,Ge,Qe,ze));break;case n:qe.trigger("swipeUp",[Le,Me,Fe,Ge,Qe,ze]),i.swipeUp&&(u=i.swipeUp.call(qe,t,Le,Me,Fe,Ge,Qe,ze));break;
case r:qe.trigger("swipeDown",[Le,Me,Fe,Ge,Qe,ze]),i.swipeDown&&(u=i.swipeDown.call(qe,t,Le,Me,Fe,Ge,Qe,ze))}}}if(c==h){if(qe.trigger("pinchStatus",[a,He||null,Ve||0,Fe||0,Ge,Ne,Qe]),i.pinchStatus&&(u=i.pinchStatus.call(qe,t,a,He||null,Ve||0,Fe||0,Ge,Ne,Qe),u===!1))return!1;if(a==k&&V())switch(He){case l:qe.trigger("pinchIn",[He||null,Ve||0,Fe||0,Ge,Ne,Qe]),i.pinchIn&&(u=i.pinchIn.call(qe,t,He||null,Ve||0,Fe||0,Ge,Ne,Qe));break;case d:qe.trigger("pinchOut",[He||null,Ve||0,Fe||0,Ge,Ne,Qe]),i.pinchOut&&(u=i.pinchOut.call(qe,t,He||null,Ve||0,Fe||0,Ge,Ne,Qe))}}return c==m?a!==_&&a!==k||(clearTimeout(et),clearTimeout(tt),Y()&&!ee()?(Ze=Se(),et=setTimeout(e.proxy(function(){Ze=null,qe.trigger("tap",[t.target]),i.tap&&(u=i.tap.call(qe,t,t.target))},this),i.doubleTapThreshold)):(Ze=null,qe.trigger("tap",[t.target]),i.tap&&(u=i.tap.call(qe,t,t.target)))):c==g?a!==_&&a!==k||(clearTimeout(et),clearTimeout(tt),Ze=null,qe.trigger("doubletap",[t.target]),i.doubleTap&&(u=i.doubleTap.call(qe,t,t.target))):c==v&&(a!==_&&a!==k||(clearTimeout(et),Ze=null,qe.trigger("longtap",[t.target]),i.longTap&&(u=i.longTap.call(qe,t,t.target)))),u}function z(){var e=!0;return null!==i.threshold&&(e=Me>=i.threshold),e}function F(){var e=!1;return null!==i.cancelThreshold&&null!==Le&&(e=ge(Le)-Me>=i.cancelThreshold),e}function B(){return null===i.pinchThreshold||Ve>=i.pinchThreshold}function R(){var e;return e=!i.maxTimeThreshold||!(Fe>=i.maxTimeThreshold)}function N(e,t){if(i.preventDefaultEvents!==!1)if(i.allowPageScroll===c)e.preventDefault();else{var a=i.allowPageScroll===u;switch(t){case o:(i.swipeLeft&&a||!a&&i.allowPageScroll!=f)&&e.preventDefault();break;case s:(i.swipeRight&&a||!a&&i.allowPageScroll!=f)&&e.preventDefault();break;case n:(i.swipeUp&&a||!a&&i.allowPageScroll!=b)&&e.preventDefault();break;case r:(i.swipeDown&&a||!a&&i.allowPageScroll!=b)&&e.preventDefault();break;case c:}}}function V(){var e=Q(),t=K(),i=B();return e&&t&&i}function H(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function U(){return!(!V()||!H())}function q(){var e=R(),t=z(),i=Q(),a=K(),o=F(),s=!o&&a&&i&&t&&e;return s}function W(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function G(){return!(!q()||!W())}function Q(){return Ge===i.fingers||i.fingers===y||!S}function K(){return 0!==Qe[0].end.x}function J(){return!!i.tap}function Y(){return!!i.doubleTap}function X(){return!!i.longTap}function Z(){if(null==Ze)return!1;var e=Se();return Y()&&e-Ze<=i.doubleTapThreshold}function ee(){return Z()}function te(){return(1===Ge||!S)&&(isNaN(Me)||Me<i.threshold)}function ie(){return Fe>i.longTapThreshold&&$>Me}function ae(){return!(!te()||!J())}function oe(){return!(!Z()||!Y())}function se(){return!(!ie()||!X())}function ne(e){Ye=Se(),Xe=e.touches.length+1}function re(){Ye=0,Xe=0}function le(){var e=!1;if(Ye){var t=Se()-Ye;t<=i.fingerReleaseThreshold&&(e=!0)}return e}function de(){return!(qe.data(x+"_intouch")!==!0)}function ce(e){qe&&(e===!0?(qe.bind(Pe,D),qe.bind(Ae,I),Ee&&qe.bind(Ee,A)):(qe.unbind(Pe,D,!1),qe.unbind(Ae,I,!1),Ee&&qe.unbind(Ee,A,!1)),qe.data(x+"_intouch",e===!0))}function ue(e,t){var i={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return i.start.x=i.last.x=i.end.x=t.pageX||t.clientX,i.start.y=i.last.y=i.end.y=t.pageY||t.clientY,Qe[e]=i,i}function pe(e){var t=void 0!==e.identifier?e.identifier:0,i=he(t);return null===i&&(i=ue(t,e)),i.last.x=i.end.x,i.last.y=i.end.y,i.end.x=e.pageX||e.clientX,i.end.y=e.pageY||e.clientY,i}function he(e){return Qe[e]||null}function me(e,t){e!=c&&(t=Math.max(t,ge(e)),Ue[e].distance=t)}function ge(e){return Ue[e]?Ue[e].distance:void 0}function ve(){var e={};return e[o]=fe(o),e[s]=fe(s),e[n]=fe(n),e[r]=fe(r),e}function fe(e){return{direction:e,distance:0}}function be(){return Je-Ke}function ye(e,t){var i=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);return Math.round(Math.sqrt(i*i+a*a))}function $e(e,t){var i=t/e*1;return i.toFixed(2)}function Ce(){return 1>Ne?d:l}function we(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function ke(e,t){var i=e.x-t.x,a=t.y-e.y,o=Math.atan2(a,i),s=Math.round(180*o/Math.PI);return 0>s&&(s=360-Math.abs(s)),s}function _e(e,t){if(xe(e,t))return c;var i=ke(e,t);return 45>=i&&i>=0?o:360>=i&&i>=315?o:i>=135&&225>=i?s:i>45&&135>i?r:n}function Se(){var e=new Date;return e.getTime()}function Te(t){t=e(t);var i=t.offset(),a={left:i.left,right:i.left+t.outerWidth(),top:i.top,bottom:i.top+t.outerHeight()};return a}function je(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}function xe(e,t){return e.x==t.x&&e.y==t.y}var i=e.extend({},i),De=S||j||!i.fallbackToMouseEvents,Ie=De?j?T?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Pe=De?j?T?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ae=De?j?T?"MSPointerUp":"pointerup":"touchend":"mouseup",Ee=De?j?"mouseleave":null:"mouseleave",Oe=j?T?"MSPointerCancel":"pointercancel":"touchcancel",Me=0,Le=null,ze=null,Fe=0,Be=0,Re=0,Ne=1,Ve=0,He=0,Ue=null,qe=e(t),We="start",Ge=0,Qe={},Ke=0,Je=0,Ye=0,Xe=0,Ze=0,et=null,tt=null;try{qe.bind(Ie,a),qe.bind(Oe,P)}catch(it){e.error("events not supported "+Ie+","+Oe+" on jQuery.swipe")}this.enable=function(){return this.disable(),qe.bind(Ie,a),qe.bind(Oe,P),qe},this.disable=function(){return E(),qe},this.destroy=function(){E(),qe.data(x,null),qe=null},this.option=function(t,a){if("object"==("undefined"==typeof t?"undefined":_typeof(t)))i=e.extend(i,t);else if(void 0!==i[t]){if(void 0===a)return i[t];i[t]=a}else{if(!t)return i;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var a="1.6.18",o="left",s="right",n="up",r="down",l="in",d="out",c="none",u="auto",p="swipe",h="pinch",m="tap",g="doubletap",v="longtap",f="horizontal",b="vertical",y="all",$=10,C="start",w="move",k="end",_="cancel",S="ontouchstart"in window,T=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!S,j=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!S,x="TouchSwipe",D={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(i){var a=e(this),o=a.data(x);if(o&&"string"==typeof i){if(o[i])return o[i].apply(o,Array.prototype.slice.call(arguments,1));e.error("Method "+i+" does not exist on jQuery.swipe")}else if(o&&"object"==("undefined"==typeof i?"undefined":_typeof(i)))o.option.apply(o,arguments);else if(!(o||"object"!=("undefined"==typeof i?"undefined":_typeof(i))&&i))return t.apply(this,arguments);return a},e.fn.swipe.version=a,e.fn.swipe.defaults=D,e.fn.swipe.phases={PHASE_START:C,PHASE_MOVE:w,PHASE_END:k,PHASE_CANCEL:_},e.fn.swipe.directions={LEFT:o,RIGHT:s,UP:n,DOWN:r,IN:l,OUT:d},e.fn.swipe.pageScroll={NONE:c,HORIZONTAL:f,VERTICAL:b,AUTO:u},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:y}});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,a){var o,s=this;s.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,i){return e('<button type="button" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,outerEdgeLimit:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},s.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(s,s.initials),s.activeBreakpoint=null,s.animType=null,s.animProp=null,s.breakpoints=[],s.breakpointSettings=[],s.cssTransitions=!1,s.focussed=!1,s.interrupted=!1,s.hidden="hidden",s.paused=!0,s.positionProp=null,s.respondTo=null,s.rowCount=1,s.shouldClick=!0,s.$slider=e(t),s.$slidesCache=null,s.transformType=null,s.transitionType=null,s.visibilityChange="visibilitychange",s.windowWidth=0,s.windowTimer=null,o=e(t).data("slick")||{},s.options=e.extend({},s.defaults,a,o),s.currentSlide=s.options.initialSlide,s.originalSettings=s.options,"undefined"!=typeof document.mozHidden?(s.hidden="mozHidden",s.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(s.hidden="webkitHidden",s.visibilityChange="webkitvisibilitychange"),s.autoPlay=e.proxy(s.autoPlay,s),s.autoPlayClear=e.proxy(s.autoPlayClear,s),s.autoPlayIterator=e.proxy(s.autoPlayIterator,s),s.changeSlide=e.proxy(s.changeSlide,s),s.clickHandler=e.proxy(s.clickHandler,s),s.selectHandler=e.proxy(s.selectHandler,s),s.setPosition=e.proxy(s.setPosition,s),s.swipeHandler=e.proxy(s.swipeHandler,s),s.dragHandler=e.proxy(s.dragHandler,s),s.keyHandler=e.proxy(s.keyHandler,s),s.instanceUid=i++,s.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,s.registerBreakpoints(),s.init(!0)}var i=0;return t}(),t.prototype.activateADA=function(){var e=this;e.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,i,a){var o=this;if("boolean"==typeof i)a=i,i=null;else if(i<0||i>=o.slideCount)return!1;o.unload(),"number"==typeof i?0===i&&0===o.$slides.length?e(t).appendTo(o.$slideTrack):a?e(t).insertBefore(o.$slides.eq(i)):e(t).insertAfter(o.$slides.eq(i)):a===!0?e(t).prependTo(o.$slideTrack):e(t).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),o.$slidesCache=o.$slides,o.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var a={},o=this;o.animateHeight(),o.options.rtl===!0&&o.options.vertical===!1&&(t=-t),o.transformsEnabled===!1?o.options.vertical===!1?o.$slideTrack.animate({left:t},o.options.speed,o.options.easing,i):o.$slideTrack.animate({top:t},o.options.speed,o.options.easing,i):o.cssTransitions===!1?(o.options.rtl===!0&&(o.currentLeft=-o.currentLeft),e({animStart:o.currentLeft}).animate({animStart:t},{duration:o.options.speed,easing:o.options.easing,step:function(e){e=Math.ceil(e),o.options.vertical===!1?(a[o.animType]="translate("+e+"px, 0px)",o.$slideTrack.css(a)):(a[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(a))},complete:function(){i&&i.call()}})):(o.applyTransition(),t=Math.ceil(t),o.options.vertical===!1?a[o.animType]="translate3d("+t+"px, 0px, 0px)":a[o.animType]="translate3d(0px,"+t+"px, 0px)",o.$slideTrack.css(a),i&&setTimeout(function(){o.disableTransition(),i.call()},o.options.speed))},t.prototype.getNavTarget=function(){var t=this,i=t.options.asNavFor;return i&&null!==i&&(i=e(i).not(t.$slider)),i},t.prototype.asNavFor=function(t){var i=this,a=i.getNavTarget();null!==a&&"object"===("undefined"==typeof a?"undefined":_typeof(a))&&a.each(function(){var i=e(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(e){var t=this,i={};t.options.fade===!1?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(e.options.infinite===!1&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1===0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,i,a=this;if(a.options.dots===!0&&a.slideCount>a.options.slidesToShow){for(a.$slider.addClass("slick-dotted"),i=e("<ul />").addClass(a.options.dotsClass),t=0;t<=a.getDotCount();t+=1)i.append(e("<li />").append(a.options.customPaging.call(this,a,t)));a.$dots=i.appendTo(a.options.appendDots),a.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t).data("originalStyling",e(i).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),t.options.centerMode!==!0&&t.options.swipeToSlide!==!0||(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,i,a,o,s,n,r=this;if(a=document.createDocumentFragment(),s=r.$slider.children(),r.options.rows>0){for(n=r.options.slidesPerRow*r.options.rows,o=Math.ceil(s.length/n),e=0;e<o;e++){var l=document.createElement("div");for(t=0;t<r.options.rows;t++){var d=document.createElement("div");for(i=0;i<r.options.slidesPerRow;i++){var c=e*n+(t*r.options.slidesPerRow+i);s.get(c)&&d.appendChild(s.get(c))}l.appendChild(d)}a.appendChild(l)}r.$slider.empty().append(a),r.$slider.children().children().children().css({width:100/r.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var a,o,s,n=this,r=!1,l=n.$slider.width(),d=window.innerWidth||e(window).width();if("window"===n.respondTo?s=d:"slider"===n.respondTo?s=l:"min"===n.respondTo&&(s=Math.min(d,l)),n.options.responsive&&n.options.responsive.length&&null!==n.options.responsive){o=null;for(a in n.breakpoints)n.breakpoints.hasOwnProperty(a)&&(n.originalSettings.mobileFirst===!1?s<n.breakpoints[a]&&(o=n.breakpoints[a]):s>n.breakpoints[a]&&(o=n.breakpoints[a]));null!==o?null!==n.activeBreakpoint?(o!==n.activeBreakpoint||i)&&(n.activeBreakpoint=o,"unslick"===n.breakpointSettings[o]?n.unslick(o):(n.options=e.extend({},n.originalSettings,n.breakpointSettings[o]),t===!0&&(n.currentSlide=n.options.initialSlide),n.refresh(t)),r=o):(n.activeBreakpoint=o,"unslick"===n.breakpointSettings[o]?n.unslick(o):(n.options=e.extend({},n.originalSettings,n.breakpointSettings[o]),t===!0&&(n.currentSlide=n.options.initialSlide),n.refresh(t)),r=o):null!==n.activeBreakpoint&&(n.activeBreakpoint=null,n.options=n.originalSettings,t===!0&&(n.currentSlide=n.options.initialSlide),n.refresh(t),r=o),t||r===!1||n.$slider.trigger("breakpoint",[n,r])}},t.prototype.changeSlide=function(t,i){var a,o,s,n=this,r=e(t.currentTarget);switch(r.is("a")&&t.preventDefault(),r.is("li")||(r=r.closest("li")),s=n.slideCount%n.options.slidesToScroll!==0,a=s?0:(n.slideCount-n.currentSlide)%n.options.slidesToScroll,t.data.message){case"previous":o=0===a?n.options.slidesToScroll:n.options.slidesToShow-a,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide-o,!1,i);break;case"next":o=0===a?n.options.slidesToScroll:a,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide+o,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||r.index()*n.options.slidesToScroll;n.slideHandler(n.checkNavigable(l),!1,i),r.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,i,a=this;if(t=a.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var o in t){if(e<t[o]){e=i;break}i=t[o]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),t.options.accessibility===!0&&t.$dots.off("keydown.slick",t.keyHandler)),t.$slider.off("focus.slick blur.slick"),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),t.options.accessibility===!0&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler))),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>0&&(e=t.$slides.children().children(),e.removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){var t=this;t.shouldClick===!1&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),e(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;t.cssTransitions===!1?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick","*",function(i){var a=e(this);setTimeout(function(){t.options.pauseOnFocus&&a.is(":focus")&&(t.focussed=!0,t.autoPlay())},0)}).on("blur.slick","*",function(i){e(this);t.options.pauseOnFocus&&(t.focussed=!1,t.autoPlay())})},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,a=0;if(e.options.infinite===!0)if(e.slideCount<=e.options.slidesToShow)++a;else for(;t<e.slideCount;)++a,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(e.options.centerMode===!0)a=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++a,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else a=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return a-1},t.prototype.getLeft=function(e){var t,i,a,o,s=this,n=0;if(s.slideOffset=0,i=s.$slides.first().outerHeight(!0),s.options.infinite===!0?(s.slideCount>s.options.slidesToShow&&(s.slideOffset=s.slideWidth*s.options.slidesToShow*-1,o=-1,s.options.vertical===!0&&s.options.centerMode===!0&&(2===s.options.slidesToShow?o=-1.5:1===s.options.slidesToShow&&(o=-2)),n=i*s.options.slidesToShow*o),s.slideCount%s.options.slidesToScroll!==0&&e+s.options.slidesToScroll>s.slideCount&&s.slideCount>s.options.slidesToShow&&(e>s.slideCount?(s.slideOffset=(s.options.slidesToShow-(e-s.slideCount))*s.slideWidth*-1,n=(s.options.slidesToShow-(e-s.slideCount))*i*-1):(s.slideOffset=s.slideCount%s.options.slidesToScroll*s.slideWidth*-1,n=s.slideCount%s.options.slidesToScroll*i*-1))):e+s.options.slidesToShow>s.slideCount&&(s.slideOffset=(e+s.options.slidesToShow-s.slideCount)*s.slideWidth,n=(e+s.options.slidesToShow-s.slideCount)*i),s.slideCount<=s.options.slidesToShow&&(s.slideOffset=0,n=0),s.options.centerMode===!0&&s.slideCount<=s.options.slidesToShow?s.slideOffset=s.slideWidth*Math.floor(s.options.slidesToShow)/2-s.slideWidth*s.slideCount/2:s.options.centerMode===!0&&s.options.infinite===!0?s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)-s.slideWidth:s.options.centerMode===!0&&(s.slideOffset=0,s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)),t=s.options.vertical===!1?e*s.slideWidth*-1+s.slideOffset:e*i*-1+n,s.options.variableWidth===!0)if(a=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow),t=s.options.rtl===!0?a[0]?(s.$slideTrack.width()-a[0].offsetLeft-a.width())*-1:0:a[0]?a[0].offsetLeft*-1:0,s.options.centerMode===!0)a=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow+1),t=s.options.rtl===!0?a[0]?(s.$slideTrack.width()-a[0].offsetLeft-a.width())*-1:0:a[0]?a[0].offsetLeft*-1:0,t+=(s.$list.width()-a.outerWidth())/2;else if(s.options.outerEdgeLimit&&s.options.centerMode===!1){var r;r=s.getOuterEdgeLimit(),t=Math.min(Math.max(t,r),0)}return t},t.prototype.getOption=t.prototype.slickGetOption=function(e){var t=this;return t.options[e]},t.prototype.getOuterEdgeLimit=function(){var e,t,i=this;return e=i.$slides.last(),t=e[0]?e[0].offsetLeft*-1:0,t-e.width()+this.$slider.width()},t.prototype.getOuterEdgeSlideNumber=function(){var t,i=this;return i.$slideTrack.find(".slick-slide").each(function(a,o){var s,n,r;if(s=e(o).outerWidth(),n=o.offsetLeft,r=n+s,-i.getOuterEdgeLimit()<r)return t=Number(e(o).attr("data-slick-index"))+1,!1}),t},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,a=0,o=[];for(t.options.infinite===!1?e=t.slideCount:(i=t.options.slidesToScroll*-1,a=t.options.slidesToScroll*-1,e=2*t.slideCount);i<e;)o.push(i),i=a+t.options.slidesToScroll,a+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,a,o,s=this;return o=s.options.centerMode===!0?Math.floor(s.$list.width()/2):0,a=s.swipeLeft*-1+o,s.options.swipeToSlide===!0?(s.$slideTrack.find(".slick-slide").each(function(t,o){var n,r,l;if(n=e(o).outerWidth(),r=o.offsetLeft,s.options.centerMode!==!0&&(r+=n/2),l=r+n,a<l)return i=o,!1}),t=Math.abs(e(i).attr("data-slick-index")-s.currentSlide)||1):s.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){var i=this;i.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var i=this;e(i.$slider).hasClass("slick-initialized")||(e(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),t&&i.$slider.trigger("init",[i]),i.options.accessibility===!0&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},t.prototype.initADA=function(){var t=this,i=Math.ceil(t.slideCount/t.options.slidesToShow),a=t.getNavigableIndexes().filter(function(e){return e>=0&&e<t.slideCount});t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==t.$dots&&(t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){var o=a.indexOf(i);if(e(this).attr({role:"tabpanel",id:"slick-slide"+t.instanceUid+i,tabindex:-1}),o!==-1){var s="slick-slide-control"+t.instanceUid+o;e("#"+s).length&&e(this).attr({"aria-describedby":s})}}),t.$dots.attr("role","tablist").find("li").each(function(o){var s=a[o];e(this).attr({role:"presentation"}),e(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+t.instanceUid+o,"aria-controls":"slick-slide"+t.instanceUid+s,"aria-label":o+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(t.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var o=t.currentSlide,s=o+t.options.slidesToShow;o<s;o++)t.options.focusOnChange?t.$slides.eq(o).attr({tabindex:"0"}):t.$slides.eq(o).removeAttr("tabindex");t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide),e.options.accessibility===!0&&(e.$prevArrow.on("keydown.slick",e.keyHandler),e.$nextArrow.on("keydown.slick",e.keyHandler)))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&(e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.accessibility===!0&&t.$dots.on("keydown.slick",t.keyHandler)),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:t.options.rtl===!0?"next":"previous"}}):39===e.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:t.options.rtl===!0?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy"),a=e(this).attr("data-srcset"),o=e(this).attr("data-sizes")||n.$slider.attr("data-sizes"),s=document.createElement("img");s.onload=function(){t.animate({opacity:0},100,function(){a&&(t.attr("srcset",a),o&&t.attr("sizes",o)),t.attr("src",i).animate({opacity:1},200,function(){t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),n.$slider.trigger("lazyLoaded",[n,t,i])})},s.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,t,i])},s.src=i})}var i,a,o,s,n=this;if(n.options.centerMode===!0?n.options.infinite===!0?(o=n.currentSlide+(n.options.slidesToShow/2+1),s=o+n.options.slidesToShow+2):(o=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),
s=2+(n.options.slidesToShow/2+1)+n.currentSlide):(o=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide,s=Math.ceil(o+n.options.slidesToShow),n.options.fade===!0&&(o>0&&o--,s<=n.slideCount&&s++)),i=n.$slider.find(".slick-slide").slice(o,s),"anticipated"===n.options.lazyLoad)for(var r=o-1,l=s,d=n.$slider.find(".slick-slide"),c=0;c<n.options.slidesToScroll;c++)r<0&&(r=n.slideCount-1),i=i.add(d.eq(r)),i=i.add(d.eq(l)),r--,l++;t(i),n.slideCount<=n.options.slidesToShow?(a=n.$slider.find(".slick-slide"),t(a)):n.currentSlide>=n.slideCount-n.options.slidesToShow?(a=n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow),t(a)):0===n.currentSlide&&(a=n.$slider.find(".slick-cloned").slice(n.options.slidesToShow*-1),t(a))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var e=this;e.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(t){var i=this;if(!i.unslicked&&(i.$slider.trigger("afterChange",[i,t]),i.updateArrows(),i.animating=!1,i.slideCount>i.options.slidesToShow&&i.setPosition(),i.swipeLeft=null,i.options.autoplay&&i.autoPlay(),i.options.accessibility===!0&&(i.initADA(),i.options.focusOnChange))){var a=e(i.$slides.get(i.currentSlide));a.attr("tabindex",0).focus()}},t.prototype.prev=t.prototype.slickPrev=function(){var e=this;e.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(t){t=t||1;var i,a,o,s,n,r=this,l=e("img[data-lazy]",r.$slider);l.length?(i=l.first(),a=i.attr("data-lazy"),o=i.attr("data-srcset"),s=i.attr("data-sizes")||r.$slider.attr("data-sizes"),n=document.createElement("img"),n.onload=function(){o&&(i.attr("srcset",o),s&&i.attr("sizes",s)),i.attr("src",a).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),r.options.adaptiveHeight===!0&&r.setPosition(),r.$slider.trigger("lazyLoaded",[r,i,a]),r.progressiveLazyLoad()},n.onerror=function(){t<3?setTimeout(function(){r.progressiveLazyLoad(t+1)},500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,i,a]),r.progressiveLazyLoad())},n.src=a):(r.updateArrows(),r.$slider.trigger("allImagesLoaded",[r]))},t.prototype.refresh=function(t){var i,a,o=this;a=o.slideCount-o.options.slidesToShow,!o.options.infinite&&o.currentSlide>a&&(o.currentSlide=a),o.slideCount<=o.options.slidesToShow&&(o.currentSlide=0),i=o.currentSlide,o.destroy(!0),e.extend(o,o.initials,{currentSlide:i}),o.init(),t||o.changeSlide({data:{message:"index",index:i}},!1)},t.prototype.registerBreakpoints=function(){var t,i,a,o=this,s=o.options.responsive||null;if("array"===e.type(s)&&s.length){o.respondTo=o.options.respondTo||"window";for(t in s)if(a=o.breakpoints.length-1,s.hasOwnProperty(t)){for(i=s[t].breakpoint;a>=0;)o.breakpoints[a]&&o.breakpoints[a]===i&&o.breakpoints.splice(a,1),a--;o.breakpoints.push(i),o.breakpointSettings[i]=s[t].settings}o.breakpoints.sort(function(e,t){return o.options.mobileFirst?e-t:t-e})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var a=this;return"boolean"==typeof e?(t=e,e=t===!0?0:a.slideCount-1):e=t===!0?--e:e,!(a.slideCount<1||e<0||e>a.slideCount-1)&&(a.unload(),i===!0?a.$slideTrack.children().remove():a.$slideTrack.children(this.options.slide).eq(e).remove(),a.$slides=a.$slideTrack.children(this.options.slide),a.$slideTrack.children(this.options.slide).detach(),a.$slideTrack.append(a.$slides),a.$slidesCache=a.$slides,void a.reinit())},t.prototype.setCSS=function(e){var t,i,a=this,o={};a.options.rtl===!0&&(e=-e),t="left"==a.positionProp?Math.ceil(e)+"px":"0px",i="top"==a.positionProp?Math.ceil(e)+"px":"0px",o[a.positionProp]=e,a.transformsEnabled===!1?a.$slideTrack.css(o):(o={},a.cssTransitions===!1?(o[a.animType]="translate("+t+", "+i+")",a.$slideTrack.css(o)):(o[a.animType]="translate3d("+t+", "+i+", 0px)",a.$slideTrack.css(o)))},t.prototype.setDimensions=function(){var e=this;e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):e.options.variableWidth===!0?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(a,o){t=i.slideWidth*a*-1,i.options.rtl===!0?e(o).css({position:"relative",right:t,top:0,zIndex:i.options.zIndex-2,opacity:0}):e(o).css({position:"relative",left:t,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,i,a,o,s,n=this,r=!1;if("object"===e.type(arguments[0])?(a=arguments[0],r=arguments[1],s="multiple"):"string"===e.type(arguments[0])&&(a=arguments[0],o=arguments[1],r=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?s="responsive":"undefined"!=typeof arguments[1]&&(s="single")),"single"===s)n.options[a]=o;else if("multiple"===s)e.each(a,function(e,t){n.options[e]=t});else if("responsive"===s)for(i in o)if("array"!==e.type(n.options.responsive))n.options.responsive=[o[i]];else{for(t=n.options.responsive.length-1;t>=0;)n.options.responsive[t].breakpoint===o[i].breakpoint&&n.options.responsive.splice(t,1),t--;n.options.responsive.push(o[i])}r&&(n.unload(),n.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||e.options.useCSS===!0&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t,i,a,o,s=this;if(i=s.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),s.$slides.eq(e).addClass("slick-current"),s.options.centerMode===!0){var n=s.options.slidesToShow%2===0?1:0;t=Math.floor(s.options.slidesToShow/2),s.options.infinite===!0&&(e>=t&&e<=s.slideCount-1-t?s.$slides.slice(e-t+n,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(a=s.options.slidesToShow+e,i.slice(a-t+1+n,a+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-s.options.slidesToShow).addClass("slick-center"):e===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(e).addClass("slick-center")}else e>=0&&e<=s.slideCount-s.options.slidesToShow?s.$slides.slice(e,e+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=s.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(o=s.slideCount%s.options.slidesToShow,a=s.options.infinite===!0?s.options.slidesToShow+e:e,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-e<s.options.slidesToShow?i.slice(a-(s.options.slidesToShow-o),a+o).addClass("slick-active").attr("aria-hidden","false"):i.slice(a,a+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==s.options.lazyLoad&&"anticipated"!==s.options.lazyLoad||s.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,a,o=this;if(o.options.fade===!0&&(o.options.centerMode=!1),o.options.infinite===!0&&o.options.fade===!1&&(i=null,o.slideCount>o.options.slidesToShow)){for(a=o.options.centerMode===!0?o.options.slidesToShow+1:o.options.slidesToShow,t=o.slideCount;t>o.slideCount-a;t-=1)i=t-1,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(t=0;t<a+o.slideCount;t+=1)i=t,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.interrupt=function(e){var t=this;e||t.autoPlay(),t.interrupted=e},t.prototype.selectHandler=function(t){var i=this,a=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),o=parseInt(a.attr("data-slick-index"));return o||(o=0),i.slideCount<=i.options.slidesToShow?void i.slideHandler(o,!1,!0):void i.slideHandler(o)},t.prototype.slideHandler=function(e,t,i){var a,o,s,n,r,l,d=null,c=this;if(t=t||!1,!(c.animating===!0&&c.options.waitForAnimate===!0||c.options.fade===!0&&c.currentSlide===e))return t===!1&&c.asNavFor(e),c.options.outerEdgeLimit&&c.options.centerMode===!1&&(l=c.getOuterEdgeSlideNumber(),l<e&&(e=l)),a=e,d=c.getLeft(a),n=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?n:c.swipeLeft,c.options.infinite===!1&&c.options.centerMode===!1&&(e<0||e>c.getDotCount()*c.options.slidesToScroll)?void(c.options.fade===!1&&(a=c.currentSlide,i!==!0&&c.slideCount>c.options.slidesToShow?c.animateSlide(n,function(){c.postSlide(a)}):c.postSlide(a))):c.options.infinite===!1&&c.options.centerMode===!0&&(e<0||e>c.slideCount-c.options.slidesToScroll)?void(c.options.fade===!1&&(a=c.currentSlide,i!==!0&&c.slideCount>c.options.slidesToShow?c.animateSlide(n,function(){c.postSlide(a)}):c.postSlide(a))):(c.options.autoplay&&clearInterval(c.autoPlayTimer),o=a<0?c.slideCount%c.options.slidesToScroll!==0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+a:a>=c.slideCount?c.slideCount%c.options.slidesToScroll!==0?0:a-c.slideCount:a,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,o]),s=c.currentSlide,c.currentSlide=o,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(r=c.getNavTarget(),r=r.slick("getSlick"),r.slideCount<=r.options.slidesToShow&&r.setSlideClasses(c.currentSlide)),c.updateDots(),c.updateArrows(),c.options.fade===!0?(i!==!0?(c.fadeSlideOut(s),c.fadeSlide(o,function(){c.postSlide(o)})):c.postSlide(o),void c.animateHeight()):void(i!==!0&&c.slideCount>c.options.slidesToShow?c.animateSlide(d,function(){c.postSlide(o)}):c.postSlide(o)))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,a,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(t,e),a=Math.round(180*i/Math.PI),a<0&&(a=360-Math.abs(a)),a<=45&&a>=0?o.options.rtl===!1?"left":"right":a<=360&&a>=315?o.options.rtl===!1?"left":"right":a>=135&&a<=225?o.options.rtl===!1?"right":"left":o.options.verticalSwiping===!0?a>=35&&a<=135?"down":"up":"vertical"},t.prototype.swipeEnd=function(e){var t,i,a=this;if(a.dragging=!1,a.swiping=!1,a.scrolling)return a.scrolling=!1,!1;if(a.interrupted=!1,a.shouldClick=!(a.touchObject.swipeLength>10),void 0===a.touchObject.curX)return!1;if(a.touchObject.edgeHit===!0&&a.$slider.trigger("edge",[a,a.swipeDirection()]),a.touchObject.swipeLength>=a.touchObject.minSwipe){switch(i=a.swipeDirection()){case"left":case"down":t=a.options.swipeToSlide?a.checkNavigable(a.currentSlide+a.getSlideCount()):a.currentSlide+a.getSlideCount(),a.currentDirection=0;break;case"right":case"up":t=a.options.swipeToSlide?a.checkNavigable(a.currentSlide-a.getSlideCount()):a.currentSlide-a.getSlideCount(),a.currentDirection=1}"vertical"!=i&&(a.slideHandler(t),a.touchObject={},a.$slider.trigger("swipe",[a,i]))}else a.touchObject.startX!==a.touchObject.curX&&(a.slideHandler(a.currentSlide),a.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&e.type.indexOf("mouse")!==-1))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,a,o,s,n,r=this;return s=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!r.dragging||r.scrolling||s&&1!==s.length)&&(t=r.getLeft(r.currentSlide),r.touchObject.curX=void 0!==s?s[0].pageX:e.clientX,r.touchObject.curY=void 0!==s?s[0].pageY:e.clientY,r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curX-r.touchObject.startX,2))),n=Math.round(Math.sqrt(Math.pow(r.touchObject.curY-r.touchObject.startY,2))),!r.options.verticalSwiping&&!r.swiping&&n>4?(r.scrolling=!0,!1):(r.options.verticalSwiping===!0&&(r.touchObject.swipeLength=n),i=r.swipeDirection(),void 0!==e.originalEvent&&r.touchObject.swipeLength>4&&(r.swiping=!0,e.preventDefault()),o=(r.options.rtl===!1?1:-1)*(r.touchObject.curX>r.touchObject.startX?1:-1),r.options.verticalSwiping===!0&&(o=r.touchObject.curY>r.touchObject.startY?1:-1),a=r.touchObject.swipeLength,r.touchObject.edgeHit=!1,r.options.infinite===!1&&(0===r.currentSlide&&"right"===i||r.currentSlide>=r.getDotCount()&&"left"===i)&&(a=r.touchObject.swipeLength*r.options.edgeFriction,r.touchObject.edgeHit=!0),r.options.vertical===!1?r.swipeLeft=t+a*o:r.swipeLeft=t+a*(r.$list.height()/r.listWidth)*o,r.options.verticalSwiping===!0&&(r.swipeLeft=t+a*o),r.options.fade!==!0&&r.options.touchMove!==!1&&(r.animating===!0?(r.swipeLeft=null,!1):void r.setCSS(r.swipeLeft))))},t.prototype.swipeStart=function(e){var t,i=this;return i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var t,i=this;if(t=Math.floor(i.options.slidesToShow/2),i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&!i.options.infinite&&(i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===i.currentSlide?(i.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-i.options.slidesToShow&&i.options.centerMode===!1?(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-1&&i.options.centerMode===!0&&(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")),i.options.outerEdgeLimit===!0&&i.options.centerMode===!1)){var a=i.$slides.last(),o=e(window).width(),s=i.$slider.offset().left,n=o-(s+i.$slider.outerWidth()),r=o-(a.offset().left+a.outerWidth()),l=r-n;a.outerWidth()+s+n>o&&(l=-a.offset().left+s),l>-1?(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.touchObject.edgeHit=!0,i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$nextArrow&&i.$nextArrow.off("click.slick",i.changeSlide),i.options.accessibility===!0&&i.$nextArrow&&i.$nextArrow.off("keydown.slick",i.keyHandler))):(i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$nextArrow.off("click.slick").on("click.slick",{message:"next"},i.changeSlide),i.options.accessibility===!0&&i.$nextArrow.on("keydown.slick",i.keyHandler)))}},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").end(),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},t.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},e.fn.slick=function(){var e,i,a=this,o=arguments[0],s=Array.prototype.slice.call(arguments,1),n=a.length;for(e=0;e<n;e++)if("object"==("undefined"==typeof o?"undefined":_typeof(o))||"undefined"==typeof o?a[e].slick=new t(a[e],o):i=a[e].slick[o].apply(a[e].slick,s),"undefined"!=typeof i)return i;return a}});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var t,i=document.createElement("source"),a=function(e){var t,a,o=e.parentNode;"PICTURE"===o.nodeName.toUpperCase()?(t=i.cloneNode(),o.insertBefore(t,o.firstElementChild),setTimeout(function(){o.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,a=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=a}))},o=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)a(t[e])},s=function(){clearTimeout(t),t=setTimeout(o,99)},n=e.matchMedia&&matchMedia("(orientation: landscape)"),r=function(){s(),n&&n.addListener&&n.addListener(s)};return i.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?r():document.addEventListener("DOMContentLoaded",r),s}())}(window),function(e,t,i){"use strict";function a(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function o(t,i){var a=new e.Image;return a.onerror=function(){T[t]=!1,te()},a.onload=function(){T[t]=1===a.width,te()},a.src=i,"pending"}function s(){F=!1,N=e.devicePixelRatio,B={},R={},b.DPR=N||1,V.width=Math.max(e.innerWidth||0,S.clientWidth),V.height=Math.max(e.innerHeight||0,S.clientHeight),V.vw=V.width/100,V.vh=V.height/100,f=[V.height,V.width,N].join("-"),V.em=b.getEmValue(),V.rem=V.em}function n(e,t,i,a){var o,s,n,r;return"saveData"===j.algorithm?e>2.7?r=i+1:(s=t-i,o=Math.pow(e-.6,1.5),n=s*o,a&&(n+=.1*o),r=e+n):r=i>1?Math.sqrt(e*t):e,r>i}function r(e){var t,i=b.getSet(e),a=!1;"pending"!==i&&(a=f,i&&(t=b.setRes(i),b.applySetCandidate(t,e))),e[b.ns].evaled=a}function l(e,t){return e.res-t.res}function d(e,t,i){var a;return!i&&t&&(i=e[b.ns].sets,i=i&&i[i.length-1]),a=c(t,i),a&&(t=b.makeUrl(t),e[b.ns].curSrc=t,e[b.ns].curCan=a,a.res||ee(a,a.set.sizes)),a}function c(e,t){var i,a,o;if(e&&t)for(o=b.parseSet(t),e=b.makeUrl(e),i=0;i<o.length;i++)if(e===b.makeUrl(o[i].url)){a=o[i];break}return a}function u(e,t){var i,a,o,s,n=e.getElementsByTagName("source");for(i=0,a=n.length;i<a;i++)o=n[i],o[b.ns]=!0,s=o.getAttribute("srcset"),s&&t.push({srcset:s,media:o.getAttribute("media"),type:o.getAttribute("type"),sizes:o.getAttribute("sizes")})}function p(e,t){function i(t){var i,a=t.exec(e.substring(p));if(a)return i=a[0],p+=i.length,i}function o(){var e,i,a,o,s,l,d,c,u,p=!1,m={};for(o=0;o<r.length;o++)s=r[o],l=s[s.length-1],d=s.substring(0,s.length-1),c=parseInt(d,10),u=parseFloat(d),K.test(d)&&"w"===l?((e||i)&&(p=!0),0===c?p=!0:e=c):J.test(d)&&"x"===l?((e||i||a)&&(p=!0),u<0?p=!0:i=u):K.test(d)&&"h"===l?((a||i)&&(p=!0),0===c?p=!0:a=c):p=!0;p||(m.url=n,e&&(m.w=e),i&&(m.d=i),a&&(m.h=a),a||i||e||(m.d=1),1===m.d&&(t.has1x=!0),m.set=t,h.push(m))}function s(){for(i(q),l="",d="in descriptor";;){if(c=e.charAt(p),"in descriptor"===d)if(a(c))l&&(r.push(l),l="",d="after descriptor");else{if(","===c)return p+=1,l&&r.push(l),void o();if("("===c)l+=c,d="in parens";else{if(""===c)return l&&r.push(l),void o();l+=c}}else if("in parens"===d)if(")"===c)l+=c,d="in descriptor";else{if(""===c)return r.push(l),void o();l+=c}else if("after descriptor"===d)if(a(c));else{if(""===c)return void o();d="in descriptor",p-=1}p+=1}}for(var n,r,l,d,c,u=e.length,p=0,h=[];;){if(i(W),p>=u)return h;n=i(G),r=[],","===n.slice(-1)?(n=n.replace(Q,""),o()):s()}}function h(e){function t(e){function t(){s&&(n.push(s),s="")}function i(){n[0]&&(r.push(n),n=[])}for(var o,s="",n=[],r=[],l=0,d=0,c=!1;;){if(o=e.charAt(d),""===o)return t(),i(),r;if(c){if("*"===o&&"/"===e[d+1]){c=!1,d+=2,t();continue}d+=1}else{if(a(o)){if(e.charAt(d-1)&&a(e.charAt(d-1))||!s){d+=1;continue}if(0===l){t(),d+=1;continue}o=" "}else if("("===o)l+=1;else if(")"===o)l-=1;else{if(","===o){t(),i(),d+=1;continue}if("/"===o&&"*"===e.charAt(d+1)){c=!0,d+=2;continue}}s+=o,d+=1}}}function i(e){return!!(c.test(e)&&parseFloat(e)>=0)||(!!u.test(e)||("0"===e||"-0"===e||"+0"===e))}var o,s,n,r,l,d,c=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,u=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(s=t(e),n=s.length,o=0;o<n;o++)if(r=s[o],l=r[r.length-1],i(l)){if(d=l,r.pop(),0===r.length)return d;if(r=r.join(" "),b.matchesMedia(r))return d}return"100vw"}t.createElement("picture");var m,g,v,f,b={},y=!1,$=function(){},C=t.createElement("img"),w=C.getAttribute,k=C.setAttribute,_=C.removeAttribute,S=t.documentElement,T={},j={algorithm:""},x="data-pfsrc",D=x+"set",I=navigator.userAgent,P=/rident/.test(I)||/ecko/.test(I)&&I.match(/rv\:(\d+)/)&&RegExp.$1>35,A="currentSrc",E=/\s+\+?\d+(e\d+)?w/,O=/(\([^)]+\))?\s*(.+)/,M=e.picturefillCFG,L="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",z="font-size:100%!important;",F=!0,B={},R={},N=e.devicePixelRatio,V={px:1,"in":96},H=t.createElement("a"),U=!1,q=/^[ \t\n\r\u000c]+/,W=/^[, \t\n\r\u000c]+/,G=/^[^ \t\n\r\u000c]+/,Q=/[,]+$/,K=/^\d+$/,J=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,Y=function(e,t,i,a){e.addEventListener?e.addEventListener(t,i,a||!1):e.attachEvent&&e.attachEvent("on"+t,i)},X=function(e){var t={};return function(i){return i in t||(t[i]=e(i)),t[i]}},Z=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=function(){for(var e=arguments,t=0,i=e[0];++t in e;)i=i.replace(e[t],e[++t]);return i},i=X(function(e){return"return "+t((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(t,a){var o;if(!(t in B))if(B[t]=!1,a&&(o=t.match(e)))B[t]=o[1]*V[o[2]];else try{B[t]=new Function("e",i(t))(V)}catch(s){}return B[t]}}(),ee=function(e,t){return e.w?(e.cWidth=b.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},te=function(e){if(y){var i,a,o,s=e||{};if(s.elements&&1===s.elements.nodeType&&("IMG"===s.elements.nodeName.toUpperCase()?s.elements=[s.elements]:(s.context=s.elements,s.elements=null)),i=s.elements||b.qsa(s.context||t,s.reevaluate||s.reselect?b.sel:b.selShort),o=i.length){for(b.setupRun(s),U=!0,a=0;a<o;a++)b.fillImg(i[a],s);b.teardownRun(s)}}};m=e.console&&console.warn?function(e){console.warn(e)}:$,A in C||(A="src"),T["image/jpeg"]=!0,T["image/gif"]=!0,T["image/png"]=!0,T["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),b.ns=("pf"+(new Date).getTime()).substr(0,9),b.supSrcset="srcset"in C,b.supSizes="sizes"in C,b.supPicture=!!e.HTMLPictureElement,b.supSrcset&&b.supPicture&&!b.supSizes&&!function(e){C.srcset="data:,a",e.src="data:,a",b.supSrcset=C.complete===e.complete,b.supPicture=b.supSrcset&&b.supPicture}(t.createElement("img")),b.supSrcset&&!b.supSizes?!function(){var e="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",i="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a=t.createElement("img"),o=function(){var e=a.width;2===e&&(b.supSizes=!0),v=b.supSrcset&&!b.supSizes,y=!0,setTimeout(te)};a.onload=o,a.onerror=o,a.setAttribute("sizes","9px"),a.srcset=i+" 1w,"+e+" 9w",a.src=i}():y=!0,b.selShort="picture>img,img[srcset]",b.sel=b.selShort,b.cfg=j,b.DPR=N||1,b.u=V,b.types=T,b.setSize=$,b.makeUrl=X(function(e){return H.href=e,H.href}),b.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},b.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?b.matchesMedia=function(e){return!e||matchMedia(e).matches}:b.matchesMedia=b.mMQ,b.matchesMedia.apply(this,arguments)},b.mMQ=function(e){return!e||Z(e)},b.calcLength=function(e){var t=Z(e,!0)||!1;return t<0&&(t=!1),t},b.supportsType=function(e){return!e||T[e]},b.parseSize=X(function(e){var t=(e||"").match(O);return{media:t&&t[1],length:t&&t[2]}}),b.parseSet=function(e){return e.cands||(e.cands=p(e.srcset,e)),e.cands},b.getEmValue=function(){var e;if(!g&&(e=t.body)){var i=t.createElement("div"),a=S.style.cssText,o=e.style.cssText;i.style.cssText=L,S.style.cssText=z,e.style.cssText=z,e.appendChild(i),g=i.offsetWidth,e.removeChild(i),g=parseFloat(g,10),S.style.cssText=a,e.style.cssText=o}return g||16},b.calcListLength=function(e){if(!(e in R)||j.uT){var t=b.calcLength(h(e));R[e]=t?t:V.width}return R[e]},b.setRes=function(e){var t;if(e){t=b.parseSet(e);for(var i=0,a=t.length;i<a;i++)ee(t[i],e.sizes)}return t},b.setRes.res=ee,b.applySetCandidate=function(e,t){if(e.length){var i,a,o,s,r,c,u,p,h,m=t[b.ns],g=b.DPR;if(c=m.curSrc||t[A],u=m.curCan||d(t,c,e[0].set),u&&u.set===e[0].set&&(h=P&&!t.complete&&u.res-.1>g,h||(u.cached=!0,u.res>=g&&(r=u))),!r)for(e.sort(l),s=e.length,r=e[s-1],a=0;a<s;a++)if(i=e[a],i.res>=g){o=a-1,r=e[o]&&(h||c!==b.makeUrl(i.url))&&n(e[o].res,i.res,g,e[o].cached)?e[o]:i;break}r&&(p=b.makeUrl(r.url),m.curSrc=p,m.curCan=r,p!==c&&b.setSrc(t,r),b.setSize(t))}},b.setSrc=function(e,t){var i;e.src=t.url,"image/svg+xml"===t.set.type&&(i=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=i))},b.getSet=function(e){var t,i,a,o=!1,s=e[b.ns].sets;for(t=0;t<s.length&&!o;t++)if(i=s[t],i.srcset&&b.matchesMedia(i.media)&&(a=b.supportsType(i.type))){"pending"===a&&(i=a),o=i;break}return o},b.parseSets=function(e,t,a){var o,s,n,r,l=t&&"PICTURE"===t.nodeName.toUpperCase(),d=e[b.ns];(d.src===i||a.src)&&(d.src=w.call(e,"src"),d.src?k.call(e,x,d.src):_.call(e,x)),(d.srcset===i||a.srcset||!b.supSrcset||e.srcset)&&(o=w.call(e,"srcset"),d.srcset=o,r=!0),d.sets=[],l&&(d.pic=!0,u(t,d.sets)),d.srcset?(s={srcset:d.srcset,sizes:w.call(e,"sizes")},d.sets.push(s),n=(v||d.src)&&E.test(d.srcset||""),n||!d.src||c(d.src,s)||s.has1x||(s.srcset+=", "+d.src,s.cands.push({url:d.src,d:1,set:s}))):d.src&&d.sets.push({srcset:d.src,sizes:null}),d.curCan=null,d.curSrc=i,d.supported=!(l||s&&!b.supSrcset||n&&!b.supSizes),r&&b.supSrcset&&!d.supported&&(o?(k.call(e,D,o),e.srcset=""):_.call(e,D)),d.supported&&!d.srcset&&(!d.src&&e.src||e.src!==b.makeUrl(d.src))&&(null===d.src?e.removeAttribute("src"):e.src=d.src),d.parsed=!0},b.fillImg=function(e,t){var i,a=t.reselect||t.reevaluate;e[b.ns]||(e[b.ns]={}),i=e[b.ns],(a||i.evaled!==f)&&(i.parsed&&!t.reevaluate||b.parseSets(e,e.parentNode,t),i.supported?i.evaled=f:r(e))},b.setupRun=function(){U&&!F&&N===e.devicePixelRatio||s()},b.supPicture?(te=$,b.fillImg=$):!function(){var i,a=e.attachEvent?/d$|^c/:/d$|^c|^i/,o=function d(){var e=t.readyState||"";s=setTimeout(d,"loading"===e?200:999),t.body&&(b.fillImgs(),i=i||a.test(e),i&&clearTimeout(s))},s=setTimeout(o,t.body?9:99),n=function(e,t){var i,a,o=function s(){var o=new Date-a;o<t?i=setTimeout(s,t-o):(i=null,e())};return function(){a=new Date,i||(i=setTimeout(o,t))}},r=S.clientHeight,l=function(){F=Math.max(e.innerWidth||0,S.clientWidth)!==V.width||S.clientHeight!==r,r=S.clientHeight,F&&b.fillImgs()};Y(e,"resize",n(l,99)),Y(t,"readystatechange",o)}(),b.picturefill=te,b.fillImgs=te,b.teardownRun=$,te._=b,e.picturefillCFG={pf:b,push:function(e){var t=e.shift();"function"==typeof b[t]?b[t].apply(b,e):(j[t]=e[0],U&&b.fillImgs({reselect:!0}))}};for(;M&&M.length;)e.picturefillCFG.push(M.shift());e.picturefill=te,"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=te:"function"==typeof define&&define.amd&&define("picturefill",function(){
return te}),b.supPicture||(T["image/webp"]=o("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=e.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target),e(t.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(t){function a(){var a,o;return!i.settings.submitHandler||(i.submitButton&&(a=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),o=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&a.remove(),void 0!==o&&o)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,a()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):a():(i.focusInvalid(),!1)})),i)},valid:function a(){var a,t;return e(this[0]).is("form")?a=this.validate().form():(a=!0,t=e(this[0].form).validate(),this.each(function(){a=t.element(this)&&a})),a},removeAttrs:function(t){var i={},a=this;return e.each(t.split(/\s/),function(e,t){i[t]=a.attr(t),a.removeAttr(t)}),i},rules:function(t,i){var a,o,s,n,r,l,d=this[0];if(t)switch(a=e.data(d.form,"validator").settings,o=a.rules,s=e.validator.staticRules(d),t){case"add":e.extend(s,e.validator.normalizeRule(i)),delete s.messages,o[d.name]=s,i.messages&&(a.messages[d.name]=e.extend(a.messages[d.name],i.messages));break;case"remove":return i?(l={},e.each(i.split(/\s/),function(t,i){l[i]=s[i],delete s[i],"required"===i&&e(d).removeAttr("aria-required")}),l):(delete o[d.name],s)}return n=e.validator.normalizeRules(e.extend({},e.validator.classRules(d),e.validator.attributeRules(d),e.validator.dataRules(d),e.validator.staticRules(d)),d),n.required&&(r=n.required,delete n.required,n=e.extend({required:r},n),e(d).attr("aria-required","true")),n.remote&&(r=n.remote,delete n.remote,n=e.extend(n,{remote:r})),n}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden, [disabled]",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,a){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(a):e(t).addClass(i).removeClass(a)},unhighlight:function(t,i,a){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(a):e(t).removeClass(i).addClass(a)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"Bu bilginin doldurulması zorunludur.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Lütfen en fazla {0} karakter uzunluğunda bir değer giriniz."),minlength:e.validator.format("En az {0} karakter uzunluğunda olmalı."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=e.data(this[0].form,"validator"),a="on"+t.type.replace(/^validate/,""),o=i.settings;o[a]&&!this.is(o.ignore)&&o[a].call(i,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,a=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){a[i]=t})}),i=this.settings.rules,e.each(i,function(t,a){i[t]=e.validator.normalizeRule(a)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",t).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var i=this.clean(t),a=this.validationTargetFor(i),o=!0;return this.lastElement=a,void 0===a?delete this.invalid[i.name]:(this.prepareElement(a),this.currentElements=e(a),o=this.check(a)!==!1,o?delete this.invalid[a.name]:this.invalid[a.name]=!0),e(t).attr("aria-invalid",!o),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),o},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly], :hidden").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in i||!t.objectLength(e(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i,a=e(t),o=t.type;return"radio"===o||"checkbox"===o?e("input[name='"+t.name+"']:checked").val():"number"===o&&"undefined"!=typeof t.validity?!t.validity.badInput&&a.val():(i=a.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,a,o,s=e(t).rules(),n=e.map(s,function(e,t){return t}).length,r=!1,l=this.elementValue(t);for(a in s){o={method:a,parameters:s[a]};try{if(i=e.validator.methods[a].call(this,l,t,o.parameters),"dependency-mismatch"===i&&1===n){r=!0;continue}if(r=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,o),!1}catch(d){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+o.method+"' method.",d),d}}if(!r)return this.objectLength(s)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,i){var a=this.defaultMessage(t,i.method),o=/\$?\{(\d+)\}/g;"function"==typeof a?a=a.call(this,i.parameters,t):o.test(a)&&(a=e.validator.format(a.replace(o,"{$1}"),i.parameters)),this.errorList.push({message:a,element:t,method:i.method}),this.errorMap[t.name]=a,this.submitted[t.name]=a},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var a,o,s,n=this.errorsFor(t),r=this.idOrName(t),l=e(t).attr("aria-describedby");n.length?(n.removeClass(this.settings.validClass).addClass(this.settings.errorClass),n.html(i)):(n=e("<"+this.settings.errorElement+">").attr("id",r+"-error").addClass(this.settings.errorClass).html(i||""),a=n,this.settings.wrapper&&(a=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(a):this.settings.errorPlacement?this.settings.errorPlacement(a,e(t)):a.insertAfter(t),n.is("label")?n.attr("for",r):0===n.parents("label[for='"+r+"']").length&&(s=n.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),l?l.match(new RegExp("\\b"+s+"\\b"))||(l+=" "+s):l=s,e(t).attr("aria-describedby",l),o=this.groups[t.name],o&&e.each(this.groups,function(t,i){i===o&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",n.attr("id"))}))),!i&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n,t)),this.toShow=this.toShow.add(n)},errorsFor:function(t){var i=this.idOrName(t),a=e(t).attr("aria-describedby"),o="label[for='"+i+"'], label[for='"+i+"'] *";return a&&(o=o+", #"+a.replace(/\s+/g,", #")),this.errors().filter(o)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes["undefined"==typeof e?"undefined":_typeof(e)]||this.dependTypes["undefined"==typeof e?"undefined":_typeof(e)](e,t)},dependTypes:{"boolean":function(e){return e},string:function(t,i){return!!e(t,i.form).length},"function":function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},a=e(t).attr("class");return a&&e.each(a.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},attributeRules:function(t){var i,a,o={},s=e(t),n=t.getAttribute("type");for(i in e.validator.methods)"required"===i?(a=t.getAttribute(i),""===a&&(a=!0),a=!!a):a=s.attr(i),/min|max/.test(i)&&(null===n||/number|range|text/.test(n))&&(a=Number(a)),a||0===a?o[i]=a:n===i&&"range"!==n&&(o[i]=!0);return o.maxlength&&/-1|2147483647|524288/.test(o.maxlength)&&delete o.maxlength,o},dataRules:function(t){var i,a,o={},s=e(t);for(i in e.validator.methods)a=s.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),void 0!==a&&(o[i]=a);return o},staticRules:function(t){var i={},a=e.data(t.form,"validator");return a.settings.rules&&(i=e.validator.normalizeRule(a.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(a,o){if(o===!1)return void delete t[a];if(o.param||o.depends){var s=!0;switch(_typeof(o.depends)){case"string":s=!!e(o.depends,i.form).length;break;case"function":s=o.depends.call(i,i)}s?t[a]=void 0===o.param||o.param:delete t[a]}}),e.each(t,function(a,o){t[a]=e.isFunction(o)?o(i):o}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,a){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==a?a:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,a){if(!this.depend(a,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var o=e(i).val();return o&&o.length>0}return this.checkable(i)?this.getLength(t,i)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,a,o=0,s=0,n=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(i=e.length-1;i>=0;i--)a=e.charAt(i),s=parseInt(a,10),n&&(s*=2)>9&&(s-=9),o+=s,n=!n;return o%10===0},minlength:function(t,i,a){var o=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||o>=a},maxlength:function(t,i,a){var o=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||o<=a},rangelength:function(t,i,a){var o=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||o>=a[0]&&o<=a[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},equalTo:function(t,i,a){var o=e(a);return this.settings.onfocusout&&o.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(i).valid()}),t===o.val()},remote:function(t,i,a){if(this.optional(i))return"dependency-mismatch";var o,s,n=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),n.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=n.message,a="string"==typeof a&&{url:a}||a,n.old===t?n.valid:(n.old=t,o=this,this.startRequest(i),s={},s[i.name]=t,e.ajax(e.extend(!0,{url:a,mode:"abort",port:"validate"+i.name,dataType:"json",data:s,context:o.currentForm,success:function(a){var s,r,l,d=a===!0||"true"===a;o.settings.messages[i.name].remote=n.originalMessage,d?(l=o.formSubmitted,o.prepareElement(i),o.formSubmitted=l,o.successList.push(i),delete o.invalid[i.name],o.showErrors()):(s={},r=a||o.defaultMessage(i,"remote"),s[i.name]=n.message=e.isFunction(r)?r(t):r,o.invalid[i.name]=!0,o.showErrors(s)),n.valid=d,o.stopRequest(i,d)}},a)),"pending")}}}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var t,i={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,a){var o=e.port;"abort"===e.mode&&(i[o]&&i[o].abort(),i[o]=a)}):(t=e.ajax,e.ajax=function(a){var o=("mode"in a?a:e.ajaxSettings).mode,s=("port"in a?a:e.ajaxSettings).port;return"abort"===o?(i[s]&&i[s].abort(),i[s]=t.apply(this,arguments),i[s]):t.apply(this,arguments)}),e.extend(e.fn,{validateDelegate:function(t,i,a){return this.bind(i,function(i){var o=e(i.target);if(o.is(t))return a.apply(o,arguments)})}})}),function(e){function t(e,t,i){e.rules[t]=i,e.message&&(e.messages[t]=e.message)}function i(e){return e.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function a(e){return e.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function o(e){return e.substr(0,e.lastIndexOf(".")+1)}function s(e,t){return 0===e.indexOf("*.")&&(e=e.replace("*.",t)),e}function n(t,i){var o=e(this).find("[data-valmsg-for='"+a(i[0].name)+"']"),s=o.attr("data-valmsg-replace"),n=s?e.parseJSON(s)!==!1:null;o.removeClass("field-validation-valid").addClass("field-validation-error"),t.data("unobtrusiveContainer",o),n?(o.empty(),t.removeClass("input-validation-error").appendTo(o)):t.hide()}function r(t,i){var a=e(this).find("[data-valmsg-summary=true]"),o=a.find("ul");o&&o.length&&i.errorList.length&&(o.empty(),a.addClass("validation-summary-errors").removeClass("validation-summary-valid"),e.each(i.errorList,function(){e("<li />").html(this.message).appendTo(o)}))}function l(t){var i=t.data("unobtrusiveContainer"),a=i.attr("data-valmsg-replace"),o=a?e.parseJSON(a):null;i&&(i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),o&&i.empty())}function d(){var t=e(this),i="__jquery_unobtrusive_validation_form_reset";if(!t.data(i)){t.data(i,!0);try{t.data("validator").resetForm()}finally{t.removeData(i)}t.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors"),t.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}}function c(t){var i=e(t),a=i.data(h),o=e.proxy(d,t),s=p.unobtrusive.options||{},c=function(i,a){var o=s[i];o&&e.isFunction(o)&&o.apply(t,a)};return a||(a={options:{errorClass:s.errorClass||"input-validation-error",errorElement:s.errorElement||"span",errorPlacement:function(){n.apply(t,arguments),c("errorPlacement",arguments)},invalidHandler:function(){r.apply(t,arguments),c("invalidHandler",arguments)},messages:{},rules:{},success:function(){l.apply(t,arguments),c("success",arguments)}},attachValidation:function(){i.off("reset."+h,o).on("reset."+h,o).validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(h,a)),a}var u,p=e.validator,h="unobtrusiveValidation";p.unobtrusive={adapters:[],parseElement:function(t,i){var a,o,s,n=e(t),r=n.parents("form")[0];r&&(a=c(r),a.options.rules[t.name]=o={},a.options.messages[t.name]=s={},e.each(this.adapters,function(){var i="data-val-"+this.name,a=n.attr(i),l={};void 0!==a&&(i+="-",e.each(this.params,function(){l[this]=n.attr(i+this)}),this.adapt({element:t,form:r,message:a,params:l,rules:o,messages:s}))}),e.extend(o,{__dummy__:!0}),!i&&a.attachValidation())},parse:function(t){var i=e(t),a=i.parents().addBack().filter("form").add(i.find("form")).has("[data-val=true]");i.find("[data-val=true]").each(function(){p.unobtrusive.parseElement(this,!0)}),a.each(function(){var e=c(this);e&&e.attachValidation()})}},u=p.unobtrusive.adapters,u.add=function(e,t,i){return i||(i=t,t=[]),this.push({name:e,params:t,adapt:i}),this},u.addBool=function(e,i){return this.add(e,function(a){t(a,i||e,!0)})},u.addMinMax=function(e,i,a,o,s,n){return this.add(e,[s||"min",n||"max"],function(e){var s=e.params.min,n=e.params.max;s&&n?t(e,o,[s,n]):s?t(e,i,s):n&&t(e,a,n)})},u.addSingleVal=function(e,i,a){return this.add(e,[i||"val"],function(o){t(o,a||e,o.params[i])})},p.addMethod("__dummy__",function(){return!0}),p.addMethod("regex",function(e,t,i){var a;return!!this.optional(t)||(a=new RegExp(i).exec(e),a&&0===a.index&&a[0].length===e.length)}),p.addMethod("nonalphamin",function(e,t,i){var a;return i&&(a=e.match(/\W/g),a=a&&a.length>=i),a}),p.methods.extension?(u.addSingleVal("accept","mimtype"),u.addSingleVal("extension","extension")):u.addSingleVal("extension","extension","accept"),u.addSingleVal("regex","pattern"),u.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),u.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),u.addMinMax("minlength","minlength").addMinMax("maxlength","minlength","maxlength"),u.add("equalto",["other"],function(i){var n=o(i.element.name),r=i.params.other,l=s(r,n),d=e(i.form).find(":input").filter("[name='"+a(l)+"']")[0];t(i,"equalTo",d)}),u.add("required",function(e){("INPUT"!==e.element.tagName.toUpperCase()||"CHECKBOX"!==e.element.type.toUpperCase())&&t(e,"required",!0)}),u.add("remote",["url","type","additionalfields"],function(n){var r={url:n.params.url,type:n.params.type||"GET",data:{}},l=o(n.element.name);e.each(i(n.params.additionalfields||n.element.name),function(t,i){var o=s(i,l);r.data[o]=function(){var t=e(n.form).find(":input").filter("[name='"+a(o)+"']");return t.is(":checkbox")?t.filter(":checked").val()||t.filter(":hidden").val()||"":t.is(":radio")?t.filter(":checked").val()||"":t.val()}}),t(n,"remote",r)}),u.add("password",["min","nonalphamin","regex"],function(e){e.params.min&&t(e,"minlength",e.params.min),e.params.nonalphamin&&t(e,"nonalphamin",e.params.nonalphamin),e.params.regex&&t(e,"regex",e.params.regex)}),e(function(){p.unobtrusive.parse(document)})}(jQuery),function(e){function t(t){var i=e(this),a=null,o=[],s=null,n=null,r=e.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:e.noop,exit:e.noop,activate:e.noop,deactivate:e.noop,exitMenu:e.noop},t),l=3,d=300,c=function(e){o.push({x:e.pageX,y:e.pageY}),o.length>l&&o.shift()},u=function(){n&&clearTimeout(n),r.exitMenu(this)&&(a&&r.deactivate(a),a=null)},p=function(){n&&clearTimeout(n),r.enter(this),v(this)},h=function(){r.exit(this)},m=function(){g(this)},g=function(e){e!=a&&(a&&r.deactivate(a),r.activate(e),a=e)},v=function b(e){var t=f();t?n=setTimeout(function(){b(e)},t):g(e)},f=function(){function t(e,t){return(t.y-e.y)/(t.x-e.x)}if(!a||!e(a).is(r.submenuSelector))return 0;var n=i.offset(),l={x:n.left,y:n.top-r.tolerance},c={x:n.left+i.outerWidth(),y:l.y},u={x:n.left,y:n.top+i.outerHeight()+r.tolerance},p={x:n.left+i.outerWidth(),y:u.y},h=o[o.length-1],m=o[0];if(!h)return 0;if(m||(m=h),m.x<n.left||m.x>p.x||m.y<n.top||m.y>p.y)return 0;if(s&&h.x==s.x&&h.y==s.y)return 0;var g=c,v=p;"left"==r.submenuDirection?(g=u,v=l):"below"==r.submenuDirection?(g=p,v=u):"above"==r.submenuDirection&&(g=l,v=c);var f=t(h,g),b=t(h,v),y=t(m,g),$=t(m,v);return f<y&&b>$?(s=h,d):(s=null,0)};i.mouseleave(u).find(r.rowSelector).mouseenter(p).mouseleave(h).click(m),e(document).mousemove(c)}e.fn.menuAim=function(e){return this.each(function(){t.call(this,e)}),this}}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"use strict";function t(){var e=46656999*Math.random()|0,t=46656999*Math.random()|0;e=("000"+e.toString(36)).slice(-8),t=("000"+t.toString(36)).slice(-8),a=e+t}var i,a,o=!!navigator.userAgent.match(/Trident.*rv\:11\./),s=0,n={gotError:!1,latestQuery:"",$activeResult:""},r=[],l={},d={$liveSearchContainer:function(t,i){return e("#"+t+"-"+i)},$input:function(t,i){return e("#"+t+"-"+i).find("."+t+"__input")},$searchButton:function(t,i){return e("#"+t+"-"+i).find("."+t+"__button")},$resultsWrapper:function(t,i){return e("#"+t+"-"+i).find("."+t+"__results-wrapper")},$resultsList:function(t,i){return e("#"+t+"-"+i).find("."+t+"__results")},$resultImage:function(t,i){return e("#"+t+"-"+i).find("."+t+"__result-img")},$resultItem:function(t,i){return e("#"+t+"-"+i).find("."+t+"__result")},$removeButton:function(t,i){return e("#"+t+"-"+i).find("."+t+"__remove-button")},$showAllButton:function(t,i){return e("#"+t+"-"+i).find("."+t+"__showall")}},c=e("#CountryCode");t();var u={init:function(t){var i={},a={liveSearchMode:!0,baseClass:"live-search",localData:!1,queryUrl:"/Suggest/Get",queryKeyword:"query",queryToken:"",queryCountryCode:"",querySearchParamater:"?query=",resultPageUrl:"/arama",name:" ",showLoaderIn:"",delay:300,minCharsToSearch:3,highlightColor:"#fc0",limitCategoryItems:10,limitProductItems:5,submitByEnter:!0,placeholder:e(".js-search-placeholder.active").val(),warning:function(){return alert("Lütfen aramak istediğiniz kelimeyi giriniz.")}};i=t?e.extend({},a,t):a,e(this).addClass(i.baseClass),i.generateHtml?e(this).html(i.generateHtml(i.baseClass,s,i.placeholder,i.name)):e(this).html(u.generateHtml(i.baseClass,s,i.placeholder,i.name)),u.bindEvents(i,s),s++},generateHtml:function(t,i,a,o){var s="text",n="",r=t+"-"+i;return n+='<div id="'+r+'" class="'+t+'__container">',n+='<div class="'+t+'__inner-container">',e(window).width()<1024&&(n+='<form  action="#" onsubmit="return false;">',s="search"),n+='<input type="'+s+'" name="'+o+'" class="form-control '+t+"__input js-"+t+'-input js-illegal-product-characters" placeholder="'+a+'" data-module-id="'+i+'"/>',e(window).width()<1024&&(n+="</form>"),n+='<div class="'+t+'__loader"></div>',n+='<div class="'+t+'__remove-button"><span class="icon-close-light '+t+'__remove-button-icon"></span></div>',n+='<button class="js-'+t+"-button btn "+t+'__button" href="javascript:;" style="font-size:0;"> Ara',n+='<span class="icon-search-444"></span>',n+="</button>",n+="</div>",n+='<div class="'+t+'__results-wrapper">',n+='<ul class="'+t+'__results"></ul>',n+='<div class="text-center js-'+t+'__showall-wrapper">',n+='<a class="'+t+"__showall js-"+t+'--showall btn btn-success" href="javascript:;">TÜM SONUÇLARI GÖSTER</a>',n+="</div>",n+="</div>",n+="</div>"},bindEvents:function(t,i){var a=d.$input(t.baseClass,i),s=d.$searchButton(t.baseClass,i),l=(d.$resultItem(t.baseClass,i),d.$liveSearchContainer(t.baseClass,i)),c=(d.$liveSearchContainer(t.baseClass,i),d.$removeButton(t.baseClass,i)),p=d.$resultsWrapper(t.baseClass,i);d.$showAllButton(t.baseClass,i);a.on("click",function(t){""!==n.$activeResult&&(n.$activeResult.removeClass("is-active"),n.$activeResult="");
var i=e(document).width();e.trim(e(this).val()).length>0&&c.show(),i<1024&&setTimeout(function(){a.addClass("focusIn")},250)}),a.on("blur",function(t){var i=e(document).width();setTimeout(function(){c.hide()},50),i<1024&&a.removeClass("focusIn")}),t.liveSearchMode&&(a.on("focus",function(o){if(e(document).width()>600&&a.val().length>0&&a.val().length>=t.minCharsToSearch){var s=d.$resultsWrapper(t.baseClass,i);s.hasClass("product-search__results-wrapper")&&(s.find(".product-search__result").length>0?(a.toBeSearched&&clearTimeout(a.toBeSearched),s.removeClass("product-search__haserror"),l.removeClass("loaded-with-error").removeClass("loading").addClass("loaded"),u.show(s),shadowOverlay.open(),""!==t.showLoaderIn&&global.removeLoaderFrom(t.showLoaderIn),e(".js-header-bottom").addClass("responsive-header-active")):u.search(t,this,i))}}),a.on("keyup",function(s){var d=e.trim(e(this).val()),h=e(this).data("old");d.length>0&&c.show(),"product-search"===t.baseClass?(""!=d&&d.length>=2&&d!=h?l.addClass("loading").removeClass("loaded"):l.addClass("loaded").removeClass("loading"),t.minCharsToSearch=2):""!=d&&d.length>=3&&d!=h?l.addClass("loading").removeClass("loaded"):l.addClass("loaded").removeClass("loading"),e(this).data("old",d);var m=s.keyCode||s.which;if(e(".js-recent-search").length>0&&e(".js-recent-search").addClass("is-hidden"),!l.hasClass("loading")&&!l.hasClass("loaded")&&a.val().length>0&&c.show(),0===d.length)u.reset(t.baseClass,i),c.hide();else if(d.length<t.minCharsToSearch)u.clearResults(t.baseClass,i),l.removeClass("loaded-with-error");else if(t.submitByEnter&&d.length>=t.minCharsToSearch&&13===m)if("district-search"==t.baseClass)""!=n.$activeResult&&n.$activeResult.find("a").trigger("click");else{var g="",v=e(".js-settings-search-result").val();if(p.find("."+t.baseClass+"__result--category").length>0&&""===n.$activeResult&&"true"==v){var d=e.trim(a.val());g=p.find("."+t.baseClass+"__result-badge").eq(0).text();var f=p.find("."+t.baseClass+"__result--category").eq(0).find("."+t.baseClass+"__result-link");if(o)var b=f.prop("href")+"&qt="+e.trim(e.trim(encodeURIComponent(a.val().turkishToLower())));else{var y=new URL(f.prop("href"));y.searchParams.set("qt",e.trim(a.val().turkishToLower())),y.href=y.href.replace(/(qt=).*?(&)/,"$1"+e.trim(encodeURIComponent(a.val().turkishToLower()))+"$2");var b=y}"undefined"!=typeof Storage&&u.recentSearches(a,"category",b,g);var $={is_previous:!1,is_suggested:!1,suggestions:u.suggestions(r)};segment.productSearchedEvent(a.val().turkishToLower(),"",$),location.href=b}else if(""!==n.$activeResult){var f=n.$activeResult.find("."+t.baseClass+"__result-link"),b=f.prop("href"),C=n.$activeResult.find("."+t.baseClass+"__result-title").eq(0).text();g=n.$activeResult.find("."+t.baseClass+"__result-badge").eq(0).text();var w="search";n.$activeResult.hasClass(t.baseClass+"__result--product")&&(w="category",g=f.data("res-type"),C=n.$activeResult.find("."+t.baseClass+"__result-title").eq(0).text()),n.$activeResult.hasClass(t.baseClass+"__result--category")&&(w="category",g=n.$activeResult.find("."+t.baseClass+"__result-badge").eq(0).text(),C=n.$activeResult.find("."+t.baseClass+"__result-text").eq(0).text().replace("  "," > ")),u.recentSearches(a,w,b,g,C);var $={is_previous:!1,is_suggested:!0,position:parseInt(n.$activeResult.attr("data-position")),suggest_url:b,suggestions:u.suggestions(r)};segment.productSearchedEvent(C,g,$),location.href=b}else{var k=1,_=global.getCookie("csVarSelection")||k,S=t.resultPageUrl+"?query="+e.trim(encodeURIComponent(a.val().turkishToLower()))+"&qt="+e.trim(encodeURIComponent(a.val().turkishToLower()))+"&choice="+_;(p.find("."+t.baseClass+"__result-badge").eq(0).text().length>0||p.find("."+t.baseClass+"__result-badge").eq(0).text().length>0)&&(g=p.find("."+t.baseClass+"__result-badge").eq(0).text().length>0?p.find("."+t.baseClass+"__result-badge").eq(0).text():p.find("."+t.baseClass+"__result-badge").eq(0).text()),"undefined"!=typeof Storage&&u.recentSearches(a,"search",null,g);var $={is_previous:!1,is_suggested:!1,suggestions:u.suggestions(r)};segment.productSearchedEvent(a.val().turkishToLower(),"",$),location.href=S}}else d.length>=t.minCharsToSearch&&u.search(t,this,i)}),e(document).on("click",".js-"+t.baseClass+"-result-link",function(i){if("district-search"!=t.baseClass){i.stopImmediatePropagation();var o=e(this).prop("href"),s=s=n.$activeResult.find("."+t.baseClass+"__result-badge").eq(0).text();void 0!==e(this).data("res-type")&&(s=e(this).data("res-type"));var d="category";if(n.$activeResult.hasClass(t.baseClass+"__result--product"))var c=n.$activeResult.find("."+t.baseClass+"__result-title").eq(0).text();else var c=n.$activeResult.find("."+t.baseClass+"__result-text").eq(0).text().replace("  "," > ");a.removeClass("focusIn"),l.removeClass("loaded"),u.recentSearches(a,d,o,s,c);var p={is_previous:!1,is_suggested:!0,position:parseInt(n.$activeResult.attr("data-position")),suggest_url:o,suggestions:u.suggestions(r)};segment.productSearchedEvent(c,s,p)}}),a.on("keydown",function(a){var o=a.keyCode||a.which;if(40===o||38===o){var s=e(".product-search__results").text(),r=e(".district-search__results").text();""===s&&""===r||(""===n.$activeResult?(n.$activeResult=d.$resultItem(t.baseClass,i).eq(0),n.$activeResult.addClass("is-active"),u.scrollToActiveResult(t.baseClass,i,n.$activeResult)):(n.$activeResult.removeClass("is-active"),40===o?0===n.$activeResult.next().length?(n.$activeResult=d.$resultItem(t.baseClass,i).eq(0),n.$activeResult.addClass("is-active")):(n.$activeResult=n.$activeResult.next(),n.$activeResult.addClass("is-active")):0===n.$activeResult.prev().length?(n.$activeResult=d.$resultItem(t.baseClass,i).last(),n.$activeResult.addClass("is-active")):(n.$activeResult=n.$activeResult.prev(),n.$activeResult.addClass("is-active")),u.scrollToActiveResult(t.baseClass,i,n.$activeResult)))}}),e(document).on("mouseenter","."+t.baseClass+"__result",function(){d.$resultItem(t.baseClass,i).removeClass("is-active"),n.$activeResult=e(this),n.$activeResult.addClass("is-active")}),e(document).on("click touchend",function(o){var s=d.$resultsWrapper(t.baseClass,i),n=d.$liveSearchContainer(t.baseClass,i);if(s.is(":visible")&&0===e(o.target).closest("."+t.baseClass).length&&!e(o.target).hasClass("js-policy-close"))if(e(document).width()>600){if(s.hasClass("product-search__results-wrapper")){shadowOverlay.close();var r=e(document).width();r<=600&&e("body").removeClass("is-fixed"),u.hide(s),n.removeClass("loaded").removeClass("loaded-with-error"),a.blur()}}else u.reset(t.baseClass,i)}),s.on("click",function(){if(0===e.trim(a.val()).length)t.warning();else if(e.trim(a.val()).length>=t.minCharsToSearch){var i="",s=e(".js-settings-search-result").val();if(p.find("."+t.baseClass+"__result--category").length>0&&"true"==s){i=p.find("."+t.baseClass+"__result-badge").eq(0).text();var n=p.find("."+t.baseClass+"__result--category").eq(0).find("."+t.baseClass+"__result-link");if(o)var l=n.prop("href")+"&qt="+e.trim(e.trim(encodeURIComponent(a.val().turkishToLower())));else{var d=new URL(n.prop("href"));d.searchParams.set("qt",e.trim(a.val().turkishToLower())),d.href=d.href.replace(/(qt=).*?(&)/,"$1"+e.trim(encodeURIComponent(a.val().turkishToLower()))+"$2");var l=d}location.href=l,"undefined"!=typeof Storage&&u.recentSearches(a,"category",l,i)}else{var c=1,h=global.getCookie("csVarSelection")||c,m=t.resultPageUrl+t.querySearchParamater+e.trim(encodeURIComponent(a.val().turkishToLower()))+"&qt="+e.trim(encodeURIComponent(a.val().turkishToLower()))+"&choice="+h;window.location.href=m,"undefined"!=typeof Storage&&u.recentSearches(a,"search",null,i)}var g={is_previous:!1,is_suggested:!1,suggestions:u.suggestions(r)};segment.productSearchedEvent(e.trim(a.val().turkishToLower()),"Keyword",g)}}),c.on("mousedown",function(){e(this).hide(),a.val(""),u.reset(t.baseClass,i)}),e(document).on("click",".product-search__showall",function(i){i.stopImmediatePropagation();var a=e(this).closest(".js-product-search"),s=a.find(".js-product-search-input"),n=(e.trim(s.val()),1),l=global.getCookie("csVarSelection")||n;if(a.length>0){var d=a.find(".product-search__results-wrapper"),c="",p=e(".js-settings-search-result").val();if(d.find(".product-search__result--category").length>0&&"true"==p){c=d.find("."+t.baseClass+"__result-badge").eq(0).text();var h=d.find(".product-search__result--category").eq(0).find(".product-search__result-link");if(o)var m=h.prop("href")+"&qt="+e.trim(e.trim(encodeURIComponent(s.val().turkishToLower())));else{var g=new URL(h.prop("href"));g.searchParams.set("qt",e.trim(s.val().turkishToLower())),g.href=g.href.replace(/(qt=).*?(&)/,"$1"+e.trim(encodeURIComponent(s.val().turkishToLower()))+"$2")+"&choice="+l;var m=g}location.href=m,"undefined"!=typeof Storage&&u.recentSearches(s,"category",m,c)}else location.href="/arama?query="+encodeURIComponent(s.val().turkishToLower())+"&choice="+l,"undefined"!=typeof Storage&&u.recentSearches(s,"search",null,c);var v={is_previous:!1,is_suggested:!1,suggestions:u.suggestions(r)};segment.productSearchedEvent(e.trim(s.val().turkishToLower()),"Keyword",v)}}))},search:function(t,a,o){a.toBeSearched&&clearTimeout(a.toBeSearched),a.toBeSearched=setTimeout(function(){var s=e.trim(a.value);if(s.length&&n.latestQuery!==s&&s.length>=t.minCharsToSearch){n.gotError===!0&&u.clearResults(t.baseClass,o);var p=d.$liveSearchContainer(t.baseClass,o),h=d.$resultsList(t.baseClass,o),m=d.$resultsWrapper(t.baseClass,o);if(l.hasOwnProperty(s)){var g=l[s];h.html(u.renderResults(t,g)),n.gotError=!1,u.show(m),p.addClass("loaded").removeClass("loading")}else if(t.localData){if(t.localData)return}else{var v={};v[t.queryKeyword]=e.trim(a.value),i=e.trim(a.value),""!==t.queryCountryCode&&(v[t.queryCountryCode]=c.val()),""!=global.getCookie("spt_ab")&&"district-search"==t.baseClass&&(v.sptab=!0),""!=global.getCookie("suggestab")&&"product-search"==t.baseClass&&(v.suggestab=!0),e.ajax({type:"get",url:t.queryUrl,data:v,beforeSend:function(){p.addClass("loading").removeClass("loaded"),""!==t.showLoaderIn&&global.createLoaderIn(t.showLoaderIn)},success:function(i){if(""===i)return m.addClass("product-search__haserror"),m.hasClass("product-search__results-wrapper")?m.html('<p class="product-search__noresults"">Sonuç bulunamadı.</p>'):m.html('<p class="product-search__noresults">Adresin tamamını girmek yerine sadece mahalle veya sokak, hastane, okul ismi gibi bilgiyi girin.</p>'),p.removeClass("loaded").addClass("loaded-with-error"),n.gotError=!0,!1;var a=u.renderResults(t,i),o=e.parseJSON(i);r=o.Categorylist,a!==!1?(m.removeClass("product-search__haserror"),h.html(a),p.removeClass("loaded-with-error").addClass("loaded"),n.gotError=!1):(m.addClass("product-search__haserror"),m.hasClass("product-search__results-wrapper")?m.html('<p class="product-search__noresults">Sonuç bulunamadı.</p>'):m.html('<p class="product-search__noresults">Adresin tamamını girmek yerine sadece mahalle veya sokak, hastane, okul ismi gibi bilgiyi girin.</p>'),p.removeClass("loaded").addClass("loaded-with-error"),n.gotError=!0)},error:function(){m.addClass("product-search__haserror"),p.removeClass("loaded").addClass("loaded-with-error"),m.html('<p class="product-search__noresults">Bir sorun oluştu.</p>'),n.gotError=!0},complete:function(){p.removeClass("loading"),u.show(m),""!==t.showLoaderIn&&global.removeLoaderFrom(t.showLoaderIn);var i=e(document).width();i<=600&&e("body").addClass("is-fixed")}})}n.latestQuery=s}},t.delay)},recentSearches:function(e,t,i,a,o){var s=e.val().turkishToLower(),n=localStorage.getItem("recentSearch"),r=1,l=global.getCookie("csVarSelection")||r;if(i&&"search"===t&&(i=i+"&choice="+l),void 0!=o&&o.length>0&&(s=o),null===n){var d=[];localStorage.setItem("recentSearch",JSON.stringify(d))}if(n=localStorage.getItem("recentSearch"),null!==n){var c=[];if(n)try{c=JSON.parse(n)}catch(u){console.log("recentSearch error")}c.length>=25&&(c=c.slice(c.length-25,c.length));for(var p=!1,h='{"query": "'+s.trim()+'", "type": "'+t+'", "link": "'+i+'" , "badge": "'+a+'", "selection": "'+l+'" }',m=0;m<c.length;m++)if(JSON.parse(c[m]).query===s.trim()){p=!0;var g,v=c.indexOf(c[m]);v!==-1&&(JSON.parse(c[m]).selection!==l?(c.splice(v,1),g=h):g=c.splice(v,1)[0],c.push(g),localStorage.setItem("recentSearch",JSON.stringify(c)))}p||(c.push(h),localStorage.setItem("recentSearch",JSON.stringify(c)))}},suggestions:function(t){var i=[];return t.length>0&&e.each(t,function(e,t){var a=t.Name,o=t.TypeValue,s=t.Sequence,n=t.Deeplink;i.push({text:a,list_type:segment.segmentListType(o),position:s,suggest_url:n})}),i},renderResults:function(e,t,i){return e.renderResults?e.renderResults(e,t,u.highlightQuery):void console.log("renderResults metodu hazırlanmalı.")},highlightQuery:function(e,t){var i={G:"[GgğĞ]",g:"[GgğĞ]",s:"[SsşŞ]",S:"[SsşŞ]","İ":"[İiıI]",I:"[Iıiİ]","Ş":"[ŞşsS]","Ğ":"[ĞğgG]","Ü":"[ÜüuU]","Ö":"[ÖöoO]","Ç":"[ÇçcC]",i:"[İiIı]","ı":"[Iıİi]","ş":"[ŞşsS]","ğ":"[ĞğgG]","ü":"[ÜüuU]","ö":"[ÖöoO]","ç":"[ÇçcC]",o:"[OoöÖ]",O:"[OoöÖ]",c:"[CcçÇ]",C:"[CcçÇ]",u:"[UuüÜ]",U:"[UuüÜ]"};t=t.replace(/[\[\]]/g,""),t=t.replace(/(([İIŞĞÜÇÖSGOCUucogsiışğüçö]))/g,function(e){return i[e]}),t=t.replace(/\+/g,"\\+");var a;try{a=new RegExp(t,"gi")}catch(o){}var s=e.match(a);if(s){var n=s.join("|"),n=n.replace(/\+/g,"\\+"),r=new RegExp(n,"g");e=e.replace(r,function(e){return'<div style="font-weight: bold !important; display: inline;">'+e+"</div>"})}return e},scrollToActiveResult:function(e,t,i){var a=d.$resultsList(e,t),o=a.height();i.offset().top>a.offset().top+o-a.scrollTop()?a.animate({scrollTop:i.offset().top},100):i.offset().top<a.offset().top&&i.offset().top-a.offset().top>0?a.animate({scrollTop:a.offset().top-i.offset().top},100):i.offset().top<a.offset().top&&i.offset().top-a.offset().top<0&&a.animate({scrollTop:0},100)},blockSpecialChar:function(e){},show:function(e){e.show(),layoutGlobal.unfixBody()},hide:function(e){e.hide()},reset:function(t,i){var a=(d.$input(t,i),d.$liveSearchContainer(t,i));d.$resultsList(t,i);shadowOverlay.close();var o=e(document).width();o<=600&&"district-search"!==t&&e("body").removeClass("is-fixed"),u.clearResults(t,i),a.removeClass("loaded").removeClass("loaded-with-error"),n.latestQuery=""},clearResults:function(e,t){var i=d.$resultsWrapper(e,t);u.hide(i),i.html('<ul class="'+e+'__results"></ul><div class="text-center js-'+e+'__showall-wrapper"><a class="'+e+"__showall js-"+e+'--showall btn btn-success" href="javascript:;">Tüm Sonuçları Göster</a></div>'),n.latestQuery=""},showLoader:function(e){e.show()}};e.fn.liveSearch=function(t){var i=arguments;this.each(function(){return u[t]?u[t].apply(this,Array.prototype.slice.call(i,1)):"object"!==("undefined"==typeof t?"undefined":_typeof(t))&&t?void e.error("Method "+t+" does not exist on this plugin"):u.init.apply(this,i)})},String.prototype.turkishToUpper=function(){var e=this,t={i:"İ","ş":"Ş","ğ":"Ğ","ü":"Ü","ö":"Ö","ç":"Ç","ı":"I"};return e=e.replace(/(([iışğüçö]))/g,function(e){return t[e]}),e.toUpperCase()},String.prototype.turkishToLower=function(){var e=this,t={"İ":"i",I:"ı","Ş":"ş","Ğ":"ğ","Ü":"ü","Ö":"ö","Ç":"ç"};return e=e.replace(/(([İIŞĞÜÇÖ]))/g,function(e){return t[e]}),e.toLowerCase()}}(jQuery);var layoutGlobal=function(){"use strict";function e(){W.is(".category, .home, .boutique, .city, .product")&&(districtSearch.init(),districtMenu.init()),C(),j(),T(),A(),P(),productSearch.init(),responsiveMenu.init(),shadowOverlay.init(),M(),h(),c(),u(),p(),l(),r(),k(),d(),L(),z(),F(),s(),t(),W.is(".order-tracking, .page-contact, .custom")&&(o(),a()),N(),V(),($(".js-tracking-page").length>0||$(".js-contact-page").length>0)&&(f(),b())}function t(){$(document).on("click",".js-delivery-close",function(){districtSearch.resetDropdown()})}function i(e,t,i,a){var o=window.top.outerHeight/2+window.top.screenY-a/2,s=window.top.outerWidth/2+window.top.screenX-i/2;return window.open(e,t,"width="+i+" height="+a+" top="+o+" left="+s)}function a(){ne.on("click",function(e){e.preventDefault();var t=$(this).attr("href"),a=window.location.pathname.replace(/.*\//g,"").replace(/-/g,"");ga("send",{hitType:"event",eventCategory:"vivr",eventAction:a,eventLabel:"click"}),i(t,"ÇiçekSepeti Asistan",600,600);var o=$("#live-chat-page-screen-event-model-name").val(),s=$("#live-chat-page-screen-event-model-data").val();segment.pageView(o,JSON.parse(s))})}function o(){$.ajax({type:"GET",url:"/Customer/SetOrDeleteIvrAssistantCookieToken"})}function s(){(W.hasClass("category")||W.hasClass("mizu"))&&$(document).on("click",".category-slider-content",function(){n(this)})}function n(e){var t=e.closest("a"),i=GetSubCategoryName(t.getAttribute("href")),a=e.getAttribute("data-position");window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"promotionClick",ecommerce:{promoClick:{promotions:[{name:i,position:a}]}}})}function r(){$(window).width()<1024&&$(document).bind("scroll",function(){$(".js-product-search-input.focusIn:focus").length>0&&$(".js-product-search-input.focusIn:focus").blur()})}function l(){$(window).width()<1025&&$(".js-whatsapp-content").is(":visible")&&$("#zendesk-contact").addClass("hide")}function d(){se.on("change",function(){se.val()&&se.valid()})}function c(){oe.on("click",function(e){e.preventDefault();var t=$(this).data("href"),i=[location.protocol,"//",location.host].join(""),a=i+t;location.href=a})}function u(){W.is(".category, .home, .boutique, .city, .product")&&setTimeout(function(){var e=global.getCookie("addressName"),t=decodeURIComponent(e).replace(/\+/g," ");""!=e?($(".js-trigger-district-search").data("address-name",t),$(".js-district-search-button-text").text(t).toggleClass("js-district-added"),$(".js-open-district-area").toggleClass("district-selected"),$(".js-trigger-district-search").addClass("district-search-button--not-empty"),$(".js-district-dropdown").addClass("district-dropdown--not-empty")):W.is(".product")&&""==e&&global.isMobile()&&($(".js-district-menu-container").addClass("has-warning"),$(".js-district-search-warning").removeClass("hide"))},350)}function p(){var e=global.getCookie("addressName"),t=global.getCookie("regionlist");""!=t&&""==e&&$.get("/Common/SetRegionCookieByReferenceRegionIdList")}function h(){$(".city__right").prependTo(".js-city-wrapper"),$(".city__left").css("display","block")}function m(){var e=$(".js-contact-page .js-order-tracking-button");e.on("click",function(){$(".js-contact-page .js-order-tracking-message").hide().html("");var e=$(".js-contact-page .js-order-tracking-anonymous").valid();return!!e&&($(this).prop("disabled",!0).text("Lütfen Bekleyin").addClass("gradient-animation"),$('input[name="EmailVerificationCode"]').remove(),ce=!1,void v($(".js-contact-page")))})}function g(){var e=$(".js-tracking-page .js-order-tracking-button");e.show().text("Sipariş Takip"),e.on("click",function(){$(".js-tracking-page .js-order-tracking-message").hide().html("");var e=$(".js-tracking-page .js-order-tracking-anonymous").valid();return!!e&&($(this).prop("disabled",!0).text("Lütfen Bekleyin").addClass("gradient-animation"),$('input[name="EmailVerificationCode"]').remove(),ce=!1,void v($(".js-tracking-page")))})}function v(e){var t=$('input[name="EmailVerificationCode"]').length>0,i=e.find(".js-order-customer-email").val(),a=e.find(".js-order-code").val(),o={P1:i,P2:a};t&&(o.verificationCode=$('input[name="EmailVerificationCode"]').val()),$.ajax({type:"POST",url:"/Customer/Findorder",data:JSON.stringify(o),contentType:"application/json",error:function(){global.popup({message:"Bir hata oluştu lütfen daha sonra tekrar deneyiniz.",popupType:"alert"}),$.publish("captcha-required",["Findorder"])},success:function(a){var o=e.find(".js-order-tracking-button");if(a.EmailVerificationRequired){var s=a.EmailConfirmationModel,n={text:s.Description,remainingTime:s.OTPRemainingSecond,type:s.Type,codeCharacterCount:s.OTPLength};if(ce)return void emailVerificationPopup.resendCodeImprovements(s.OTPRemainingSecond);$("#customModalBox").remove(),$(".modal-backdrop").remove(),emailVerificationPopup.checkEmailCreateHTML(n,!1),ce=!1,wallet.walletVerifyInput(),o.prop("disabled",!1).text("Sipariş Takip").addClass("gradient-animation")}else t&&a.Message&&0==a.IsValid?(emailVerificationPopup.errorCode(a.Message),o.prop("disabled",!1).text("Sipariş Takip").addClass("gradient-animation")):a.IsValid===!0?t?(emailVerificationPopup.verificationSuccessPopup("email"),segment.trackFunc("Guest Account Verified",{clicked_from:"order_tracking",is_registered:a.IsRegisteredCustomer,trait_type:i}),setTimeout(function(){window.location.href=a.OrderTrackingUrl},2e3)):window.location.href=a.OrderTrackingUrl:($.publish("captcha-required",["Findorder"]),e.find(".js-order-tracking-message").show().html(a.Message),o.prop("disabled",!1).text("Sorgula").removeClass("gradient-animation"))}})}function f(){$(document).on("click",".js-get-code-for-wallet-approve-for-payment",function(){ce=!0,$('input[name="EmailVerificationCode"]').remove();var e=$(".js-tracking-page").length>0?$(".js-tracking-page"):$(".js-contact-page");v(e)})}function b(){$(document).on("click",".js-wallet-phone-verify-for-payment",function(){for(var e=$(this),t=$(".js-wallet-verify-input"),i="",a=0;a<t.length;a++)i+=$(t[a]).val();if(i.length<=0)return $(".js-wallet-approve-error").text(t.length+" haneli onay kodunun girilmesi zorunludur."),$(".js-wallet-verify-input").addClass("input-validation-error"),!1;if(i.length<t.length)return $(".js-wallet-approve-error").text("Girdiğiniz onay kodu "+t.length+" haneli olmalıdır."),$(".js-wallet-verify-input").addClass("input-validation-error"),!1;e.prop("disabled",!0),$('input[name="EmailVerificationCode"]').remove();var o=$(".js-tracking-page").length>0?$(".js-tracking-page"):$(".js-contact-page");$("<input>").attr("type","hidden").attr("name","EmailVerificationCode").attr("value",i).appendTo(".js-order-tracking-anonymous"),v(o)})}function y(){var e=global.getCookie("HasHighlightOrder"),t=!1;if(document.referrer.indexOf("uye-girisi")>1&&(t=!0),"true"===e&&(t||de)&&!W.is(".account")&&!W.is(".comment-service")&&!W.is(".thanks")&&!W.is(".imageProcessPage")){var i=$.post("/Customer/GetHighlightOrder");i.done(function(e){null!==e&&""!==e&&void 0!==e.HighlightOrderItems&&e.HighlightOrderItems.length>0&&setTimeout(function(){global.popup({popupType:"alert",custom:!0,customHtml:w(e)})},2e3)})}}function C(){W.is(".home")&&!global.getCookie("csVarSelection")&&de&&parseInt(re)>0&&le&&csVarVarSelection.createCsVarVarPopup()}function w(e){for(var t="",i="",a=0;a<e.HighlightOrderItems.length;a++)i+='<p class="repeating-visitor__title">'+e.HighlightOrderItems[a].Id+' numaralı siparişiniz</p><img class="repeating-visitor__status-img" width="118" height="118" src="'+e.HighlightOrderItems[a].PictureUrl+'"><p class="repeating-visitor__status-text">'+e.HighlightOrderItems[a].StatusText+'</p><p class="repeating-visitor__detail">'+e.HighlightOrderItems[a].DeliveryEstimationText+"</p>",null!==e.HighlightOrderItems[a].ShipmentTrackingUrl&&(i+='<a href="'+e.HighlightOrderItems[a].ShipmentTrackingUrl+'" class="repeating-visitor__shipment-url" target="_blank">Kargo takip için tıklayınız.</a>'),i+='<a class="btn btn-primary repeating-visitor__tracking-button" href="'+e.HighlightOrderItems[a].OrderTrackingUrl+'">Sipariş Detayı</a>',e.HighlightOrderItems[a].CanUpdateSenderInfo===!0&&(i+='<a class="btn btn-primary repeating-visitor__invoice-button" href="'+e.HighlightOrderItems[a].UpdateUrl+'">Fatura Güncelle</a>'),e.HighlightOrderItems[a].CanUpdateOrder===!0&&(i+='<a class="btn btn-primary repeating-visitor__invoice-button" href="'+e.HighlightOrderItems[a].UpdateUrl+'">Sipariş ve Fatura Güncelle</a>');return t+='<div class="modal fade in" id="flatModalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',t+='<div class="modal-dialog">',t+='<div class="modal-content">',t+='<div class="modal-header">',t+='<span aria-hidden="true" aria-label="Close" data-dismiss="modal" class="modal-icon icon-close-line"></span>',t+="</div>",t+='<div class="modal-body repeating-visitor">',t+=i,t+="</div>",e.HighlightOrderItems.length>0&&(t+='<div class="repeating-visitor__dismiss-forever"><div class="repeating-visitor__dismiss-forever-btn js-dismiss-repeating-visitor" >Bir daha gösterme</div></div>'),t+=" </div></div></div></div>",t+="</div></div></div>"}function k(){$(document).on("click",".js-dismiss-repeating-visitor",function(){global.setCookie("BlockHighhlightOrder","true",9999),$("#flatModalBox").modal("hide")})}function _(){var e=$(".js-notification-error-message:first"),t=$(".js-notification-success-message:first");if(e.length>0){var i=e.clone(!0).removeClass("is-hidden");q.prepend(i)}else if(t.length>0){var a=t.clone(!0).removeClass("is-hidden");q.prepend(a)}}function S(){var e=$(".js-remaining-show .js-range-remaing"),t=$(".js-remaining-show .js-remainingtime-percent"),i=e.attr("data-range"),a=e.attr("data-remaing"),o=100-100*a/i;setTimeout(function(){t.animate({width:o+"%"},{duration:1500})},1e3)}function T(){G.length>0&&$(this).datepicker({format:"dd MM, DD",language:"tr",startDate:"0d",autoclose:!0})}function j(){$.ajax({url:"/user-menu"}).done(function(e){$(".js-user-menu").append(e),W.is(".category, .home, .boutique, .city, .product")&&$(".js-login-control").length>0&&(W.is(".product")&&!$(".js-region-selectize-search").length||$.ajax({url:"/LiveSearch/GetUserAddresses",cache:!1}).done(function(e){if(W.is(".category, .home, .boutique, .city"))$(".js-user-address-list").append(e);else{$(".js-user-address-list").append(e);for(var t=[],i=$($.parseHTML(e)).find("li"),a=0;a<i.length;a++){var o=$(i[a]).data("address"),s=$(i[a]).data("address-id"),n=$(i[a]).data("lat"),r=$(i[a]).data("long"),l=$(i[a]).text();t.push({"class":"address",Address:l,Sequence:s,AddressLine:o,Id:s,Lat:n,Long:r})}pageProduct.getCustomerAddress(t)}})),W.is(".category, .home, .boutique, .city, .account.customer-favorites, .product, .page-recommend, .page404, .page-comments, .opportunity, .collection-page")&&(favorite.fbLoginControl(),favorite.customerfavoriteGet(),favorite.favoriteProductSet()),_(),m(),g(),setTimeout(function(){D(),W.is(".category, .home, .boutique, .city")&&x(),W.is(".home")&&!global.getCookie("csVarSelection")&&de&&parseInt(re)>0&&le||y()},1),W.is(".coupons-page")&&$(".js-login-control").length>0&&$(".js-coupons-badge").removeClass("hidden"),!$(".js-login-control").length>0&&($(".js-responsive-logout-button").remove(),localStorage.removeItem("favoriteList")),$(".js-order-tracking-anonymous").length<1||global.rebindValidator($(".js-order-tracking-anonymous"))})}function x(){"true"===$(".js-login-control").val()&&$.ajax({url:"common/SetCustomerIdentifierToCookie",cache:!1}).done(function(){}),0===$(".js-login-control").length&&global.setCookie("CustomerIdentifier","",-1)}function D(){var e=global.getCookie("ShoppingCartItemCount"),t=global.getCookie("ShoppingCartProductIds");""===e?$.ajax({url:"/Common/ShoppingCartInfos",cache:!1}).done(function(i){e=global.getCookie("ShoppingCartItemCount"),t=global.getCookie("ShoppingCartProductIds"),I(e,t)}):I(e,t)}function I(e,t){var i=$(".js-user-menu-cart-quantity"),a=$(".js-product-id-list");i.html(e),a.data("product-id-list",t),""!==i.html()&&"0"!==i.html()?(i.removeClass("hide"),$(".js-user-menu-cart-quantity").length>0?(ie.removeClass("is-hidden"),ae.removeClass("is-hidden"),ie.text($(".js-user-menu-cart-quantity").first().text()),ae.text($(".js-user-menu-cart-quantity").first().text())):(ie.length>0&&ie.addClass("is-hidden"),ae>0&&ae.addClass("is-hidden"))):i.addClass("hide")}function P(){U.scroll(function(){var e=U.scrollTop();if(e>Y&&U.width()>1199){J.addClass("is-sticky"),X.addClass("is-open"),K.addClass("is-open");var t=$(".js-main-menu-item").length;t>6&&$(".header__bottom").addClass("sticky-no-icon")}else $(".js-modal-dialog-similar-products").length||J.removeClass("is-sticky"),X.removeClass("is-open"),K.removeClass("is-open")})}function A(){Q.on("click",function(){var e=$(".search-box .selectize-input input");global.scrollGoto(0),e.focus()})}function E(){q.addClass("is-fixed")}function O(){q.removeClass("is-fixed")}function M(){te.on("click",function(){var e=$(this);ee.children(".panel").removeClass("is-active"),"false"==e.attr("aria-expanded")?e.parents(".panel").addClass("is-active"):e.parents(".panel").removeClass("is-active")})}function L(){W.hasClass("mizu")&&pageCategory.storySliderInit()}function z(){W.hasClass("mizu")&&(pageCategory.toggleCategories(),pageCategory.initCategoryBoxClick())}function F(){if(W.is(".category, .home, .boutique, .city, .account.customer-favorites, .product, .page-recommend, .page404, .opportunity, .collection-page, .coupons-page")){var e=global.toBoolean(global.getCookie("IsLegalPermissionConfirmed")),t=global.getCookie("LegalPermission");null!==e&&""!==e?(e||"1"==t)&&B():$.ajax({type:"GET",url:"/legal-permission",success:function(e){e.IsLegalPermissionConfirmed&&B(),global.setSessionCookie("IsLegalPermissionConfirmed",e.IsLegalPermissionConfirmed)},error:function(){global.setSessionCookie("IsLegalPermissionConfirmed","")}})}}function B(){$(".js-age-warning-hidden-favorite").removeClass("hidden-favorite"),$(".js-age-warning-thumb").css({display:"none"}),$(".js-age-warning-hidden-thumb").css({opacity:"1"}),$(".js-age-warning-is-approved").val("true")}function R(){var e=0,t="";e=window.innerWidth>=1600?20:window.innerWidth<1600&&window.innerWidth>=992?16:window.innerWidth<1200&&window.innerWidth>=480?18:16;for(var i=0;i<e;i++)t+='<div class="placeholder__product-item"><div class="placeholder__product-item-inner"><div class="placeholder__product-item-link animated-background"><div class="placeholder__ratio-container"><div class="placeholder__background-masker placeholder__background-masker-image--top"></div><div class="placeholder__background-masker placeholder__background-masker-image--left"></div><div class="placeholder__background-masker placeholder__background-masker-image--right"></div><div class="placeholder__background-masker placeholder__background-masker-image--bottom"></div></div><div class="placeholder__product-item-info"><div class="placeholder__background-masker placeholder__background-masker-info--top-top"></div><div class="placeholder__background-masker placeholder__background-masker-info--top-left"></div><div class="placeholder__background-masker placeholder__background-masker-info--top-right"></div><div class="placeholder__background-masker placeholder__background-masker-info--top-bottom"></div><div class="placeholder__background-masker placeholder__background-masker-info--center-top"></div><div class="placeholder__background-masker placeholder__background-masker-info--center-left"></div><div class="placeholder__background-masker placeholder__background-masker-info--center-right"></div><div class="placeholder__background-masker placeholder__background-masker-info--center-bottom"></div><div class="placeholder__background-masker placeholder__background-masker-info--bottom-top"></div><div class="placeholder__background-masker placeholder__background-masker-info--bottom-left"></div><div class="placeholder__background-masker placeholder__background-masker-info--bottom-right"></div><div class="placeholder__background-masker placeholder__background-masker-info--bottom-bottom"></div></div><div class="clearfix"></div></div></div></div>';$(".js-ajax-category-products").html(t)}function N(){var e=$(".js-top-banners .main-banners__banner").last().clone();$(".js-standart-banners .main-banners__line").first().prepend(e)}function V(){$(".js-header-banner").on("click",function(){var e=$(this);if(e.find("a").length>0){var t=e.find("img").attr("src");segment.trackFunc("Promotion Clicked",{promotion_id:H(t),creative:"home/header",name:"home/header",position:1})}})}function H(e){var t=e.split("/"),i=t[t.length-1],a=i.split(".")[0];return a}var U=$(window),q=$("body"),W=$("main"),G=$(".js-datepicker"),Q=$(".js-sticky-search"),K=$(".search-and-basket"),J=$(".header__bottom"),Y=$(".header__bottom").length>0?$(".header__bottom").offset().top:"",X=$(".site-emblem"),Z=$("body").hasClass("is-fixed"),ee=$(".footer-menu-mobile"),te=$(" .js-footer-menu-mobile "),ie=$(".js-sticky-basket-cart-quantity"),ae=$(".js-hamburger-cart-quantity"),oe=$(".js-product-recommend-link"),se=$(".js-contact-form-subject"),ne=$(".js-open-vivr"),re=$(".js-homepage-switch-status").val(),le="True"===$(".js-homepage-switch-active").val(),de=!new RegExp(document.location.hostname).test(document.referrer),ce=!1;
return{init:e,isBodyFixed:Z,fixBody:E,unfixBody:O,remainingtimeBar:S,shoppingCartItemInfo:D,shoppingCartItemAdd:I,ajaxProductsListPageLoad:R,agePermission:B,checkAgePermission:F,setJsDistrictBox:u,repeatingVisitsPopup:y,getBannerId:H}}(),megaMenu=function(){"use strict";function e(){o(),d(),i(),n()}function t(e){if(!e.hasClass("no-more-submenu")||e.hasClass("js-user-nagivation"))if(e.find(".js-main-submenu").length)s(e);else{var t=e.find(".js-main-menu-link-responsive").data("nav-id");c&&4!=c.readyState&&c.abort(),c=$.ajax({type:"GET",url:"/Home/GetSubCategory?navigationId="+t,success:function(t){e.append(t),s(e),r()}})}}function i(){var e="mouseenter";$(window).width()<768&&(e="click"),$(document).on(e,".js-main-menu-item",function(e){var i=$(this);i.addClass("is-active-responsive"),t(i)})}function a(e){var i=e.closest(".js-main-menu-item");i.siblings().removeClass("is-active"),i.hasClass("is-active")?i.removeClass("is-active"):i.addClass("is-active"),i.hasClass("no-more-submenu")&&(window.location.href=e.attr("href")),t(i)}function o(){if(global.isMobile())$(document).on("touchend click",".js-main-menu-link",function(e){e.preventDefault();var t=$(this);"touchend"==e.type?(u=!0,a(t)):"click"!=e.type||u?u=!1:a(t)}),$(document).on("touchstart click",function(e){$(e.target).closest(".js-main-menu-item").length||$(".js-main-menu-item").removeClass("is-active")});else{var e;$(".main-menu__items").menuAim({activate:function(t){$(window).width()>768&&(e=setTimeout(function(){$(t).addClass("is-active"),document.activeElement&&$(document.activeElement).hasClass("main-menu__link")&&document.activeElement.blur()},275))},deactivate:function(t){clearTimeout(e);var i=150,a=!1;$(".js-main-menu-item").each(function(){if($(this).is(":hover"))return a=!0,!1});var o=!1;$(".js-main-menu-item.is-active").each(function(){if($(this).is(":hover"))return o=!0,!1}),a&&!o&&(i=300),setTimeout(function(){$(t).removeClass("is-active"),$(".is-active .js-mega-menu-hover").removeClass("active"),$(".is-active .js-mega-menu-hover").eq(0).addClass("active"),$(".is-active .js-mega-menu-third-row").addClass("hidden"),$(".is-active .js-mega-menu-third-row").eq(0).removeClass("hidden"),$(".is-active .js-mega-menu-banner-third-row").addClass("hidden"),$(".is-active .js-mega-menu-banner-third-row").eq(0).removeClass("hidden")},i)},exitMenu:function(){return!0},submenuDirection:"below"})}}function s(e){if($(window).width()<768){var t=e.find(".js-main-menu-link-responsive");if("javascript:void(0)"==t.attr("href")){var i=t.parent().find(".js-main-submenu");t.parents(".responsive-menu").css("overflow-y","hidden"),t.parents(".responsive-menu").animate({scrollTop:0},0),setTimeout(function(){i.animate({left:0},200)},0)}else t.parent().siblings().find(".js-main-submenu").removeClass("is-active"),t.siblings(".js-main-submenu").toggleClass("is-active")}}function n(){$(document).on("click",".js-mega-menu-second",function(e){if($(window).innerWidth()<=768&&!$(this).parent().hasClass("no-more-submenu")){e.preventDefault();var t=$(this).parent("li").index(),i=$(this).parents(".js-main-submenu"),a=i.find(".js-mega-menu-third-row");a.addClass("hidden"),a.eq(t).removeClass("hidden");var o=$(this).parents("ul.main-submenu__items");o.find(".main-submenu__item").removeClass("active"),$(this).parent().addClass("active"),l(i,a,t)}});var e=null!=navigator.userAgent.match(/iPad/i);e&&!window.MSStream&&$(document).on("touchstart",".js-mega-menu-second",function(e){e.preventDefault();var t=$(this).parent("li").index(),i=$(this).parents(".js-main-submenu"),a=i.find(".js-mega-menu-third-row");a.addClass("hidden"),a.eq(t).removeClass("hidden");var o=$(this).parents("ul.main-submenu__items");o.find(".main-submenu__item").removeClass("active"),$(this).parent().addClass("active"),l(i,a,t)}),$(document).on("click",".js-main-menu-link-responsive-back",function(e){e.preventDefault(),e.stopPropagation(),$(".js-main-menu-item").removeClass("is-active-responsive");var t=$(this).parents(".js-main-submenu");$(this).parents(".responsive-menu").css("overflow-y","auto"),t.animate({left:"-280px"},200)}),$(document).on("click",".js-main-menu-link-responsive-back-third",function(){$(this).parents(".js-main-submenu.main-menu__mega-submenu").css("overflow-y","auto"),$(".js-mega-menu-third-container").animate({left:"-280px"},200).css({height:"100%"}),setTimeout(function(){$(".js-mega-menu-third-row").addClass("hidden"),$(".js-main-submenu.main-menu__mega-submenu .js-main-submenu-outer").removeClass("active-submenu")},200)})}function r(){var e;$(".menuAimSub").menuAim({activate:function(t){if(!global.isMobile()){clearTimeout(e);var i=$(t).index();$(t).parent("ul").find("li").removeClass("active"),$(t).addClass("active"),e=setTimeout(function(){$(".is-active .js-mega-menu-third-row").addClass("hidden"),$(".is-active .js-mega-menu-third-row").eq(i).removeClass("hidden"),$(".is-active .js-mega-menu-banner-third-row").addClass("hidden"),$(".is-active .js-mega-menu-banner-third-row").eq(i).removeClass("hidden")},200)}},exitMenu:function(){return clearTimeout(e),!0},submenuDirection:"right"})}function l(e,t,i){var a=t.eq(i);a.find(".main-submenu__items").length<1||a.find(".main-submenu__items li").length<1?window.location.href=a.context.href:(e.find(".js-mega-menu-third-container").css("display","block"),e.find(".main-menu__mega-submenu").css("overflow-y","hidden"),e.find(".main-menu__mega-submenu").animate({scrollTop:0},0),setTimeout(function(){e.find(".js-mega-menu-third-container").animate({left:0},200).css({height:"auto"}),$(".js-main-submenu").scrollTop(0),$(".js-main-submenu.main-menu__mega-submenu .js-main-submenu-outer").addClass("active-submenu")},0))}function d(){$(window).width()<768&&$(document).on("click",".js-navigation-click-event",function(e){var t=$(this).data("nav-id");$(this).parent().hasClass("no-more-submenu")?(e.preventDefault(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"navigationclick",ecategory:{selectedNavId:t}}),window.location.href=$(this).attr("href")):(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"navigationclick",ecategory:{selectedNavId:t}}))})}var c,u=!1;return{init:e}}(),productSearch=function(){"use strict";function e(t){for(var i=e.options,a=i.parser[i.strictMode?"strict":"loose"].exec(t),o={},s=14;s--;)o[i.key[s]]=a[s]||"";return o[i.q.name]={},o[i.key[12]].replace(i.q.parser,function(e,t,a){t&&(o[i.q.name][t]=a)}),o}var t=$(".js-product-search"),i=$(".js-responsive-search-trigger"),a=$(".js-responsive-search-trigger-icon"),o=$(".js-responsive-search-trigger-cancel"),s=$(".js-responsive-search"),n=$("#customer-comments"),r=function(){var i="/Suggest/Get",a=global.getCookie("searchSuggestVersionB");""!==a&&(i="/Suggest/Get?isABTest=true"),t.liveSearch({baseClass:"product-search",queryUrl:i,queryKeyword:"key",renderResults:function(t,i,a){var o=$.parseJSON(i),s=o.Categorylist.concat(o.Productlist),n=t.baseClass,r="",l="",d=t.limitCategoryItems,c=(t.limitProductItems,0),u=!!navigator.userAgent.match(/Trident.*rv\:11\./);if(s.length>0){for(var p=0;p<s.length;p++){var h=s[p];if("product"!==h.Type&&c<d){if(c++,r+='<li class="'+n+"__result "+n+'__result--category" data-position="'+h.Sequence+'">',u){var m=e(h.Deeplink),g=m.query.split("&");m.query="";for(var v=0;v<g.length;v++){var f=g[v].split("=");f[1]=encodeURIComponent(f[1]),m.query+=f[0]+"="+f[1],v!=g.length-1&&(m.query+="&")}var b=m.path+"?"+m.query;r+='<a class="'+n+"__result-link js-"+n+'-result-link" href="/'+b+'">'}else r+='<a class="'+n+"__result-link js-"+n+'-result-link" href="/'+h.Deeplink+'">';r+='<span class="'+n+'__result-text">',r+=a(h.Name,h.SearchValue),r+="</span>",r+='<span class="'+n+'__result-badge">',r+=void 0!=h.TypeValue?h.TypeValue:"",r+="</span>",r+="</a>",r+="</li>"}else if("product"===h.Type&&c<d){c++;var y=void 0!=h.TypeValue?h.TypeValue:"";if(l+='<li class="'+n+"__result "+n+'__result--product" data-position="'+h.Sequence+'">',u){var m=e(h.Deeplink),g=m.query.split("&");m.query="";for(var v=0;v<g.length;v++){var f=g[v].split("=");f[1]=encodeURIComponent(f[1]),m.query+=f[0]+"="+f[1],v!=g.length-1&&(m.query+="&")}var b=m.path+"?"+m.query;l+='<a class="'+n+"__result-link js-"+n+'-result-link" href="/'+b+'">'}else l+='<a class="'+n+"__result-link js-"+n+'-result-link" data-res-type="'+y+'" href="/'+h.Deeplink+'">';l+='<span class="'+n+'__result-text">',l+='<div class="'+n+'__border-radius"><img width="41" height="45" class="'+n+'__result-img" src="'+h.ImageURL+'"></div>';var C=$(".js-age-warning-is-approved").val();if(h.IsRequiredLegalPermission&&"false"===C){var w=$(".js-age-warning-image-path").val();l+='<div class="'+n+"__border-radius "+n+'__no-border-radius age-warning-result-img"><img width="41" height="45" class="'+n+'__result-img js-age-warning-image" src="'+w+'"></div>'}l+='<span class="'+n+'__result-title">'+a(h.Name,h.SearchValue)+"</span>",l+="</span>",l+="</a>",l+="</li>"}}return shadowOverlay.open(),$(".js-header-bottom").addClass("responsive-header-active"),r+l}return!1},warning:function(){return global.popup({message:"Lütfen aramak istediğiniz kelimeyi giriniz.",popupType:"alert"})}}),l(),d()},l=function(){i.on("click",function(){h()?u():c()}),$(".js-product-search-input").on("focus",function(e){function t(e){try{JSON.parse(e)}catch(t){return!1}return!0}var i,a,o="",s="",n={},r=$(e.target).closest(".js-product-search"),l=r.find(".js-product-search-input"),d={},c=[];if("undefined"!=typeof Storage&&(a=localStorage.getItem("recentSearch")),a)try{d=JSON.parse(a)}catch(e){localStorage.removeItem("recentSearch")}if(null!=d&&d.length>0&&(!t(d[0])||parseInt(d[0]))){for(var u=0;u<d.length;u++)c.push('{"query": "'+d[u]+'", "type": "search", "link": "null"}');localStorage.setItem("recentSearch",JSON.stringify(c))}if("undefined"!=typeof Storage&&(i=localStorage.getItem("recentSearch")),i){var p;try{p=JSON.parse(i)}catch(e){localStorage.removeItem("recentSearch")}for(var h=0;h<p.length;h++)t(p[h])||(i=null,localStorage.removeItem("recentSearch"))}if(null!==i&&$(e.target).closest(".js-product-search").find(".js-recent-search").length<1&&""===l.val()){n=JSON.parse(i);for(var u=n.length-1;u>=0;u--)if(t(n[u])){var m=JSON.parse(n[u]).badge,g=JSON.parse(n[u]).selection||"";void 0==m&&(m=""),s+='<li class="product-search__history-result js-recent-search-item" data-type="'+JSON.parse(n[u]).type+'" data-url="'+JSON.parse(n[u]).link+'" data-selection="'+g+'" > <span class="product-search__history-result-text">'+JSON.parse(n[u]).query+'</span>  <span class="product-search__history-result-badge js-result-badge"> '+m+" </span>  </li>"}o='<div class="product-search__recent-search-wrapper js-recent-search is-hidden"><div class="product-search__all-results-title"><span class="product-search__midline-title">Geçmiş Aramalarım</span><div class="product-search__midline-title--clear"><span class="product-search__clear-button js-recent-search-clear-button">Temizle</span></div></div><ul class="product-search__history-list">'+s+"</ul></div>",r.append(o),$(e.target).closest(".js-product-search").find(".js-recent-search").removeClass("is-hidden"),shadowOverlay.open(),$(".js-header-bottom").addClass("responsive-header-active")}else 1===$(e.target).closest(".js-product-search").find(".js-recent-search").length&&""===l.val()&&($(e.target).closest(".js-product-search").find(".js-recent-search").removeClass("is-hidden"),shadowOverlay.open(),$(".js-header-bottom").addClass("responsive-header-active"))}).keyup(function(e){var t=$(e.target).closest(".js-product-search").find(".js-recent-search"),i=$(e.target).closest(".js-product-search"),a=i.find(".js-product-search-input");""===a.val()||1!==$(e.target).closest(".js-product-search").find(".js-recent-search").length||$(e.target).closest(".js-product-search").find(".js-recent-search").is(":visible")?1===$(e.target).closest(".js-product-search").find(".js-recent-search").length&&""===a.val()&&(t.removeClass("is-hidden"),$(window).width()<768&&shadowOverlay.open()):(t.addClass("is-hidden"),shadowOverlay.open(),$(".js-header-bottom").addClass("responsive-header-active"))}),$(document).on("click touchstart",function(e){$(e.target).closest(".js-recent-search").length||$(e.target).closest(".js-product-search-input").length||$(e.target).closest(".js-product-search-button").length||($(".js-recent-search").hasClass("is-hidden")||$(e.target).hasClass("js-icon-menu")||$(e.target).hasClass("js-open-district-area")||$(e.target).hasClass("js-policy-close")||$(e.target).hasClass("js-product-search__showall-wrapper")||$(".js-responsive-overlay").hasClass("is-responsive-menu")||(shadowOverlay.close(),setTimeout(function(){$(".js-header-bottom").removeClass("responsive-header-active")},300)),$(".js-recent-search").addClass("is-hidden"))}),$(document).on("click",".js-recent-search-item",function(e){var t=$(e.target).closest(".js-product-search"),i=t.find(".js-product-search-input"),a=$(this).find(".js-result-badge").text();if(i.val($(this).find("span:first-child").text()),"category"===$(this).data("type")){var o=$(this).data("url");location.href=o}else{var s=$(this).data("selection"),n="";s&&(n="&choice="+s);var o="/arama?query="+encodeURIComponent($(this).find("span:first-child").text())+n;location.href=o}var r={is_previous:!0,is_suggested:!1};segment.productSearchedEvent($(this).find("span:first-child").text(),a,r),e.stopPropagation(),$(e.target).closest(".js-product-search").find(".js-recent-search").addClass("is-hidden")}),$(document).on("click",".js-recent-search-clear-button",function(){localStorage.removeItem("recentSearch"),$(".js-recent-search").remove(),shadowOverlay.close(),setTimeout(function(){$(".js-header-bottom").removeClass("responsive-header-active")},300)}),$(document).on("keypress",".js-product-search-input",function(e){p(e)}),$(document).on("paste",".js-product-search-input",function(e){var t=this;setTimeout(function(){t.value=t.value.replace(/[@]+/g,"").replace(" "," ")},10)})},d=function(){var e=$(".js-product-search-input"),t=window.location.href,i=!!navigator.userAgent.match(/Trident.*rv\:11\./);if(t.indexOf("qt=")!==-1){var a=new RegExp(/qt=(.*?)(?=&|$)/),o=a.exec(t);i?e.val(decodeURIComponent(decodeURIComponent(o[1]).replace(/\+/g," "))):e.val(decodeURIComponent(o[1]).replace(/\+/g," "))}else if(t.indexOf("query=")!==-1){var a=new RegExp(/query=(.*?)(?=&|$)/),o=a.exec(t);i?e.val(decodeURIComponent(decodeURIComponent(o[1]).replace(/\+/g," "))):e.val(decodeURIComponent(o[1]).replace(/\+/g," "))}},c=function(){n.length>0&&n.hide(),a.hide(),o.show().css({display:"inline-block"}),s.addClass("is-active").slideDown(200),$("main").hasClass("product")||responsiveFilterSort.reset()},u=function(){n.length>0&&n.show(),o.hide(),a.show(),s.removeClass("is-active").slideUp(200)},p=function(e){var t=64==e.which;t&&e.preventDefault()},h=function(){return s.hasClass("is-active")};return e.options={strictMode:!0,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},{init:r,openMobile:c,closeMobile:u}}(),responsiveMenu=function(){"use strict";var e=$(".js-responsive-menu"),t=$("body"),i=$(".js-hamburger"),a=$(".js-responsive-overlay"),o=280,s=function(){n()},n=function(){i.on("click",function(){global.eraseCookie("scrollTopPosition"),r()?d():l()})},r=function(){return e.hasClass("is-active")},l=function(){i.addClass("is-active"),e.addClass("is-active"),t.addClass("is-pushed").css("width",$(window).width()),setTimeout(function(){$(".js-header-bottom").removeClass("responsive-header-active")},300),a.addClass("is-responsive-menu"),setTimeout(function(){shadowOverlay.open()},100),$(".js-responsive-filtering").removeClass("is-active").hide(),$(".js-responsive-filtering-seller").removeClass("is-active").hide(),$(".js-responsive-filtering-sort-seller").removeClass("is-active").hide(),e.animate({left:0},200),t.animate({left:o},200)},d=function(){i.removeClass("is-active"),e.removeClass("is-active"),t.removeClass("is-pushed"),shadowOverlay.close(),setTimeout(function(){a.removeClass("is-responsive-menu")},100),e.animate({left:-1*o},200),t.animate({left:0},200,function(){t.css("width","")}),setTimeout(function(){$(".js-mega-menu-third-container").removeAttr("Style"),$(".js-main-submenu").removeAttr("Style")},201),$(".js-responsive-menu").css("overflow-y","auto")};return{init:s,isActive:r,self:e,open:l,close:d}}(),shadowOverlay=function(){"use strict";var e=$(".js-responsive-overlay"),t=function(){i()},i=function(){e.on("click",function(){responsiveMenu.close(),$(".js-hamburger").removeClass("hamburger--passive");var e=window.innerWidth;e>767&&($(".js-responsive-search-overlay").removeClass("is-active"),productSearch.closeMobile()),"undefined"!=typeof responsiveFilterSort&&responsiveFilterSort.reset(),layoutGlobal.unfixBody(),e<=600&&n()})},a=function(){return e.hasClass("is-active")},o=function(){e.addClass("is-active")},s=function(){e.removeClass("is-active")},n=function(){var e=$(window).innerHeight()/1.7;$(".js-hidden-district").animate({bottom:-(e+40)},200,function(){var e=window.innerWidth;e<=600&&$(".js-header-bottom").removeClass("responsive-header-passive")}),$("body").removeClass("is-fixed")};return{init:t,$self:e,isActive:a,open:o,close:s,closeDistrictArea:n}}();$(function(){"use strict";layoutGlobal.init(),megaMenu.init();var e=$("main");e.hasClass("home")?mainBrands.init():e.hasClass("category")?pageCategory.init():e.hasClass("city")?pageCity.init():e.hasClass("multiple-product")?(pageProduct.init(),multipleVariants.init(),conditionalDiscountsProduct.init()):e.hasClass("product")?(pageProduct.init(),conditionalDiscountsProduct.init()):e.hasClass("account")?(pageAccount.init(),e.hasClass("order-tracking-edit")&&pageAccountDate.init(),e.hasClass("subscription-edit")&&pageAccountSubscription.init(),e.hasClass("account-wallet")&&pageAccountWallet.init(),e.hasClass("account-delivery-survey")&&pageAccountDeliverySurvey.init(),e.hasClass("account-messages")&&pageAccountMessages.init(),e.hasClass("account-coupons")&&pageAccountCoupons.init()):e.hasClass("membership")?pageMembership.init():e.hasClass("cart")?pageCart.init():e.hasClass("page-contact")&&e.hasClass("custom")?(pageAccount.init(),pageCustom.init()):e.hasClass("custom")?pageCustom.init():e.hasClass("coupons-page")?pageCoupons.init():e.hasClass("collection-info-page")||e.hasClass("collection-page")?pageCollection.init():e.hasClass("share-win")?pageShareWin.init():e.hasClass("digital-message")?pageDigitalMessage.init():e.hasClass("thanks")?(pageThanks.init(),emailVerification.init()):e.hasClass("evaluation-survey")?pageEvaluationSurvey.init():e.hasClass("boutique")?pageBoutique.init():$("main").hasClass("page-seller-questions")?pageNsReviews.init():e.hasClass("page-comments")?(pageComments.init(),pageNsReviews.init()):e.hasClass("chat-page")&&pageChat.init()});var pageProduct=function(){function init(){$page.hasClass("in-stock")&&(showDeliveryHours(),initProductDetailRegionList(),setDistrict(),initProductDatepicker(),activateProductDatepicker(),shortcutDateSelection(),setHiddenDateInput(),clickAddToCartButton(),variantValueToHiddenInput(),productVariantChange(),emptyHidden(),fetchProductDatas(!0,regionListValue),initQuickOrder(),specialDayShortCut(),removeProductErrors(),removeSelectedLocation(),clickCertificateButton(),fixingShortCutDate(),hideQuickOrderContainer(),clickProductHoursItem(),updateResponsiveHoursItem(),clickVariantLabel(),clickProductDetailLabel(),setProductDetailLabelPrices(),selectActiveDetailValueIsCurrentPassive(),generateUID(),clickProductDeliveryDateItem(),checkProductCoupons(),productDetailCouponCollect(),setAddToCartText(),showBuyNowButton()),thumbGenerateControl($productThumb),initMultipleVariantsImagesSlider(),productOpenGalleryPopup(),playProductVideo(),handleVideoClickToShowPauseButton(),initEasyZoom(),disableFormSubmit(),initSliderController(),getPreviousLink(),isProductSmartCustom(),controlThumbnailClass(),popupRefund(),initSliderPager(),controlPagerClass(),productDescriptionIsEmpty(),variantBlockHide(),windowResizeTrigger(),notAvailableAlternateProduct(),productPointListChange(),commentsEvaluationDropdown(),advertisementProductControl(),deliveryPointSelectize(),deliveryPointListChangeInit(),initEasyPointButton(),resetEasyButtonClick(),productSmartBannerClose(),generateSmartBannerLink(),changeSpecialTime(),hasAdClick(),sliderPagerWidht(),regionSelectizeClose(),allCommentClick(),goToCommentsPage(),productDetailSearchTrigger(),setDetailSearchPlaceholder(),accordionSection(),animateVarinatOnCLick(),sameDayChange(),getCalculateEstimation(),initSubscriptionChange(),sbdeliveryclick(),pdWebtoappBannerDefault(),changeBannerDependsVariant(),subscriptionBadgeClick(),reportClick(),reportPopupButtonClick(),reportSelectionChange(),selectSingleSize(),checkAgePermission(),handleAgeWarningApprove(),handleAgeWarningDismiss(),visibleSimilarProducts(),visibleSimilarProductOnScroll(),getDiscountTimer(),showAllSellers(),breadcrumbShowRight(),triggerDeliveryPointListModal(),closeVariantDropdown(),deliveryPointLinkClick(),deliveryPointSelectorClick(),toggleFocusDeliveryPointInput(),hideDeliveryPointDropdown(),deliveryPointItemClick(),filterDeliveryPoints(),addEllipsisClassForBrand(),handleVariantLabelClick(".js-multiple-variants-label-mutual-popup",".js-multiple-variant-input-popup-mutual"),handleVariantLabelClick(".js-multiple-variants-label-base-popup",".js-multiple-variant-input-popup-base")}function setDistrict(){if($page.hasClass("product")&&$("#region").length>0&&""!=global.getCookie("addressName")){var e=global.getCookie("addressName"),t=decodeURIComponent(e).replace(/\+/g," "),i=$("#region"),a=i[0].selectize;a.addOption({Sequence:"0",Address:t}),a.setValue([0])}}function getDiscountTimer(){if($(".js-set-date-base-campaing-class").hasClass("has-date-base-discount")){var e=$productVariantId.val();$.ajax({type:"POST",url:"/Product/ProductVariantDiscountTimer?variantid="+e,success:function(e){e.length>0?($(".js-discount-timer-content").html(e),$(".js-discount-timer-content.product__discount-timer--responsive").addClass("padding-right"),discountTimer()):($(".js-discount-timer-content").html(""),$(".js-discount-timer-content.product__discount-timer--responsive").removeClass("padding-right"))}})}}function discountTimer(){var e=$(".js-discount-countdown"),t=$(".js-discount-timer-percent"),i=parseInt(e.attr("data-range")),a=parseInt(e.attr("data-hour")),o=parseInt(e.attr("data-minute")),s=parseInt(e.attr("data-second")),n=100*(60*a+o)/i,r=60*a*60+60*o+s;startDiscountTimer(r),setTimeout(function(){t.animate({width:n+"%"},{duration:1500})},1e3)}function startDiscountTimer(e){var t,i,a,o=$(".js-discount-countdown"),s=e;t=parseInt(s/3600%24,10),i=parseInt(s/60%60,10),a=parseInt(s%60,10),t=t<10?"0"+t:t,i=i<10?"0"+i:i,a=a<10?"0"+a:a,o.text(t+":"+i+":"+a);var n=setInterval(function(){t=parseInt(s/3600%24,10),i=parseInt(s/60%60,10),a=parseInt(s%60,10),t=t<10?"0"+t:t,i=i<10?"0"+i:i,a=a<10?"0"+a:a,o.text(t+":"+i+":"+a),--s<0&&clearInterval(n)},1e3)}function visibleSimilarProductOnScroll(){$(window).scrollStopped(function(e){visibleSimilarProducts(),visibleSuggestedProducts(),ads.visibleAd()})}function visibleSimilarProducts(){var e=[],t=$(".js-event-product-similar").eq(0).data("widget-name");$(".js-event-product-similar").each(function(t){var i=$(this).find(".js-similar-product-link").data("productcode"),a=t+1;$(this).visible(!0,!0)&&(similarProductExcludeForVisible.indexOf(i)>-1||(e.push({ProductCode:i,Sequence:a}),similarProductExcludeForVisible.push(i)))}),e.length>0&&similarProductVisibleEvent(e,t)}function visibleSuggestedProducts(){var e=[],t=$(".js-event-product-suggested").eq(0).data("widget-name");$(".js-event-product-suggested").each(function(t){var i=$(this).find(".js-similar-product-link").data("productcode"),a=t+1;$(this).visible(!0,!0)&&(suggestedProductExcludeForVisible.indexOf(i)>-1||(e.push({ProductCode:i,Sequence:a}),suggestedProductExcludeForVisible.push(i)))}),e.length>0&&similarProductVisibleEvent(e,t)}function similarProductVisibleEvent(e,t){setTimeout(function(){var i=JSON.parse($(".js-ani-productview-widget").text()),a=3,o=global.getCookie("CustomerIdentifier"),s=global.getFingerPrint(),n=window.ani||[];n.push(["trackEvent",{EventName:"ProductSeenEvent",WidgetName:t,CustomerIdentifier:o,SeenProductList:e,SourceType:a,Identifier:s,SourceProductCode:i.VariantCode}])},1e3)}function reportClick(){$reportbtn.on("click",function(){$.ajax({type:"GET",url:"/Product/GetErrorReportReasonTypes",success:function(e){e.Success?(global.popup({custom:!0,customHtml:reportPopupHtml(e.ReasonTypes)}),segment.pageView(e.PageScreenEventViewModel.Name,JSON.parse(e.PageScreenEventViewModel.Data))):global.popup({message:"Bir hata oluştu. Lütfen daha sonra tekrar deneyin.",popupType:"alert"})}})})}function reportPopupHtml(e){var t;t='<div class="modal product__report-popup clearfix fade" id="customModalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',t+='<div class="modal-dialog">',t+='<div class="modal-content js-modal-content-report-section">',t+='<div class="modal-header clearfix">',t+='<div class="product__report-popup__icon"><span class="icon-alert-badge"></span></div>',t+='<span class="modal-icon icon-close-line product__report-popup__close-button" data-dismiss="modal" aria-label="Close"></span>',t+="</div>",t+='<div class="row modal-body clearfix">',t+='<div class="product__report-popup__title">Ürünle İlgili Şikayet Nedeni Seçiniz</div>',t+='<div class="product__report-popup__section">';for(var i=0;i<e.length;i++)t+='<div class="product__report-popup__section__item">',t+='<input class="product__report-popup__section__input js-report-selection-input" id="report-'+e[i].Value+'" name="report" type="radio" value="'+e[i].Value+'">',t+='<label class="product__report-popup__section__label" for="report-'+e[i].Value+'">',t+='<span class="product__report-popup__section__text">'+e[i].Name+"</span>",t+="</label>",t+="</div>";return t+='<div class="product__report-popup__section__error hide js-report-selection-error">',t+="<p>Şikayet Nedeni seçimi zorunludur.</p>",t+="</div>",t+="</div>",t+='<button class="product__report-popup__agree-button btn btn-primary js-report-agree-btn">',t+="Şikayet Et",t+="</button>",t+="</div>",t+="</div>",t+='<div class="modal-content hide js-modal-content-report-success">',t+='<div class="modal-header clearfix">',t+='<span class="modal-icon icon-close-line product__report-popup__close-button" data-dismiss="modal" aria-label="Close"></span>',t+="</div>",t+='<div class="row modal-body clearfix">',t+='<div class="product__report-popup__success__icon-wrapper">',t+='<span class="product__report-popup__success__icon-wrapper__icon icon-subscription-ok"></span>',t+="</div>",t+='<div class="product__report-popup__success__title">',t+="Şikayetinizi aldık!",t+="</div>",t+='<div class="product__report-popup__success__description">',t+="Geri bildiriminiz için teşekkür ederiz.",t+="</div>",t+='<button class="product__report-popup__agree-button btn btn-primary js-close-report-popup" aria-label="Close" data-dismiss="modal" class="close" type="button">',t+="Tamam",t+="</button>",t+="</div>",t+="</div>",t+="</div></div></div>"}function reportPopupButtonClick(){$(document).on("click",".js-report-agree-btn",function(){if($(".js-report-selection-input:checked").length<=0)return $(".js-report-selection-error").removeClass("hide"),!1;$(this).prop("disabled",!0);var e=$(".js-report-selection-input:checked").val();if($(".js-no-stock").length>0)var t={ProductId:$(".js-product-id").val(),VariantId:$("#variantID").val(),Type:e};else var t={ProductId:productId,VariantId:variantId,Type:e};$.ajax({type:"POST",url:"/Product/SendError",data:t,success:function(e){e.Success?($(".js-modal-content-report-section").addClass("hide"),$(".js-modal-content-report-success").removeClass("hide")):($(".js-modal-content-report-section").addClass("hide"),$(".js-modal-content-report-success").html('<div class="modal-header clearfix"><span class="modal-icon icon-close-line product__report-popup__close-button" data-dismiss="modal" aria-label="Close"></span></div><div class="row modal-body clearfix"><div class="product__report-popup__success__icon-wrapper"></div><div class="product__report-popup__success__description">'+e.Message+'</div><button class="product__report-popup__agree-button btn btn-primary js-close-report-popup" aria-label="Close" data-dismiss="modal" class="close" type="button">Tamam</button></div>'),$(".js-modal-content-report-success").removeClass("hide"))}})})}function reportSelectionChange(){$(document).on("change",".js-report-selection-input",function(){$(".js-report-selection-error").addClass("hide")})}function selectSingleSize(){var e=document.querySelectorAll(".js-single-size[data-is-size=true]");null!=e&&1==e.length&&e[0].nextElementSibling.click()}function initSubscriptionChange(){$subscriptionInput.length>0&&($subscriptionInput.on("change",function(){var e=$(this);if(e.hasClass("js-choose-subscription-single")){var t=$(".js-region-selectize")[0].selectize;""!=t.getValue()&&$productShowDayPickerContainer.slideDown(250),$subscriptionTitle.slideUp(250),$subscriptionDateTitle.slideUp(250),$subscriptionDescription.slideUp(250),$subscriptionDelivery.slideUp(250),$subscriptionDeliveryButton.prop("checked",!1),globalQuickOrder?$productQuickOrder.parent().slideDown(250):hideQuickOrderContainer(),$subscribePrice.addClass("hide"),$defaultPrice.removeClass("hide");var i=$discountPercentageBox.data("old-price-with-tax"),a=$discountPercentageBox.data("discount-percentage");$subscribePricePercentage.addClass("hide"),""!=i&&a>0&&$discountPercentageBox.removeClass("hide"),$(".js-sales-installment-badge").removeClass("is-hidden")}else{$productShowDayPickerContainer.slideUp(250),$subscriptionDateTitle.slideUp(250),$subscriptionTitle.slideDown(250),$subscriptionDelivery.slideDown(250),hideQuickOrderContainer(),$(".js-sales-installment-badge").addClass("is-hidden"),$subscribePrice.removeClass("hide"),$defaultPrice.addClass("hide");var o=$subscribePricePercentage.data("old-price-with-tax"),s=$subscribePricePercentage.data("discount-percentage");$discountPercentageBox.addClass("hide"),""!=o&&s>0&&$subscribePricePercentage.removeClass("hide")}}),"true"==$(".js-choose-subscription:checked").val().toLowerCase()&&$subscriptionInput.change())}function getCalculateEstimation(){"True"==$isOnlyCargo.val()&&(callGetDynamicValues(),controlCargoMessageAb())}function callGetDynamicValues(){$(".js-change-variant-id").length>0&&(variantId=$(".js-change-variant-id").val());var e=($hiddenDateInput.length>0?$hiddenDateInput.val():"",$(".js-default-region-id").val());$.ajax({url:"/Product/GetDynamicValuesJson?variantId="+variantId+"&productId="+productId+"&regionId="+e+"&isonlyCargo=true",success:function(e){null===e||e.IsSendProduct||(productIsHaveDetailMessages(e),cargoAndSameDayControl=0==e.IsShowCargoBanner&&0==e.ShowSameDay)}})}function animateVarinatOnCLick(){$(document).on("click",".multiple-variants__item",function(){var e,t=$(this),i=t.parent(".multiple-variants"),a=window.innerWidth,o=t.width(),s=Math.ceil(t.position().left);s<0?(e=-s+12+o/2,i.animate({scrollLeft:"-="+e+"px"},"fast")):s+o>a&&(e=s+o-a+12+o/2,i.animate({scrollLeft:"+="+e+"px"},"fast"))})}function accordionSection(){var e,t=document.getElementsByClassName("js-accordion-title");for(e=0;e<t.length;e++)t[e].addEventListener("click",function(){if(window.innerWidth<600){this.classList.toggle("active");var e=this.nextElementSibling;e.classList.toggle("active"),"none"===e.style.display?e.style.display="block":e.style.display="none";
}})}function allCommentClick(){$allComment.on("click",function(e){e.preventDefault(),redirectAllCommentPage(0)})}function redirectAllCommentPage(e){var t;$(".product__variants").length>0&&$(".product__variants").hasClass("is-product")?(t=$(".js-choose-variant:checked").data("product-id"),void 0==t&&(t=$(".js-product-id").val()),0==e?window.location.href=""+window.location.pathname.substr(1)+"/yorumlar/"+t:window.location.href=""+window.location.pathname.substr(1)+"/yorumlar/"+t+"#star="+e):(t=$(".js-product-id").val(),0==e?window.location.href=""+window.location.pathname.substr(1)+"/yorumlar":window.location.href=""+window.location.pathname.substr(1)+"/yorumlar#star="+e)}function goToCommentsPage(){$(document).on("click",".js-star-value, .js-evaluation-dropdown-link",function(){var e;e=$(this).hasClass("js-star-value")?$(this).data("star-value"):0,redirectAllCommentPage(e)})}function regionSelectizeClose(){$("body").on("click",function(e){if("iOS"==global.isMobile()&&void 0!=$(".js-region-selectize")[0]&&$(e.target).parents(".js-region-selectize").length<=0){var t=$(".js-region-selectize")[0].selectize;$(t.$dropdown).is(":visible")&&t.$dropdown.hide()}})}function hasAdClick(){if(document.referrer.indexOf("ciceksepeti.com")>-1&&""!=getParameterByName("entryid")){var e,t=window.location.search,i=1;""!=global.getCookie("adEntryList")&&(adEntryList=JSON.parse(global.getCookie("adEntryList")),adEntryList.length>=10&&(adEntryList=adEntryList.slice(-10)));var a=getExpireDateInList(adEntryList),o=a?a:getExpireDate(i),s={entryid:$hiddenEntryId.val(),productCode:$hiddenProductCode.val(),query:t,expireDate:o},n=$.grep(adEntryList,function(e){return e.entryid==s.entryid});n.length<=0?(adEntryList.length>=10&&adEntryList.shift(),e=a?getDayForAdEntryListCookie(a):i,adEntryList.push(s),global.setCookie("adEntryList",JSON.stringify(adEntryList),e)):n[0].query||(n[0].query=t,n[0].expireDate=o,e=a?getDayForAdEntryListCookie(a):i,global.setCookie("adEntryList",JSON.stringify(adEntryList),e))}}function getDayForAdEntryListCookie(e){var t=new Date(e),i=new Date,a=t-i,o=a/864e5;return o}function getExpireDateInList(e){for(var t,i=0;i<e.length;i++)if(e[i].expireDate){t=e[i].expireDate;break}return t}function getExpireDate(e){var t=new Date,i=new Date(t.getTime()+24*e*60*60*1e3);return i.toISOString()}function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),a=i.exec(t);return a&&a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):""}function sliderPagerWidht(){setTimeout(function(){if(window.innerWidth<600&&$(".js-product-header-summary").length>0){var e=$(".js-product-header-summary"),t=100-100*e.innerWidth()/$(document).width();$(".product__slider-pager.bx-pager").css("width",parseInt(t)+"%")}$(".product__slider-pager.bx-pager").show()},1e3)}function unique(e){return $.grep(e,function(t,i){return i===$.inArray(t,e)})}function getSalesInformation(e){var t,i="",a="",o=!!$sameDayCheckBox.is(":checked");e&&(i=global.getCookie("regionlist")),$(".product__variants").length>0?(t=$(".js-choose-variant"),t.each(function(e){a+=e<t.length-1?$(t[e]).data("product-id")+",":$(t[e]).data("product-id")}),a=a.split(","),a=unique(a),a=a.toString()):a=$product.data("product-id"),""==a&&(a=$(".js-product-id").val()),$.get("/product/GetSalesInformation?productIdlist="+a+"&productgroupId="+productGroupId+"&regionIdList="+i+"&isSameDay="+o,function(e){if(e.IsValid){var t,i,a,o,s,n;if($(".product__variants").length>0)if($(".js-product-detail-relations").length<=0){if($(".js-choose-variant").length>0)t=$(".js-choose-variant:checked").data("product-id"),a=$(".js-choose-variant:checked").data("variant-price-with-tax"),o=$(".js-hidden-default-variant-id").val(),s=$('.js-choose-variant[value="'+o+'"]').data("product-id"),n=$('.js-choose-variant[value="'+o+'"]').data("variant-price-with-tax"),void 0==t&&(t=s),void 0==a&&(a=n),i=jQuery.grep(e.SalesInfo,function(e){return e.ProductId==t}),selectedInstallmentInformation=jQuery.grep(e.SalesInfo,function(e){return e.ProductId==t}),generateCheckboxDelivery(e.SalesInfo),$variantInstallmentText.text(generateInstallmentText(selectedInstallmentInformation[0],a));else if($(".js-option-set-detail-value").length>0){var r=$(".js-option-set-detail-value").find(":selected");t=r.data("product-id"),a=r.data("variant-price-with-tax"),o=$(".js-hidden-default-variant-id").val(),s=$('.js-option-set-detail-value option[value="'+o+'"]').data("product-id"),n=$('.js-option-set-detail-value option[value="'+o+'"]').data("variant-price-with-tax"),void 0==t&&(t=s),void 0==a&&(a=n),i=jQuery.grep(e.SalesInfo,function(e){return e.ProductId==t}),selectedInstallmentInformation=jQuery.grep(e.SalesInfo,function(e){return e.ProductId==t}),generateCheckboxDelivery(e.SalesInfo),$variantInstallmentText.text(generateInstallmentText(selectedInstallmentInformation[0],a))}}else{var l,d;t=$(".js-product-id").val(),l=$(".js-change-variant-id").val(),d=JSON.parse($(".js-product-detail-relations").html()),selectedVariantModel=jQuery.grep(d,function(e){return e.variantId==l}),a=parseFloat(selectedVariantModel[0].totalPriceInt+"."+selectedVariantModel[0].totalPriceDecimal),i=jQuery.grep(e.SalesInfo,function(e){return e.ProductId==t}),selectedInstallmentInformation=jQuery.grep(e.SalesInfo,function(e){return e.ProductId==t}),$variantInstallmentText.text(generateInstallmentText(selectedInstallmentInformation[0],a))}else 0==$(".product__variants").length&&$("#dynamicSelectList").length>0?(t=$(".js-product-id").val(),i=e.SalesInfo,selectedInstallmentInformation=jQuery.grep(e.SalesInfo,function(e){return e.ProductId==t}),a=$("#dynamicSelectList option:selected").data("variant-price-with-tax"),void 0==a&&(o=$(".js-hidden-default-variant-id").val(),a=$("#dynamicSelectList option[value="+o+"]").data("variant-price-with-tax")),$variantInstallmentText.text(generateInstallmentText(selectedInstallmentInformation[0],a))):(t=$product.data("product-id"),i=e.SalesInfo);if(i.length>0){var c=$productVariantId.val(),u=jQuery.grep(i,function(e){return e.VariantId==c}),p=[];if(u.length>0&&(p=jQuery.grep(u[0].SalesInfos,function(e){return 1==e.IsResponsive})),p.length>0?setTimeout(function(){$(".js-sales-information-message").text("& "+p[0].SecondName)},500):setTimeout(function(){$(".js-sales-information-message").text("")},500),u.length>0&&u[0].SalesInfos.length>1)var h=generateSalesInformationHTML(u[0].SalesInfos);$(".sales-inform").html(h)}}else $(".sales-inform").html(""),$(".js-sales-information-message").text(""),$(".js-delivery-info").each(function(){$(this).text("")}),0==e.SalesInfo.length&&$variantInstallmentText.text("")})}function generateCheckboxDelivery(e){for(var t,i,a=0;a<e.length;a++)t=e[a].ProductId,i=jQuery.grep(e[a].SalesInfos,function(e){return 1==e.IsResponsive}),i.length>0?$(".js-choose-variant[data-product-id="+t+"]").next("label").find(".js-delivery-info").text("& "+i[0].SecondName):$(".js-choose-variant[data-product-id="+t+"]").next("label").find(".js-delivery-info").text("")}function generateInstallmentText(e,t){if(void 0!=e){var i,a,o="",s="",n=(e.InstallmentRate*t/e.InstallmentCount).toString().split(".");return i=n[0],a=n.length<2?"00":n[1].substring(0,2),s=i+","+a,o=s+" TL'den Başlayan Taksitlerle"}}function generateSalesInformationHTML(e){var t="";t+='<ul class="sales-inform__list">';for(var i=0;i<e.length;i++)t+='<li class="sales-inform__list-item '+e[i].CustomClass+'">',t+=e[i].Icon,t+='<span class="sales-inform__list-item-text ">'+e[i].Name+"</span>",t+="</li>";return t+="</ul>",$(".js-choose-subscription-multiple").is(":checked")&&(t=t.replace("js-sales-installment-badge","js-sales-installment-badge is-hidden")),t}function generateSmartBannerLink(){var e=window.location.origin+window.location.pathname+"?r=product-detail";$smartBannerLink.attr("href",e)}function productSmartBannerClose(){$smartBannerCloseButton.on("click",function(){$(".product__smart-banner").hide()})}function deliveryPointSelectize(){$(".js-delivery-point-append").selectize({valueField:"Id",labelField:"Name",searchField:["Name","Address"],render:{option:function(e){return $(".js-delivery-point-append .selectize-dropdown-content.no-result").hide(),'<div class="product-location__results-item"><p class="product-location__results-title">'+e.Name+'<br/><span class="product-location__results-subtitle">'+e.Address+"</span></p></div>"}},onItemAdd:function(e,t){$deliveryPointListArea.addClass("is-active");var i=jQuery.grep($deliveryPointResponseList,function(t){return t.Id==e});if(i[0].Message.trim().length>0){var a='<div class="product__message"><p class="product__message-text">'+i[0].Message+"</p> </div>";$productDetailMessageContainer.html(a),$productMessagesArea.slideDown(250)}},onDelete:function(){$deliveryPointListArea.removeClass("is-active"),$productMessagesArea.slideUp(250)},onFocus:function(){$(".js-delivery-point-append .selectize-input .item").hide()},onBlur:function(){$(".js-delivery-point-append .selectize-input .item").show()},onDropdownClose:function(e){$(e).prev().find("input").blur()},plugins:["start_typing","preserve_on_blur"]})}function initEasyPoint(){if("True"===$deliveryPointIsAvailable.val()){var e=$(".js-region-selectize")[0].selectize;e.addOption({"class":"address1",Address:"Kendim Alırım (Teslim Alma Noktası)",Sequence:-1,Id:-1}),""!=global.getCookie("addressName")&&setTimeout(function(){$(".optgroup[data-group=address1]").insertAfter(".product-location__results-item.selected")},10)}}function advertisementProductControl(){setTimeout(function(){"True"===$advertisementProduct.val()&&$("main").hasClass("ab-advertisement-product")===!1&&($advertisementAvailable.addClass("hide"),$advertisementNotAvailablePrice.addClass("hide"),$advertisementNotAvailable.removeClass("hide"))},350)}function resetSalesInformationMessage(){getSalesInformation(!1)}function isEllipsisActive(e){return e.offsetWidth<e.scrollWidth}function addEllipsisClassForBrand(){$(window).on("load",function(){var e=$(".js-brand-length");e.length>0&&isEllipsisActive(e[0])||e.find("+ i").addClass("not-ellipsis")})}function variantBlockHide(){$productVariants.length>0&&(window.innerWidth<600&&$productVariants.hasClass("is-product")&&$productVariants.hasClass("is-hide-for-responsive")?$productVariants.css("display","none"):$productVariants.css("display","block"))}function windowResizeTrigger(){var e=$(window).width();$(window).resize(function(){$(window).width()!=e&&(e=$(window).width(),variantBlockHide())})}function productDescriptionIsEmpty(){if($(".js-only-color").length>0)productDescriptionIsEmptyHack();else{var e=$(".variants__item-inner.is-active > input").data("variantid")||$("#variantID").attr("value");$('.product__recipe > span[data-variantid$="'+e+'"]').length<1&&$('.product__description-text[data-variantid$="'+e+'"] > .js-clear-inline-styles')[0].textContent.trim().length<1&&$('.product__description-extra[data-variantid$="'+e+'"] > .js-clear-inline-styles').length<1?$(".product__description").hide():$(".product__description").show()}}function productDescriptionIsEmptyHack(){$variantDescText.length<=0&&$variantDescProp?$(".product__description").hide():$(".product__description").show()}function fetchProductDatas(e,t){var i=!!$sameDayCheckBox.is(":checked"),a=$(".js-choose-subscription:checked").val();$(".js-same-day-courier-checkbox").val(i),$(".js-change-variant-id").length>0&&(variantId=$(".js-change-variant-id").val()),$(".js-realtime-product").html(""),$productsHours=$(".js-product-hours");var o=void 0!==t?t:$region.val(),s=$hiddenDateInput.length>0?$hiddenDateInput.val():"";globalRegionId=o,$dateItem.next(".js-date-item-hours").slideUp(250).html(""),$dateItem.siblings(".js-date-item-special-time").slideUp(250).html(""),$productsHours.html("").slideUp(250),""!==o&&void 0!==o&&null!==o?($addToCartButton.prop("disabled",!0),$buyNowButton.prop("disabled",!0),$quickOrderCheckbox.prop("disabled",!0),$xhr&&4!=$xhr.readyState&&$xhr.abort(),$xhr=$.ajax({url:"/Product/GetDynamicValuesJson?variantId="+variantId+"&productId="+productId+"&regionId="+o+"&date="+s+"&isSameDay="+i+"&isSubscription="+a+"&addressId="+selectedAddressId,success:function(t){$isProductHaveSpecialTime=t.IsProductHaveSpecialTime,possibleQuickOrder=t.IsQuickOrderV2,null===t||t.IsSendProduct?($hiddenRegionSelect.children("option").val(o),productIsHaveDetailMessages(t),productShowDayPicker(t),productIsQuickOrder(t),$.publish("warning-productdetail-region-cant-send",null),productIsShowAlternate(t),productPointList(t),setSameDay(t),$subscriptionWrapper.slideUp(250),$subscriptionDescription.slideUp(250),$subscriptionDateTitle.slideUp(250)):($subscriptionWrapper.slideDown(250),$hiddenRegionSelect.children("option").val(o),$(".js-branch-is-cargo").val(t.IsShowCargoBanner),$(".js-branch-is-cargo").data("regionid",t.RegionId),productShowDayPicker(t),productShowDeliveryHours(t),productShowSpecialTime(t),productIsHaveDetailMessages(t),productIsQuickOrder(t),productDatepickerDate(t,e),productIsShowAlternate(t),productPointList(t),setDateToday(t),generateResponsiveSpecialHours(t),setSameDay(t),productSubscription(t)),cargoAndSameDayControl=0==t.IsShowCargoBanner&&0==t.ShowSameDay,getSalesInformation(!0)}}).done(function(){setTimeout(function(){$addToCartButton.prop("disabled",!1),$buyNowButton.prop("disabled",!1),$quickOrderCheckbox.prop("disabled",!1)},300),$productQuickOrder.removeClass("is-active"),submitForm===!0&&($("#"+deliveryPointId).trigger("click"),submitAddToCartForm($("#productDetailSend")),submitForm=!1)})):getSalesInformation(!1)}function generateUID(){var e=46656999*Math.random()|0,t=46656999*Math.random()|0;e=("000"+e.toString(36)).slice(-8),t=("000"+t.toString(36)).slice(-8),generateUIDChars=e+t}function getPreviousLink(){var e=document.referrer;void 0===e&&(e=""),$("#referrerUrl").val(e)}function emptyHidden(){var e=$(".js-date-item-hours");$hiddenDateInput.val(""),$dateItem.removeClass("is-active"),e.html(""),$datepickerProductContainer.html('<span class="product__dates-icon icon-date"></span><span class="product__dates-item-text">Takvim</span>')}function initEasyZoom(){if($(".zoom-image").length>0){var e=$(".zoom-image").easyZoom({loadingNotice:"Lütfen bekleyiniz..."});e.data("easyZoom").teardown();var t=e.filter(".zoom-image").data("easyZoom");thumbClickEasyZoom(t),t.teardown(),t._init(),$(".product__thumbs .js-product__thumbs-item a").eq(0).trigger("click")}}function initEasyZoomPopup(){var e=$(".zoom-image-popup").easyZoom({loadingNotice:"Lütfen bekleyiniz..."}),t=e.filter(".zoom-image-popup").data("easyZoom");thumbClickEasyZoomPopup(t),t.teardown(),t._init(),$(".product__thumbs .js-product__thumbs-item-popup a").eq(0).trigger("click")}function controlThumbnailClass(){$(document).on("click",".js-product__thumbs-item",function(){$(this).addClass("active").siblings().removeClass("active")})}function thumbClickEasyZoom(e){$(".product__thumbs").on("click",".js-product__thumbs-item a",function(t){var i=$(this);$(".js-easyzoom-responsive-popup-image").attr("src",i.attr("href"));var a=i.attr("data-video-url"),o=i.attr("data-href");if("null"!==a){var s=generateVideoHTML(a,o);0===$(".js-easyzoom-clickable video").length&&$(".js-easyzoom-clickable").append(s)}else $(".js-easyzoom-clickable").find(".js-product-video-wrapper").remove();t.preventDefault(),e.swap(i.data("standard"),i.attr("data-href"))})}function generateVideoHTML(e,t){var i="";return i='<div class="js-product-video-wrapper product__main-video-wrapper">',i+='<video id="product-video-1" class="product__main-video js-product-video" preload="none" playsinline poster="'+t+'">',i+='<source src="'+e+'" type="video/mp4"/>',i+="</video>",i+='<div class="product__main-video-icon-wrapper js-video-play-button">',i+='<span class="icon-clap-play product__main-video-icon js-product-video-play-icon"></span><span class="icon-pause product__main-video-icon js-product-video-pause-icon"></span>',i+="</div>",i+="</div>"}function thumbClickEasyZoomPopup(e){$(".product__thumbs").on("click",".js-product__thumbs-item-popup a",function(t){var i=$(this);t.preventDefault(),e.swap(i.data("standard"),i.attr("data-href"))})}function initSliderSwipe(){$(".zoom-image").swipe({swipeLeft:function(e,t,i,a,o,s){zoomSwipeLeft()},swipeRight:function(e,t,i,a,o,s){zoomSwipeRight()},allowPageScroll:"vertical",threshold:10})}function zoomSwipeLeft(){if($(window).width()<768){var e=".js-product__thumbs-item",t=".js-product__thumbs-item.active";if($(t).nextAll().length>0){"1"==$(t).nextAll().length&&(easyzoomRight.hide(),easyzoomLeft.show()),$(".js-easyzoom-responsive-popup").length>0?($(".bx-pager-link:visible").eq($(t).next().index()).trigger("click"),$(".js-product__thumbs-item-popup").removeClass("active"),$(".js-product__thumbs-item-popup").eq($(t).index()).addClass("active")):$(".bx-pager-link").eq($(t).next().index()).trigger("click");var i=$(t).prev().find("a").attr("data-standard"),a=$(t).next().find("a").attr("data-standard");easyzoomLeftImage.attr("src",i),easyzoomRightImage.attr("src",a)}else $(e).eq($(e).length-1).children("a").trigger("click")}}function zoomSwipeRight(){if($(window).width()<768){var e=".js-product__thumbs-item",t=".js-product__thumbs-item.active";if($(t).prevAll().length>0){"1"==$(t).prevAll().length&&(easyzoomLeft.hide(),easyzoomRight.show()),$(".js-easyzoom-responsive-popup").length>0?($(".bx-pager-link:visible").eq($(t).prev().index()).trigger("click"),$(".js-product__thumbs-item-popup").removeClass("active"),$(".js-product__thumbs-item-popup").eq($(t).index()).addClass("active")):$(".bx-pager-link").eq($(t).prev().index()).trigger("click");var i=$(t).next().find("a").attr("data-standard"),a=$(t).prev().find("a").attr("data-standard");easyzoomRightImage.attr("src",i),easyzoomLeftImage.attr("src",a)}else $(e).eq(0).children("a").trigger("click")}}function initSliderPager(){var e=$(".bx-default-pager"),t=$(".product__thumbs-item").not(".js-open-gallery").length,i=[];if(t>1){for(var a=0;a<t;a++){var o='<div class="bx-pager-item"><a href="javascript:;" data-slide-index="'+a+'" class="bx-pager-link"> </a></div>';i.push(o)}e.html(i),$(".bx-default-pager div").first().find("a").addClass("active")}}function controlPagerClass(){$(document).on("click",".bx-pager-link",function(){var e=".js-product__thumbs-item.active",t=$(this).attr("data-slide-index");$(".bx-pager-link").removeClass("active"),$(this).addClass("active"),$(".product__thumbs .js-product__thumbs-item a").eq(t).trigger("click");var i=$(e).prev().find("a").attr("data-standard"),a=$(e).next().find("a").attr("data-standard");easyzoomLeftImage.attr("src",i),easyzoomRightImage.attr("src",a),"0"==$(e).nextAll().length?(easyzoomRight.hide(),easyzoomLeft.show()):"0"==$(e).prevAll().length&&(easyzoomLeft.hide(),easyzoomRight.show())})}function initSliderController(){var e=".js-product__thumbs-item",t=".js-product__thumbs-item.active";$(document).on("click",".js-slider-prev",function(){$(t).prevAll().length>0?$(t).prev().children("a").trigger("click"):$(e).eq($(e).length-1).children("a").trigger("click")}),$(document).on("click",".js-slider-next",function(){$(t).nextAll().length>0?$(t).next().children("a").trigger("click"):$(e).eq(0).children("a").trigger("click")})}function hideSliderController(){$sliderController.hide()}function showSliderController(){$sliderController.show()}function initProductDatepicker(){$datepickerProductContainer.datepicker({format:"dd.mm.yyyy",language:"tr",startDate:"0d",endDate:"+1m",autoclose:!0})}function initQuickOrder(){$quickOrderCheckbox.is(":checked")&&$productQuickOrder.addClass("is-active"),$("body").on("change",".js-quick-order",function(){var e=$(this);e.is(":checked")?($productQuickOrder.addClass("is-active"),$(".js-date-item-hours").eq(0).slideUp(250),$(".js-product-hours").eq(0).slideUp(250),$(".js-date-item-special-time").eq(0).slideUp(250).html(""),$quickOrderCheckbox.attr("value","True"),$quickorderError.slideUp(),$(".js-delivery-point-input").prop("checked",!1),$productMessagesArea.slideUp(),$specialHourError.slideUp(),$specialMinuteError.slideUp(),$responsiveProductHoursArea.slideUp()):($productQuickOrder.removeClass("is-active"),$quickOrderCheckbox.attr("value","False"),fetchProductDatas(!1),$quickorderError.slideDown(),$(".js-date-item-hours .select-gray").length<1&&$quickorderError.hide())})}function disableFormSubmit(){$productForm.bind("keypress",function(e){if(13===e.which&&"TEXTAREA"!==e.target.nodeName)return e.preventDefault(),!1})}function activateProductDatepicker(){$datepickerProductContainer.on("show",function(){specialDay()}),$(document).on("click",".datepicker-dropdown .prev, .datepicker-dropdown .next",function(){specialDay()})}function specialDay(){productApproveDate();for(var e=$(".datepicker-dropdown .datepicker-days tbody td"),t=0;t<viewModel.SpecialDateList.length;t++)for(var i=0;i<e.length;i++)e.eq(i).hasClass("new")===!1&&e.eq(i).hasClass("disabled")===!1&&3===viewModel.SpecialDateList[t].ContentType&&e.eq(i).data("day-month")===viewModel.SpecialDateList[t].EventEndDate&&e.eq(i).css({"background-image":"url("+viewModel.SpecialDateList[t].ImageSourceWithPath+")","background-position":"center center","background-repeat":"no-repeat","text-indent":"-9999px"})}function specialDayShortCut(){for(var e=0;e<$shortcutDate.length;e++)for(var t=$shortcutDate.eq(e).data("date"),i=t.split(".")[2],a=t.split(".")[1],o=t.split(".")[0],s=0;s<viewModel.SpecialDateList.length;s++){var n=Number(viewModel.SpecialDateList[s].EventEndDate.split(".")[2]),r=Number(viewModel.SpecialDateList[s].EventEndDate.split(".")[1]),l=Number(viewModel.SpecialDateList[s].EventEndDate.split(".")[0]);Date.UTC(i,a,o)===Date.UTC(n,r,l)&&4===viewModel.SpecialDateList[s].ContentType&&($shortcutDate.eq(e).addClass("special-day-container"),$shortcutDate.eq(e).prepend($("<span />").addClass("special-day default special-day--"+viewModel.SpecialDateList[s].Name).css({"background-image":"url("+viewModel.SpecialDateList[s].ImageSourceWithPath+")","background-position":"center top","background-repeat":"no-repeat","text-indent":"-9999px",width:"31px",height:"30px",position:"relative"})),$shortcutDate.eq(e).children(".product__dates-item-month").text(viewModel.SpecialDateList[s].HtmlContent),$shortcutDate.eq(e).children(".product__dates-item-day").remove())}}function fixingShortCutDate(){for(var e=0;e<viewModel.SpecialDateList.length;e++){var t=viewModel.SpecialDateList[0].ServerDate,i=viewModel.SpecialDateList[0].FixingEndDate,a=t.split(".")[0],o=t.split(".")[1],s=t.split(".")[2],n=Number(i.split(".")[0]),r=Number(i.split(".")[1]),l=Number(i.split(".")[2]),d=$(".js-shortcut-date").eq(2);Date.UTC(s,o,a)<=Date.UTC(l,r,n)&&4===viewModel.SpecialDateList[e].ContentType&&$(".js-shortcut-date").children(".special-day").length<1&&(d.data("date",viewModel.SpecialDateList[0].EventEndDate).attr("data-date",viewModel.SpecialDateList[e].EventEndDate),d.addClass("special-day-container"),d.children(".product__dates-item-day").remove(),d.prepend($("<span />").addClass("special-day fixing special-day--"+viewModel.SpecialDateList[e].Name).css({"background-image":"url("+viewModel.SpecialDateList[e].ImageSourceWithPath+")","background-position":"center top","background-repeat":"no-repeat","text-indent":"-9999px",width:"31px",height:"30px",position:"relative"})),d.children(".product__dates-item-month").text(viewModel.SpecialDateList[e].HtmlContent),d.hasClass("is-disabled")&&d.removeClass("is-disabled"))}}function shortcutDateSelection(){$shortcutDate.on("click",function(){$(this).hasClass("is-disabled")||($addToCartButton.prop("disabled",!1),$buyNowButton.prop("disabled",!1),$productError.slideUp(),selectedDate=$(this).data("date"),setDatepicker(selectedDate))})}function setHiddenDateInput(){$datepickerProductContainer.on("changeDate",function(){datepickerDate=$(this).datepicker("getDate"),formattedDatepickerDate=formatDateForSubmitting(datepickerDate),$(".js-hidden-date-input").val(formattedDatepickerDate),$dateError.slideUp(),$(".product__dates-item").removeClass("has-error"),$.publish("change-productdetail-deliverydate",null),$dateItem.removeClass("is-active"),isShortcutDate(formattedDatepickerDate)===!1?($datepickerProductContainer.html(pickedDateAreaContent(datepickerDate)),$pickedDateArea.addClass("is-active")):($datepickerProductContainer.html('<span class="product__dates-icon icon-date"></span><span class="product__dates-item-text">Takvim</span>'),$pickedDateArea.removeClass("is-active"),$('.js-date-item[data-date="'+formattedDatepickerDate+'"]').addClass("is-active")),""===$(".js-special-time-hour").val()&&$specialHourError.slideUp(),""===$(".js-special-time-minute").val()&&$specialMinuteError.slideUp()})}function showDeliveryHours(){$hiddenRegionSelect.on("change",function(){$isRegionIdFromCustomerAddress&&($(this).find("option").val($regionIdFromCustomerAddress),$isRegionIdFromCustomerAddress=!1),currentDate="",""!==$(this).val()?($locationError.slideUp(),$resetLocationButton.show(),$(".js-region-selectize-search .product__location-wrapper-inner").removeClass("has-error")):($productShowDayPickerContainer.slideUp(250),$(".js-product-hours").slideUp(250),$dateError.slideUp(250),$dateItem.removeClass("has-error"),$specialHourError.slideUp(250),$specialMinuteError.slideUp(250),$hourError.slideUp(250),$deliveryPointListWrapper.slideUp(250),$productMessagesArea.slideUp(250),$productDetailMessageContainer.html(""),$deliveryPointError.slideUp(250),$(".js-realtime-product").html(""),$responsiveProductHoursArea.slideUp(250),$responsiveProductDeliveryHoursWrapper.html(""))}),$(".js-hidden-date-input").length>0&&$(this).on("changeDate",function(){var e=$(".js-region-selectize")[0].selectize.getValue();"-1"==e||$(".js-district-area-selector").hasClass("js-selected-delivery-point")?getEasyPointList():($quickOrderCheckbox.length>0&&$quickOrderCheckbox.is(":checked")&&($quickOrderCheckbox.prop("checked",!1),$productQuickOrder.removeClass("product__quickorder-label--active")),fetchProductDatas(!1))})}function getEasyPointList(){var e=$addToCartButton.data("product-id-for-delivery-point"),t=$addToCartButton.data("variant-id"),i=$deliveryPointPoolType.val(),a=$deliveryPointProductGroupId.val(),o=$(".js-hidden-date-input").val();isResponsive&&global.createOverlay(),$.ajax({url:"/product/GetDeliveryPoint?productId="+e+"&variantId="+t+"&pooltype="+i+"&productgroupId="+a+"&date="+o,type:"GET",error:function(){},success:function(e){if(null!=e.DeliveryPointList&&e.DeliveryPointList.length>0){$deliveryPointResponseList=e.DeliveryPointList,$(".js-delivery-selectize-search .product__location-wrapper-inner").removeClass("has-error"),$(".js-date-item-special-time").html(""),$(".js-date-item-hours").html(""),$(".js-product-hours").html("");var t=$(".js-delivery-point-append")[0].selectize;t.clear(),t.clearOptions(),$deliveryPointListArea.removeClass("is-active"),t.addOption(e.DeliveryPointList),$deliveryPointListWrapper.slideDown(250),$productMessagesArea.slideUp(250),isResponsive&&$deliveryPointSelector.removeClass("is-hidden")}else if($deliveryPointListWrapper.slideUp(250),e.Message.trim().length>0){var i='<div class="product__message js-delivery-point-error-message"><p class="product__message-text">'+e.Message+"</p> </div>";$productDetailMessageContainer.html(i),$productMessagesArea.slideDown(250)}isResponsive&&(global.removeOverlay(),$(".js-delivery-point-text").text("Teslim Alma Noktası"),$deliveryPointSearchTrigger.removeClass("district-search-button--not-empty"))}})}function clickProductHoursItem(){$(document).on("click",".js-product-hours-item",function(){var e=$(this),t=$(this).data("hour-value");$("option[value="+t+"]").prop("selected",!0),$(".js-product-hours-item").removeClass("is-active"),$(".js-date-item-hours select").trigger("change"),$(this).toggleClass("is-active");var i,a=window.innerWidth,o=e.width(),s=Math.ceil(e.position().left);s<0?(i=-s+12+o/2,$(".js-responsive-delivery-hours").animate({scrollLeft:"-="+i+"px"},"fast")):s+o>a&&(i=s+o-a+12+o/2,$(".js-responsive-delivery-hours").animate({scrollLeft:"+="+i+"px"},"fast"))})}function discardAllMinutes(){var e=$(".js-special-time-hour");if(e.find("option:selected").index()>1){$(".js-special-time-minute option").each(function(){""!=$(this).val()&&$(this).remove()});for(var t="",i=0;i<specialMinuteList.length;i++)t+='<option value="'+specialMinuteList[i].Value+'">'+specialMinuteList[i].Text+"</option>";$(".js-special-time-minute").append(t)}}function clickProductDeliveryDateItem(){$(document).on("click",".js-product-delivery-date-item",function(){var e=$(this),t=$(this).data("hour-value"),i=$(this).data("minute-value");$(".js-special-time-hour option[value="+t+"]").prop("selected",!0),discardAllMinutes(),$(".js-special-time-minute option[value="+i+"]").prop("selected",!0),$(".js-product-delivery-date-item").removeClass("is-active"),$(this).toggleClass("is-active"),$(".js-special-time-hour").trigger("change");var a,o=window.innerWidth,s=e.width(),n=Math.ceil(e.position().left);n<0?(a=-n+12+s/2,$(".js-responsive-delivery-hours").animate({scrollLeft:"-="+a+"px"},"fast")):n+s>o&&(a=n+s-o+12+s/2,$(".js-responsive-delivery-hours").animate({scrollLeft:"+="+a+"px"},"fast"))})}function updateResponsiveHoursItem(){$(document).on("change",".js-date-item-hours-select",function(){var e=$(this).val();$(".js-product-hours-item").removeClass("is-active"),""!==e&&$(".js-product-hours-item[data-hour-value="+e+"]").addClass("is-active")})}function clickCertificateButton(){$openCertificate.on("click",function(){global.popup({custom:!0,customHtml:customImagePopup($certificateContainer)})})}function customImagePopup(e){var t;return t='<div class="modal modal-transparent product-popup clearfix fade" id="customModalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',t+='<div class="modal-dialog">',t+='<div class="modal-content">',t+='<div class="modal-header clearfix">',t+='<button aria-label="Close" data-dismiss="modal" class="close" type="button">',t+='<span aria-hidden="true" class="icon-close-line orders__icon-close-line"></span>',t+="</button>",t+="</div>",t+='<div class="row modal-body clearfix">',t+=e.html(),t+="</div>",t+="</div>",t+="</div></div></div>"}function initProductDetailRegionList(){if($(".js-region-selectize").length>0){selectedAddressId=global.getCookie("address"),selectedAddressIdFromHeader=""!=selectedAddressId,productRegionSelect=$(".js-region-selectize").selectize({loadingClass:"",loadThrottle:1e3,valueField:"Sequence",labelField:"Address",searchField:"Address",sortField:[{field:"Sequence",direction:"asc"},{field:"$score"}],create:!1,optgroupField:"class",optgroups:[{value:"address",label:"Kayıtlı Adreslerim"},{value:"address1",label:""}],score:function(e){this.getScoreFunction(e);return function(e){return 1}},render:{option:function(e){return $(".js-region-selectize .selectize-dropdown-content.no-result").hide(),'<div class="product-location__results-item"><p class="product-location__results-title" data-secondary-address="'+e.SecondaryAddress+'"><span class="product-location__results-icon icon icon-pin"></span>'+e.Address+"</p></div>"},optgroup_header:function(e,t){return'<div class="product-location__optgroup-header optgroup-header">'+t(e.label)+" </div>"}},onItemAdd:function(e,t){if($(".js-region-selectize-search").addClass("is-active"),"-1"!=e){$deliveryPointListWrapper.hide(),0!=suggestLength&&(ga("send",{hitType:"event",eventCategory:"suggestDetail",eventAction:"click",eventLabel:suggestLength}),suggestLength=0);var i=jQuery.grep($customerAddress,function(t){return t.Id==e});$hasSavedAddress=i.length>0,selectedAddressIdFromHeader?selectedAddressIdFromHeader=!1:void 0!==i[0]?(selectedAdressText=i[0].DistrictText,t.html(i[0].AddressLine),selectedAddressId=i[0].Id,selectedAddressLat=i[0].Lat,selectedAddressLong=i[0].Long,global.setCookie("userSelectedAddressAB","",365)):(selectedAddressId="",selectedAddressLat="",selectedAddressLong="");var a=global.getCookie("addressName"),o=decodeURIComponent(a).replace(/\+/g," ");if(o.replace(/(?:\r\n|\r|\n)/g," ")==t.text().replace(/(?:\r\n|\r|\n)/g," "))regionList=global.getCookie("regionlist"),
regionListConvert=decodeURIComponent(regionList).replace(/\+/g," "),fetchProductDatas(!0,regionListConvert.split(",")[0]);else{var s="undefined"!=$(".selectize-dropdown-content").find(".product-location__results-item.selected p").data("secondary-address")?$(".selectize-dropdown-content").find(".product-location__results-item.selected p").data("secondary-address"):"",n=""!=global.getCookie("spt_ab"),r=1==n?"/CitySelector/GetRegionIdByAddress?address="+encodeURIComponent(t.text())+"&secondaryAddress="+encodeURIComponent(s)+"&addressId="+selectedAddressId+"&addressLat="+selectedAddressLat+"&addressLong="+selectedAddressLong+"&sptab=true":"/CitySelector/GetRegionIdByAddress?address="+encodeURIComponent(t.text())+"&secondaryAddress="+encodeURIComponent(s)+"&addressId="+selectedAddressId+"&addressLat="+selectedAddressLat+"&addressLong="+selectedAddressLong;$.ajax({url:r,type:"GET",error:function(e){console.log(e)},success:function(e){var t=e.RegionId;null!=e.VerifySelectedAddress&&0==$hasSavedAddress?global.setCookie("userSelectedAddressAB",e.VerifySelectedAddress,365):global.setCookie("userSelectedAddressAB","",365),null===e.SelectedAddress||""===e.SelectedAddress?global.setCookie("addressName","",-1):global.setCookie("addressName",e.SelectedAddress,365),null===e.SelectedAddressId||""===e.SelectedAddressId?(global.setCookie("address","",-1),null===e.SelectedCityName&&""!==e.SelectedCityName||global.setCookie("selectedcityname",e.SelectedCityName,365),null===e.SelectedAddressWithquarter&&""!==e.SelectedAddressWithquarter||global.setCookie("selectedaddresswithquarter",e.SelectedAddressWithquarter,365)):(global.setCookie("address",e.SelectedAddressId,365),global.setCookie("selectedcityname","",-1),global.setCookie("selectedaddresswithquarter","",-1)),null===e.SelectedCity||""===e.SelectedCity?global.setCookie("city","",-1):global.setCookie("city",e.SelectedCity,365),null===e.SelectedRegionList||""===e.SelectedRegionList?global.setCookie("regionlist","",-1):global.setCookie("regionlist",e.SelectedRegionList,365),null===e.IsCountrySelected||""===e.IsCountrySelected?global.setCookie("isCountrySelected","",-1):global.setCookie("isCountrySelected",e.IsCountrySelected,365),null!==t&&void 0!==t?fetchProductDatas(!0,t):fetchProductDatas(!0,0)}})}}else $(".js-date-item-hours").hide(),$(".js-date-item-special-time").attr("style","display: none !important"),$(".js-responsive-delivery-hours-content").hide(),$(".js-product-hours").hide(),$productShowDayPickerContainer.slideDown(250),$productMessagesArea.fadeOut()},onDelete:function(){$(".js-region-selectize-search").removeClass("is-active")},onFocus:function(){$(".selectize-input .item").hide(),$resetLocationButton.addClass("toggle"),$customerAddress.length>0?setCustomerAddress():initEasyPoint(),productRegionSelectControl.$dropdown_content_no_results.is(":visible")||$(".js-region-self-service").show();var e=$(".js-region-selectize")[0].selectize;Object.keys(e.options).length>=2?$(".js-region-self-service").show():$(".js-region-self-service").hide()},onBlur:function(){$(".selectize-input .item").show(),$resetLocationButton.removeClass("toggle")},onKeyUp:function(e){suggestLength=productRegionSelectControl.$control_input.val().length,""!=e&&e.length>=3?$(".js-region-selectize").addClass("loading"):$(".js-region-selectize").removeClass("loading")},onDropdownClose:function(e){$(e).prev().find("input").blur()},load:function load(query,callback){if(productRegionSelectControl.isOpen=!1,""==query)productRegionSelectControl.$dropdown_content_no_results.hide(),productRegionSelectControl.isOpen=!0,productRegionSelectControl.clearOptions(),productRegionSelectControl.refreshOptions(),productRegionSelectControl.focus();else if(!query.length||query.length<3)return callback();if(oldQuery!=query.trim()&&""!=query.trim()){var selectize=$(".js-region-selectize")[0].selectize;selectize.clear(),selectize.clearOptions();var hasABTest=""!=global.getCookie("spt_ab"),url=1==hasABTest?"/CitySelector/GetAddressFinder?query="+encodeURIComponent(query)+"&countryCode="+countryCode.val()+"&sptab=true":"/CitySelector/GetAddressFinder?query="+encodeURIComponent(query)+"&countryCode="+countryCode.val();$.ajax({url:url,type:"GET",error:function(){callback()},success:function success(res){if(res.length>0){var item=eval(res);productRegionSelectControl.$dropdown_content_no_results.hide(),$(".js-region-self-service").show(),callback(item)}else productRegionSelectControl.$dropdown_content.html(""),productRegionSelectControl.$dropdown_content_no_results.show(),$(".js-region-self-service").hide(),productRegionSelectControl.isOpen||setTimeout(function(){productRegionSelectControl.$dropdown.show()},200)},complete:function(){if($(".js-region-selectize").removeClass("loading"),oldQuery=query.trim(),"True"===$deliveryPointIsAvailable.val()){var e=$(".js-region-selectize")[0].selectize;e.addOption({"class":"address1",Address:"Kendim Alırım (Teslim Alma Noktası)",Sequence:-1,Id:-1})}}})}else $(".js-region-selectize").removeClass("loading")},plugins:["no_results_cs","start_typing","preserve_on_blur"]}),productRegionSelectControl=productRegionSelect[0].selectize;var selectize=$(".js-region-selectize")[0].selectize;selectize.on("change",function(){hideQuickOrderContainer(),emptyHidden()}),$(".js-region-selectize .selectize-input").hasClass("full")&&$(".js-region-selectize-search").addClass("is-active")}}function getCustomerAddress(e){$customerAddress=e}function setCustomerAddress(){var e=$(".js-region-selectize")[0].selectize;"True"===$deliveryPointIsAvailable.val()&&$customerAddress.push({"class":"address1",Address:"Kendim Alırım (Teslim Alma Noktası)",Sequence:-1,Id:-1}),Object.keys(e.options).length<2&&(e.addOption($customerAddress),setTimeout(function(){global.getCookie("addressName")&&!$(".js-remove-location").hasClass("toggle")&&$(".product-location__results-item").eq(0).insertAfter(".optgroup")},10)),"True"===$deliveryPointIsAvailable.val()&&setTimeout(function(){$(".optgroup[data-group=address1]").insertAfter(".optgroup[data-group=address]")},10)}function clickBuyNowButton(){$buyNowButton.on("click",function(){clickedFrom="buy",validateAddToCartFormControl()})}function clickAddToCartButton(){$addToCartButton.on("click",function(e){clickedFrom="cart",activeBuyNow&&$(".js-button-type").val("1"),e.originalEvent.detail<2&&validateAddToCartFormControl()})}function validateAddToCartFormControl(){if(validateAddToCartForm()){var e="true"==$cargoMessageAb.val(),t=$(".js-cargo-message-ab-test").val();if($(".js-cargo-message").length&&$(".js-cargo-show").length&&"true"==$(".js-cargo-show").val().toLowerCase()&&(e&&t||!e)){var i=$(".js-cargo-message").val();"true"==$cargoMessageAb.val()&&(i=t),global.popup({dismissButton:"Vazgeç",confirmButton:"Devam Et",message:i,popupType:"confirm",confirmAction:"pageProduct.continueAddingProductToCart()"})}else continueAddingProductToCart()}}function continueAddingProductToCart(){$("#modalBox").remove(),$(".modal-backdrop").remove(),$("html, body").removeClass("modal-open");var e=$(".user-menu__icon--cart").data("product-id-list"),t=$addToCartButton.data("product-id").toString();if(null!=e&&""!=e){var i=e.toString().split(",");i.indexOf(t)>-1&&cargoAndSameDayControl?global.popup({dismissButton:"Hayır, eklemek istemiyorum",confirmButton:"Evet, sepetime ekle",message:"Bu ürünü daha önce sepetinize eklemiştiniz. Tekrar eklemek ister misiniz?",popupType:"confirm",confirmAction:"pageProduct.submitAddToCartForm($('#productDetailSend'))"}):submitAddToCartForm($productForm)}else submitAddToCartForm($productForm)}function variantValueToHiddenInput(){$(document).on("change",".js-choose-variant",function(){var e=$(this);getVariantValueToHiddenInput(e)});var e=$(".js-choose-variant:checked");e.length>0&&$(".js-product-id").val()!=e.data("pid")&&getVariantValueToHiddenInput(e)}function getVariantValueToHiddenInput(e){if(e.hasClass("js-only-color")){var t,i=e.data("value-id"),a=(e.data("product-id"),e.data("pid"));e.data("variantcode");$.ajax({type:"GET",url:"/Product/GetProductDetailsByOptionId?productId="+a+"&optionId="+i,success:function(i){$(".js-variant-change-disable-mask").addClass("hidden");var a=i.Variants;t=i.SegmentProductVariantsViewModel,viewModel.productThumbs=i.PictureModels;var o=jQuery.grep(a,function(e){return 0!=e.Id});e.attr("data-discount-amount",o[0].DiscountAmount),e.attr("data-have-special-time",1==o[0].ProductRelation.IsHaveSpecialTime?"True":"False"),e.attr("data-is-active",1==o[0].IsActive?"True":"False"),e.attr("data-is-discount-available",0==o[0].IsDiscountAvailable?"False":"True"),e.attr("data-is-dumb-custom",o[0].xProductDetails.length>0?"True":"False"),e.attr("data-is-go-to-relation",1==o[0].ProductRelation.IsGoToRelation?"True":"False"),e.attr("data-is-original",0==o[0].IsOriginal?"False":"True"),e.attr("data-is-personalized-product",1==o[0].IsPersonalizedProduct?"True":"False"),e.attr("data-is-thumbs-active",0==i.IsCanvasProduct?"True":"False"),e.attr("data-is-weekend-active",1==o[0].ProductRelation.IsWeekendActive?"True":"False"),e.attr("data-price-with-discount",o[0].PriceWithDiscount),e.attr("data-show-discount-banner",1==o[0].IsShowDiscountBanner?"True":"False"),e.attr("data-show-refund-badge",1==o[0].ShowRefundBadge?"True":"False"),e.attr("data-weekend-active",1==o[0].IsWeekendActive?"True":"False"),e.attr("data-val","true"),e.attr("data-variant-datebaseddiscount-text",null==o[0].Price.DateBasedCartDiscountText?"":o[0].Price.DateBasedCartDiscountText),e.attr("data-variant-datebasediscount-available",1==o[0].Price.IsDateBasedCartDiscountAvailable?"True":"False"),e.attr("data-variant-datebasediscount-text",null==o[0].Price.DateBasedCartDiscountText?"":o[0].Price.DateBasedCartDiscountText),e.attr("data-variant-discountpercentage",1==o[0].Price.IgnoreFirstPriceWithPeriodicallyState?"0":o[0].Price.DiscountPercentage),e.attr("data-variant-favoritecount",favoriteCount),e.attr("data-variant-ignore-first-price-with-periodically-state",1==o[0].Price.IgnoreFirstPriceWithPeriodicallyState?"True":"False"),e.attr("data-variant-is-datebaseddicount-available",1==o[0].Price.IsDateBasedCartDiscountAvailable?"True":"False"),e.attr("data-variant-old-price",1==o[0].Price.IgnoreFirstPriceWithPeriodicallyState?"0":o[0].Price.OldPriceText.toFixed(2)),e.attr("data-variant-old-pricewithtax",1==o[0].Price.IgnoreFirstPriceWithPeriodicallyState?"0":o[0].Price.OldPriceWithTax.toFixed(2)),e.attr("data-variant-originaltotalprice",o[0].Price.TotalPriceWithoutDateBasedDiscount.toFixed(2)),e.attr("data-variant-price",o[0].Price.Price.toFixed(2)),e.attr("data-variant-price-with-tax",o[0].Price.TotalPrice.toFixed(2)),e.attr("data-variant-progressbar-show",1==o[0].Price.IsShowCartDiscountProgressBar?"True":"False"),e.attr("data-variant-webtoappcampaigntype",o[0].webtoappcampaigntype),e.attr("data-value-id",o[0].ProductDetails[0].DetailValues[0].Id),e.attr("data-variantcode",o[0].VariantCode),e.attr("data-variantId",o[0].Id),e.attr("id","productVariant-"+o[0].Id),e.next().attr("for","productVariant-"+o[0].Id),$variantDescText=o[0].ProductRelation.Description,$variantDescVideo=o[0].DescriptionYoutubeLink,$variantDescProp=!0,e.val(o[0].Id),$("#segment-product-variant-data").val(t),changeVariantItem(e),variantChangeActions(e)},error:function(){$(".js-variant-change-disable-mask").addClass("hidden")}})}else changeVariantItem(e)}function changeVariantItem(e){$hiddenVariantInput.val(e.val()),variantId=e.val(),$(".product__main-info .js-favorite-add").removeClass("add-favorite");var t=$(".js-price-with-discount").length;t&&$(".js-price-with-discount").html(e.data("price-with-discount"));var i=e.data("show-discount-banner");"True"==i?($(".ab-special-campaign").removeClass("is-hidden"),$(".js-price-with-discount").html(e.data("price-with-discount")),$(".js-price-with-amount").html(e.data("discount-amount"))):$(".ab-special-campaign").addClass("is-hidden");var a=e.data("is-personalized-product");"True"==a?$(".js-customize-banner").removeClass("hidden"):$(".js-customize-banner").addClass("hidden"),"True"==$isOnlyCargo.val()&&callGetDynamicValues();var o=e.data("variant-favoritecount");if(o>20||""!=o?$(".js-favorite-text").html("<span>Bu Ürün</span> <span>"+o+" kişinin Favorisi</span>").removeClass("hide"):$(".js-favorite-text").html("").addClass("hide"),$(".product__main-info .js-favorite-add").attr("data-product-id",e.data("product-id")),setTimeout(function(){favorite.favoriteProductSet("product")},250),$(".js-all-comment").length>0){var s=$(".js-all-comment").attr("href").split("yorumlar/")[1],n=$(".js-all-comment").attr("href").replace(s,e.data("variantid"));$(".js-all-comment").attr("href",n)}}function realTimeProduct(){var e=$addToCartButton.data("product-id"),t=$addToCartButton.data("variant-id");$.ajax({type:"POST",url:"/HeaderBadges/GetRealTimeMarketing?productId="+e+"&variantid="+t,success:function(e){e.length>0&&($(".js-realtime-product").html(e),layoutGlobal.remainingtimeBar())}})}function isShortcutDate(e){for(var t=!1,i=0;i<$shortcutDate.length;i++)if(shortcutDates[i]=$shortcutDate.eq(i).data("date"),e===shortcutDates[i]){t=!0;break}return t}function pickedDateAreaContent(e){var t,i=("0"+e.getDate()).slice(-2),a=["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],o=["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],s=a[e.getDay()],n=o[e.getMonth()];return t='<span class="js-product-datepicker product__datepicker-container"></span>',t='</span><span class="product__dates-icon icon-date"></span>',t+='<span class="product__dates-item-day">'+s+"</span>",t+='<span class="product__dates-item-month">'+i+" "+n+"</span>"}function productVariantChange(){$('input[name="AddToCartModel.VariantId"], select[name="AddToCartModel.VariantId"]').on("change",function(){if(!$(this).hasClass("js-only-color")){var e,t=!1;t="INPUT"===$(this)[0].nodeName,e=t?$(this):$(this).find("option:selected"),""!=e.val()&&variantChangeActions(e)}})}function variantChangeActions(e){$productVariantId.val(e.val());var t=e.data("variant-discountpercentage"),i="True"==e.data("variant-datebasediscount-available"),a="True"==e.data("variant-ignore-first-price-with-periodically-state"),o=e.data("variant-datebasediscount-text"),s=e.data("variant-originaltotalprice"),n=e.data("variant-old-pricewithtax"),r=e.data("variant-price-with-tax"),l=e.data("variant-price"),d=e.data("is-weekend-active"),c=e.data("product-code"),u=e.data("is-dumb-custom"),p=e.data("product-name"),h=e.data("is-discount-available"),m=e.data("is-original"),g=e.data("show-refund-badge"),v=e.data("weekend-active"),f=e.data("product-id-for-delivery-point"),b=!0;if(r.toString().split(".")[0].length>=5&&(r=parseFloat(r).priceFormat(0,3,".",","),b=!1),n.toString().split(".")[0].length>=5&&(n=parseFloat(n).priceFormat(0,3,".",",")),toggleRefundBadge(g),productIsWeekendActive(v),variantId=e.val(),productId=e.data("product-id"),thumbsActive=e.data("is-thumbs-active"),haveSpecialTime=e.data("have-special-time"),isGoToRelation=e.data("is-go-to-relation"),variantCode=e.data("variantcode"),$hiddenProductCode.val(variantCode),$productCode.text("Ürün Kodu: "+c),$productCode.attr("data-code",c),"False"===h?$(".product__icon-medallion").addClass("hidden"):$(".product__icon-medallion").removeClass("hidden"),"False"===m?$(".product__icon-original").addClass("hidden"):$(".product__icon-original").removeClass("hidden"),$(".js-product-title").text(p),$product.data("product-id",productId),$product.data("data-change-product-id",productId),$product.data("have-special-time",haveSpecialTime),$product.data("is-go-to-relation",isGoToRelation),$product.data("is-weekend-active",d),$product.data("variant-code",variantCode),$product.data("product-id-for-delivery-point",f),$product.data("variant-id",e.val()),$product.data("is-dumb-custom",u),$(".js-region-selectize").length>0){var y=$(".js-region-selectize")[0].selectize.getValue();"-1"==y||$(".js-district-area-selector").hasClass("js-selected-delivery-point")?getEasyPointList():fetchProductDatas(!0)}else getSalesInformation(!1);var C=document.querySelectorAll(".js-single-size[data-is-size=true]");null!=C&&1==C.length?e.parents(".product__variants").find(".js-selected-property-name").html(" : "+e.data("value-name")):""!=e.data("product-short-name")&&e.parents(".product__variants").find(".js-selected-property-name").html(" : "+e.data("product-short-name"));var w="True"===thumbsActive;w&&thumbGenerateControl($productThumb),productChangePrice(n,r,l,t,b,o,i,s,a),productChangeComponents(e.val()),productDescriptionIsEmpty(),productChangeDescriptions(e.val()),productChangeSpecifications(productId),initSliderPager(),getDiscountTimer(),wallet.getProductDetailWalletBanner()}function clickVariantLabel(){$variantLabel.on("click",function(){$variantLabel.parents(".variants__item-inner").removeClass("is-active"),$(this).parents(".variants__item-inner").addClass("is-active")})}function findPriceForProductDetailSelection(e,t){var i;return $.each(e,function(e,a){for(var o=0;o<a.detailValueIds.length;o++)if(t.indexOf(a.detailValueIds[o])===-1)return;i=a.price}),i}function getProductDetailSelectedValues(){var e=[];return $(".js-product-detail-value").each(function(){$(this).parents(".variants__item-inner").hasClass("is-active")&&e.push($(this).data("value-id").toString())}),e}function changeProductDetailLabelPrice(e,t,i,a){var o=e.find(".variants__price");0!==t?(o.find(".js-variants-info-text").html(i),o.find(".variants__price__integer-value").html(Math.abs(t).toString().split(".")[0]),o.find(".variants__price__decimal-value").html(","+t.toString().split(".")[1]+" TL")):(o.find(".js-variants-info-text").html(""),o.find(".variants__price__integer-value").html(""),o.find(".variants__price__decimal-value").html(""))}function setProductDetailLabelPrices(e){if(!e){if(!($(".js-product-detail-relations").length>0))return;e=JSON.parse($(".js-product-detail-relations").text())}$productDetailLabel.each(function(){var t,i=$(this),a=i.data("detail-id"),o=i.data("value-id").toString(),s=[o];$(".js-product-detail-label").each(function(){var e=$(this);if(e.parents(".variants__item-inner").hasClass("is-active")&&e.data("detail-id")!==a){var i=e.data("value-id").toString();return e.hasClass("js-product-detail-label-main")&&(t=i),void s.push(i)}});var n=findPriceForProductDetailSelection(e,s).toFixed(2);if(i.hasClass("js-product-detail-label-main"))changeProductDetailLabelPrice(i,n,"");else{var r=0;$(".js-product-detail-label-secondary").each(function(){var i=$(this).data("value-id").toString(),a=parseFloat(findPriceForProductDetailSelection(e,[t,i]).toFixed(2));(r>a||0===r)&&(r=a)});var l=(n-r).toFixed(2);l>0?changeProductDetailLabelPrice(i,l,"+&nbsp;",")"):changeProductDetailLabelPrice(i,0,"")}})}function selectActiveDetailValueIsCurrentPassive(e){if(!e){if(!($(".js-product-detail-relations").length>0))return!1;e=JSON.parse($(".js-product-detail-relations").text())}var t=!0,i="js-product-detail-label-passive";$(".js-product-detail-label-secondary").removeClass(i);var a=$(".js-product-detail-value");return a.parents(".variants__item-inner").css("opacity","1"),$(".js-product-detail-value").removeAttr("disabled"),$productDetailLabel.each(function(){var a=$(this),o=a.data("value-id").toString(),s=!1,n=0;if(a.parents(".variants__item-inner").hasClass("is-active")&&a.hasClass("js-product-detail-label-main")&&$.each(e,function(e,t){var a=t.detailValueIds.indexOf(o);if(!t.isActive&&a!==-1)for(var r=0;r<t.detailValueIds.length;r++)if(a!==r){var l=$(".js-product-detail-label-"+t.detailValueIds[r]);l.addClass(i),l.parents(".variants__item-inner").css("opacity","0.5"),$(".js-product-detail-value-"+t.detailValueIds[r]).attr("disabled","true"),l.parents(".variants__item-inner").hasClass("is-active")&&(n=l.data("detail-id"),s=!0)}}),s){var r=$('.js-product-detail-label-secondary[data-detail-id="'+n+'"]').not($("."+i)).first();return r.prev().prop("checked",!0),r.click(),void(t=!1)}}),t}function subscriptionBadgeClick(){$(".js-subscription-badge").on("click",function(){""!=$("#subscriptionPopUp").html().trim()&&global.popup({custom:!0,customHtml:subscriptionPopUpContent()})})}function subscriptionPopUpContent(){var e,t=$("#subscriptionPopUp").text().trim();return e='<div class="modal product__modal-detail-subscription-popup fade" id="customModalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',e+='<div class="modal-dialog">',e+='<div class="modal-content">',e+='<div class="modal-header">',e+='<span aria-hidden="true" aria-label="Close" data-dismiss="modal" class="modal-icon icon-close-line"></span>',e+='<h4 class="modal-title clearfix"> Abonelik Nedir ? </h4>',e+="</div>",e+='<div class="modal-body">',e+=t,e+="</div>",e+='<div class="modal-footer">',e+="</div></div></div></div>"}function clickProductDetailLabel(){$productDetailLabel.on("click",function(){var e=$(this);if(!e.hasClass("js-product-detail-label-passive")){var t=e.data("detail-id");$(".js-product-detail-label-"+t).parents(".variants__item-inner").removeClass("is-active"),e.parents(".variants__item-inner").addClass("is-active");var i=getProductDetailSelectedValues(),a=JSON.parse($(".js-product-detail-relations").text());$.each(a,function(e,t){for(var a=0;a<t.detailValueIds.length;a++)if(i.indexOf(t.detailValueIds[a])===-1)return;var o=$("#productVariant-"+t.variantId);o.prop("checked",!0),o.change()}),selectActiveDetailValueIsCurrentPassive(a)&&setProductDetailLabelPrices(a)}})}function productChangePrice(e,t,i,a,o,s,n,r,l){var d=$(".js-change-variant-price"),c=$(".js-discount-percentage"),u=$(".js-date-based-discount-percentage-text"),p=$(".js-price-integer"),h=$(".js-old-price"),m=$(".js-price-decimal"),g=$(".js-price-container"),v=$(".js-date-based-original-price"),f=$(".js-date-based-original-price-integer"),b=$(".js-date-based-original-price-decimal"),y=$(".js-set-date-base-campaing-class");d.html(t.toString().split(".")[0]+","+t.toString().split(".")[1]),0!=parseFloat(e)&&"false"==l?(o?h.html(e.toString().split(".")[0]+","+e.toString().split(".")[1]+" TL"):h.html(e.toString().split(".")[0]+","+e.toString().split(".")[1]+" TL"),h.removeClass("hide")):h.html(""),g.attr("data-price",t),o?(p.html(t.toString().split(".")[0]),m.html(","+t.toString().split(".")[1]+" TL")):(p.html(t),m.html(" TL")),a>1?(c.html("%"+a),$discountPercentageBox.removeClass("hide")):(c.html(""),$discountPercentageBox.addClass("hide")),n?(y.addClass("has-date-base-discount"),g.addClass("discount-price"),u.html(s),u.parents(".js-date-based-discount-percentage-text-parent").removeClass("hide"),0==l?(o?(f.html(r.toString().split(".")[0]),b.html(","+r.toString().split(".")[1]+" TL")):(f.html(r),b.html(" TL")),v.removeClass("hide")):window.innerWidth<600?v.addClass("hide"):(f.html(""),b.html(""),v.removeClass("hide")),h.html("")):(y.removeClass("has-date-base-discount"),v.addClass("hide"),g.removeClass("discount-price"),u.html(""),u.parents(".js-date-based-discount-percentage-text-parent").addClass("hide"),f.html(""),b.html(""),0!=parseFloat(e)?(o?h.html(e.toString().split(".")[0]+","+e.toString().split(".")[1]+" TL"):h.html(e.toString().split(".")[0]+","+e.toString().split(".")[1]+" TL"),h.removeClass("hide")):h.html("")),g.attr("data-actionprice",i)}function productChangeComponents(e){$(".product__recipe-item").addClass("hidden"),$('.product__recipe-item[data-variantid="'+e+'"]').removeClass("hidden"),$(".product__recipe-variant").addClass("hidden"),$('.product__recipe-variant[data-variantid="'+e+'"]').removeClass("hidden")}function productChangeDescriptions(e){$(".js-only-color").length>0||$(".js-product-detail-relations").length>0||($(".product__description-text").addClass("hidden"),$('.product__description-text[data-variantid="'+e+'"]').removeClass("hidden"),$(".product__description-extra").addClass("hidden"),$('.product__description-extra[data-variantid="'+e+'"]').removeClass("hidden"))}function productSetVariantDescriptions(e){$variantDescText=e[0].variantDescription,$variantDescVideo=e[0].variantVideo}function productChangeSpecifications(e){$(".js-product-specifications").addClass("hidden"),$('.js-product-specifications[data-productid="'+e+'"]').length>0?($('.js-product-specifications[data-productid="'+e+'"]').parents(".product__description").removeClass("hidden"),$('.js-product-specifications[data-productid="'+e+'"]').removeClass("hidden")):$(".js-product-specifications").parents(".product__description").addClass("hidden")}function thumbGenerateControl(e){productRemoveThumbs(e);for(var t=0,i=!0,a=[],o=0;o<viewModel.productThumbs.length;o++)viewModel.productThumbs[o].VariantId==$productVariantId.val()&&(t<5&&productViewThumbs(a,viewModel.productThumbs[o].ImageUrl,viewModel.productThumbs[o].ThumbnailUrl,viewModel.productThumbs[o].FullSizeImageUrl,viewModel.productThumbs[o].ZoomImageUrl,viewModel.productThumbs[o].Title,o,viewModel.productThumbs[o].VideoUrl),t++),1===t&&i===!0&&(i=!1,$(".product__image").attr("src",viewModel.productThumbs[o].FullSizeImageUrl).parent("a").attr("href",viewModel.productThumbs[o].ZoomImageUrl));if(e.prepend(a),$(".js-product__thumbs-item").eq(0).addClass("active"),1===t?($(".product__thumbs").hide(),hideSliderController()):($(".product__thumbs").show(),showSliderController()),t>5?$(".js-open-gallery").removeClass("hidden"):$(".js-open-gallery").addClass("hidden"),window.innerWidth<600){for(var s=$(".js-product-images-slider"),n=0,r=[],l=$(".js-product-title").text(),d=0;d<viewModel.productThumbs.length;d++)viewModel.productThumbs[d].VariantId==$productVariantId.val()&&(n<5&&productViewImages(r,viewModel.productThumbs[d].FullSizeImageUrl,l,viewModel.productThumbs[d].VideoUrl),n++);removeProductImagesSlider(s),s.html(r),initProductSliderImages()}initEasyZoom()}function thumbGenerateControlHack(e,t,i){productRemoveThumbs(e);for(var a=0,o=!0,s=[],n=0;n<i.productThumbs.length;n++)i.productThumbs[n].VariantId==t&&(a<5&&productViewThumbs(s,i.productThumbs[n].ImageUrl,i.productThumbs[n].ThumbnailUrl,i.productThumbs[n].FullSizeImageUrl,i.productThumbs[n].ZoomImageUrl,i.productThumbs[n].Title,n,i.productThumbs[n].VideoUrl),a++),1===a&&o===!0&&(o=!1,$(".product__image").attr("src",i.productThumbs[n].FullSizeImageUrl).parent("a").attr("href",i.productThumbs[n].ZoomImageUrl));if(e.prepend(s),$(".js-product__thumbs-item").eq(0).addClass("active"),1===a?($(".product__thumbs").hide(),hideSliderController()):($(".product__thumbs").show(),showSliderController()),a>5?$(".js-open-gallery").removeClass("hidden"):$(".js-open-gallery").addClass("hidden"),window.innerWidth<600){for(var r=$(".js-product-images-slider"),l=0,d=[],c=$(".js-product-title").text(),u=0;u<i.productThumbs.length;u++)i.productThumbs[u].VariantId==t&&(l<5&&productViewImages(d,i.productThumbs[u].FullSizeImageUrl,c,i.productThumbs[u].VideoUrl),l++);removeProductImagesSlider(r),r.html(d),initProductSliderImages()}initEasyZoom()}function thumbGenerateControlInPopup(e){productRemoveThumbs(e);for(var t=0;t<viewModel.productThumbs.length;t++)viewModel.productThumbs[t].VariantId===Number($productVariantId.val())&&productPopupViewThumbs(e,viewModel.productThumbs[t].ImageUrl,viewModel.productThumbs[t].FullSizeImageUrl,viewModel.productThumbs[t].ZoomImageUrl,t);$(".js-product__thumbs-item-popup").eq(0).addClass("active"),$(".product-popup .product__image").attr("src",viewModel.productThumbs[0].FullSizeImageUrl).parent("a").attr("href",viewModel.productThumbs[0].ZoomImageUrl),initEasyZoomPopup()}function productRemoveThumbs(e){e.children(".product__thumbs-item-json").remove()}function removeProductImagesSlider(e){e.hasClass("slick-slider")&&e.removeClass("slick-slider slick-initialized")}function productViewThumbs(e,t,i,a,o,s,n,r){var l="";r&&(l='<div class="product__main-video-icon-wrapper"><span class="icon-clap-play product__main-video-icon"></span></div>'),e.push($('<div class="product__thumbs-item js-product__thumbs-item product__thumbs-item-json br-6" />').append('<a data-standard="'+a+'" data-href="'+o+'" data-video-url="'+r+'">'+l+'<img alt="'+s+'" data-src="'+t+'" sizes="(min-width: 600px) 4vw, (min-width: 1600px) 10vw" class="product__thumbs-image '+n+' lazyload br-6" data-srcset="'+i+" 91w,"+t+' 186w" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw== 91w"></a>'))}function productViewImages(e,t,i,a){var o="";a&&(o=generateVideoHTML(a,t)),e.push($('<div class="product__slider-item" />').append('<a href="'+t+'"><img class="product__slider-item--image lazyload" alt="'+i+'" data-src="'+t+'" src="/Themes/Ciceksepeti/Assets/images/brokenimage.jpg" width="582" height="640" /></a>'+o))}function productPopupViewThumbs(e,t,i,a,o){e.append($('<div class="product__thumbs-item js-product__thumbs-item-popup product__thumbs-item-json br-6" />').append('<a data-standard="'+i+'" href="'+a+'"><img class="product__thumbs-image '+o+'" alt="" src="'+t+'"></a>')).eq(0).addClass("active")}function loadDekupelImage(){viewModel.dekupelPictures.length>0&&global.isMobile()===!1&&$.each(viewModel.dekupelPictures,function(e,t){t.VariantId===Number($productVariantId.val())&&$(".product__description").css("background-image","url("+t.ImageUrl+")")})}function productOpenGalleryPopup(){$openGalleryBtn.on("click",function(){global.popup({custom:!0,customHtml:popupContentGallery(),shownFunction:function(){thumbGenerateControlInPopup($(".product__thumbs--popup"))}})})}function playProductVideo(){$(document).on("click",".js-video-play-button",function(){var e=$(".js-product-video");e[0].paused?(e.trigger("play"),handleVideoStart()):(e.trigger("pause"),handleVideoPauseOrEnd())})}function addProductVideoEndListener(){var e=$(".js-product-video");e.on("ended",function(){e.load(),$(".js-video-play-button").css({display:""}),handleVideoPauseOrEnd()})}function removeProductVideoEndListener(){var e=$(".js-product-video");e.off("ended")}function handleVideoStart(){var e=$(".js-video-play-button");$(".js-product-video-play-icon").hide(),$(".js-product-video-pause-icon").show(),e.addClass("playing"),$(window).width()<768&&e.css({display:"none"}),addProductVideoEndListener()}function handleVideoPauseOrEnd(){$(".js-product-video-pause-icon").hide(),$(".js-product-video-play-icon").show(),$(".js-video-play-button").removeClass("playing"),removeProductVideoEndListener()}function handleVideoClickToShowPauseButton(){$(document).on("click",".js-product-video",function(){var e=$(".js-video-play-button");e.hasClass("playing")&&$(window).width()<768&&e.css({display:"block"})})}function setDatepicker(e,t){$(".js-delivery-point-input").each(function(){$(this).is(":checked")&&(deliveryPointId=$(this).attr("id"))}),$datepickerProductContainer.datepicker("setDate",e),submitForm=t}function formatDateForSubmitting(e){var t,i=("0"+e.getDate()).slice(-2),a=("0"+(e.getMonth()+1)).slice(-2),o=e.getFullYear();return t=i+"."+a+"."+o}function productShowDayPicker(e){globalShowDatePicker=e.ShowDatePicker,globalShowSubscriptionDescription=e.IsShowCargoBanner,globalQuickOrder=e.IsQuickOrder,e.ShowDatePicker===!0?$(".js-subscription-product").length>0?$(".js-choose-subscription:checked").length>0&&($(".js-choose-subscription-single:checked").length>0&&(realTimeProduct(),$productShowDayPickerContainer.is(":visible")||$productShowDayPickerContainer.slideDown(250)),$(".js-choose-subscription-multiple:checked").length>0&&($subscriptionDelivery.slideDown(250),$subscriptionDeliveryButton.is(":checked")&&($subscriptionDateTitle.slideDown(250),realTimeProduct(),$productShowDayPickerContainer.is(":visible")||$productShowDayPickerContainer.slideDown(250)))):(realTimeProduct(),$productShowDayPickerContainer.is(":visible")||$productShowDayPickerContainer.slideDown(250)):($(".js-subscription-product").length>0&&$(".js-choose-subscription:checked").length>0&&$(".js-choose-subscription-multiple:checked").length>0&&$subscriptionDelivery.slideDown(250),$productShowDayPickerContainer.slideUp(250))}function showdatepickerformsub(e,t){e&&(realTimeProduct(),$productShowDayPickerContainer.is(":visible")||$productShowDayPickerContainer.slideDown(250),
$subscriptionDateTitle.slideDown(250)),t?($subscriptionDescriptionService.slideUp(250),$subscriptionDescriptionCargo.slideDown(250)):($subscriptionDescriptionService.slideDown(250),$subscriptionDescriptionCargo.slideUp(250))}function sbdeliveryclick(){$subscriptionDeliveryButton.on("change",function(){$subscriptionDeliveryButton.next().removeClass("has-error"),$subscriptionDeliveryError.slideUp(),showdatepickerformsub(globalShowDatePicker,globalShowSubscriptionDescription)})}function productSubscription(e){var t=$(".js-product-type").val();1==t&&$subscriptionDelivery.slideDown(250)}function productShowDeliveryHours(e){if(e.DeliveryTimes&&e.DeliveryTimes.length>0&&$hiddenDateInput.length>0&&""!==$hiddenDateInput.val()){var t=e.DeliveryTimeRequired,i='<select class="select-green" name="AddToCartModel.DeliveryHour" data-required="'+t+'">',a="",o="";i+='<option value="" selected>Saat Seçiniz</option>',$.each(e.DeliveryTimes,function(t,s){i+='<option value="'+s.Value+'">'+s.Text+"</option>",a+='    <div class="product__hours-item js-product-hours-item" data-hour-value ="'+s.Value+'"><div class="product__hours-item-inner">'+s.Text+"</div></div>",e.IsHaveSpecialTime||(o+='    <div class="product__hours-item--responsive js-product-hours-item" data-hour-value ="'+s.Value+'"><div class="product__hours-item-inner">'+s.Text+"</div></div>")}),i+="</select>",$(".js-date-item.is-active").next(".js-date-item-hours").addClass("is-active").html(i).slideDown(250),$productHoursArea.slideUp(250).html(a).slideDown(250),e.IsHaveSpecialTime||($responsiveProductHoursArea.hide(),$responsiveProductDeliveryHoursWrapper.html(o),$responsiveProductHoursArea.fadeIn(750),$responsiveProductDeliveryHoursWrapper.animate({scrollLeft:"0px"},"fast"))}e.DeliveryTimes&&0==e.DeliveryTimes.length&&($responsiveProductHoursArea.hide(),$responsiveProductDeliveryHoursWrapper.html(""))}function productShowSpecialTime(e){if(e.IsHaveSpecialTime&&$hiddenDateInput.val().length>0&&e.SpecialHours.length>0){var t='<select class="select-green product__special-time-select js-special-time-hour" name="AddToCartModel.SpecialDeliveryHour" data-required="true">';t+='<option value="" selected>Saat</option>',$.each(e.SpecialHours,function(e,i){t+='<option value="'+i.Value+'">'+i.Text+"</option>"}),t+="</select>";var i='<select class="select-green product__special-time-select js-special-time-minute" name="AddToCartModel.SpecialDeliveryMinute" data-required="true">';i+='<option value="" selected>Dak.</option>',$.each(e.SpecialMinutes,function(e,t){i+='<option value="'+t.Value+'">'+t.Text+"</option>"}),i+="</select>",$(".js-date-item.is-active").siblings(".js-date-item-special-time").html(t+i).slideDown(250),minSpecialMinute=e.MinSpecialMinute,specialMinuteList=e.SpecialMinutes,hasSelectedFirstHour=!1}}function generateResponsiveSpecialHours(e){if(e.IsHaveSpecialTime&&$hiddenDateInput.val().length>0&&e.SpecialHours.length>0){for(var t=e.MinSpecialMinute,i=e.SpecialHours,a=e.SpecialMinutes,o=[],s=0;s<i.length;s++)for(var n=0;n<a.length;n++)o.push({hourValue:i[s].Value,minuteValue:a[n].Value,text:i[s].Text+":"+a[n].Text});for(var r="",s=0;s<o.length;s++)o[s].hourValue==i[0].Value&&o[s].minuteValue<t||(r+='    <div class="product__hours-item--responsive product__hours-item--responsive-small js-product-delivery-date-item" data-hour-value ="'+o[s].hourValue+'" data-minute-value ="'+o[s].minuteValue+'"><div class="product__hours-item-inner">'+o[s].text+"</div></div>");$responsiveProductHoursArea.hide(),$responsiveProductDeliveryHoursWrapper.html(r),$responsiveProductHoursArea.fadeIn(750),$responsiveProductDeliveryHoursWrapper.animate({scrollLeft:"0px"},"fast")}e.IsHaveSpecialTime||null!=e.DeliveryTimes||($responsiveProductHoursArea.hide(),$responsiveProductDeliveryHoursWrapper.html(""))}function changeSpecialTime(){hasSelectedFirstHour=!1,$(document).on("change",".js-special-time-hour",function(){if($(this).find("option:nth-child(2)").index()==$(this).find("option:selected").index())hasSelectedFirstHour=!0,$(".js-special-time-minute option").each(function(){""!=$(this).val()&&$(this).val()<minSpecialMinute&&$(this).remove()}),""!=$(".js-special-time-minute").val()&&$(".js-special-time-minute").trigger("change");else{var e=$(".js-special-time-minute option:selected").val();$(".js-special-time-minute option").each(function(){""!=$(this).val()&&$(this).remove()});for(var t="",i=0;i<specialMinuteList.length;i++)t+='<option value="'+specialMinuteList[i].Value+'">'+specialMinuteList[i].Text+"</option>";$(".js-special-time-minute").append(t),""!=e&&$(".js-special-time-minute option[value="+e+"]").prop("selected",!0),hasSelectedFirstHour=!1}}),$(document).on("change",".js-special-time-minute",function(){var e=$(this).val();parseInt(e)<minSpecialMinute&&hasSelectedFirstHour===!0&&$(this).prop("selectedIndex",0)})}function productIsHaveDetailMessages(e){var t=$(".js-branch-is-cargo").data("regionid"),i=$(".js-product-delivery-message-type").val(),a=e.IsShowCargoBanner,o="",s=!1;showTrafficMessageArea=!1;var n=$isOnlyCargo.val();if(null!=e.IsUploadPictureText?($imageConfirmInfo.removeClass("hidden"),$imageConfirmText.html(e.IsUploadPictureText)):$imageConfirmInfo.addClass("hidden"),webtoAppVisibiltyCheck(),a===!0&&t||"True"==$isOnlyCargo.val()?($.get("/DeliveryEstimation/CalculateEstimation?regionId="+t+"&productDeliveryMessageType="+i+"&isOnlyCargo="+n,function(e){o=e,$(".js-delivery-estimation").html(o),o?($productMessagesIcon.removeClass("product__message-info-icon").addClass("product__message-delivery-icon icon-delivery-calendar"),$productMessagesIcon.html("")):($productMessagesIcon.removeClass("product__message-delivery-icon icon-delivery-calendar").addClass("product__message-info-icon"),$productMessagesIcon.html("i")),controlCargoMessageAb()}),s=!0):($(".js-delivery-estimation").html(""),$(".js-delivery-estimation-ab").html("")),e.ProductDetailMessages.length>0){var r="",l="",d="";$.each(e.ProductDetailMessages,function(e,t){t.Message.trim().length>0&&(1!=t.Type?(d=t.Message.trim().indexOf("Seçtiğiniz ürün kargo ile gönderildiği için tahmini")>=0?"js-ab-test-cargo":"",r+='<div class="product__message '+d+'"><p class="product__message-text">'+t.Message+"</p> </div>"):1==t.Type&&(l+='<div class="product__message '+d+'"><p class="product__message-text">'+t.Message+"</p> </div>"))}),""!=d&&(r+='<div class="product__message js-ab-test-cargo-sameday-gift" style="display: none"><p class="product__message-text" style="color: #be8977; font-weight: bold!important;">24 Saatte Kargoda</p> </div>'),r.length>0?($productDetailMessageContainer.html(r),s=!0):r.length<1&&($productDetailMessageContainer.html(""),s=!1),l.length>0?($productDetailTrafficMessageContainer.html(l),showTrafficMessageArea=!0):l.length<1&&($productDetailTrafficMessageContainer.html(""),showTrafficMessageArea=!1)}s===!0?$productMessagesArea.fadeIn():1!=s&&$productMessagesArea.fadeOut(),showTrafficMessageArea===!0?$productTrafficMessagesArea.fadeIn():1!=showTrafficMessageArea&&$productTrafficMessagesArea.fadeOut()}function notAvailableAlternateProduct(){if($(".js-product-not-available").length>0){var e={};e.ShowAlternateProduct=!0,productIsShowAlternate(e)}}function productPointList(e){if(null!=e.DeliveryPointList&&e.DeliveryPointList.length>0){for(var t="",i=0;i<e.DeliveryPointList.length;i++)t+='<div class="product__delivery-point">',t+='<input id="DeliveryPointList-'+e.DeliveryPointList[i].DeliveryPointId+'" name="AddToCartModel.DeliveryPointId" class="css-checkbox js-delivery-point-input" type="checkbox" value="'+e.DeliveryPointList[i].DeliveryPointId+'">',t+='<label for="DeliveryPointList-'+e.DeliveryPointList[i].DeliveryPointId+'" class="product__delivery-point-label js-delivery-point-label">',t+='<div class="product__delivery-point-text">',t+='<span class="product__delivery-point-name">'+e.DeliveryPointList[i].Name+"</span>",t+='<span class="product__delivery-point-address">'+e.DeliveryPointList[i].Address+"</span>",t+='<span class="product__delivery-point-message">'+e.DeliveryPointList[i].DeliveryTimeInfo+"</span>",t+="</div>",t+="</label>",t+="</div>";$(".js-delivery-point").html("").append(t).slideDown(250)}else $(".js-delivery-point").html("").slideUp(250)}function productPointListChange(){$(document).on("change",".js-delivery-point-input",function(){$(".js-delivery-point-input").not(this).prop("checked",!1),$(".js-delivery-point-input:checked").length>0?($(".js-date-item.is-active").nextAll(".js-date-item-hours").slideUp(250),$(".js-date-item.is-active").nextAll(".js-date-item-special-time").slideUp(250),setTimeout(function(){$(".js-date-item.is-active").nextAll(".js-date-item-special-time").find("select").val("").prop("checked",!1),$(".js-date-item.is-active").nextAll(".js-date-item-hours").find("select").val("").prop("checked",!1)},500),$(".js-product-hours").slideUp(250),$(".js-date-item-special-time").slideUp(250),$(".js-quick-order").prop("checked",!1)):($(".js-date-item.is-active").nextAll(".js-date-item-hours").slideDown(250),$(".js-date-item.is-active").nextAll(".js-date-item-special-time").slideDown(250),$(".js-product-hours").slideDown(250),$(".js-date-item-special-time").slideDown(250))})}function setDateToday(e){if(e.SelectAutoDate&&$(".js-date-item").length>0&&0==$(".js-date-item.is-active").length){var t=$('.js-date-item[data-date="'+e.DatePickerDate+'"]');t.hasClass("is-active")||t.click()}}function productIsShowAlternate(e){if(e.ShowAlternateProduct===!0||e.ShowAlternateProductForSameDay===!0){var t=!1;if(1!=e.ShowDatePicker&&e.IsShowCargoBanner&&(t=!0),e.ShowAlternateProductForSameDay)$alternateProduct.addClass("same-day-product"),$alternateProduct.html(renderSameDayDeliveryProductHTML(e.AlternateProductForSameDay,e.AlternateProductLink)),$('<div class="js-product-action-new-area"> </div>').insertAfter($alternateProduct),$(".product__action").hasClass("moved-after-alternate")||$(".js-product-action-new-area").append($(".product__action")),$(".product__action").addClass("moved-after-alternate"),t?($(".js-add-to-cart").show(),$(".js-add-to-cart").prop("disabled",!1),$productMessagesArea.fadeIn()):($productShowDayPickerContainer.slideDown(0),$dateItem.eq(0).addClass("disabled-date"),$dateItem.eq(0).unbind("click"),$(".js-add-to-cart").prop("disabled",!0),$(".product__action").hide(),$productMessagesArea.fadeOut(),$(".bank-payment-banner").hide());else if(e.ShowAlternateProduct){var i={};$(".js-ani-productview-widget").length>0?i=JSON.parse($(".js-ani-productview-widget").text()):i.ProductGroupId=$("#product-group-id").val();var a,o=i.ProductGroupId,s=i.ProductCode,n=decodeURIComponent(global.getCookie("regionlist"));""!==n?(n+=",0",a=n.split(",")):a=i.RegionIdList;var r=i.Rule;if(r){if(""!==n){var l={FieldName:"RegionInfo",IdentityList:a};r.RuleIdentities.push(l)}ani.push(["widget",{WidgetName:"ProductView",ProductCount:1,IsSameDay:!1,ProductCode:s,Rule:r,CustomFilters:{ProductGroup:[o],AvailableRegions:a}},function(t){t.length>0&&($alternateProduct.html(renderAlternateProductHTML(t[0],e.AlternateProductLink)),$(".product__action").hide(),$(".bank-payment-banner").hide())}])}}}else $alternateProduct.html(""),$(".js-add-to-cart").prop("disabled",!1),$(".js-add-to-cart").show(),$(".product__action").show(),$(".bank-payment-banner").show()}function renderAlternateProductHTML(e,t){var i=parseFloat(e.OldPriceWithTax).toFixed(2).toString(),a=(parseFloat(e.Price).toFixed(2).toString(),parseFloat(e.TotalPrice).toFixed(2).toString()),o=!0;a.split(".")[0].length>=5&&(a=parseInt(a).priceFormat(0,3,".",","),o=!1),i.split(".")[0].length>=5&&(i=parseInt(i).priceFormat(0,3,".",","));var s,n,r,l,d=!1,c="",u="0",p=0,h=0;if(void 0!==e.TotalPrice&&e.TotalPrice>0&&void 0!==e.CustomFields){$.each(e.CustomFields,function(e,t){if("Installment"===t.Name)return void(d="true"===t.Value)}),s=(e.TotalPrice*e.InstallmentRate/e.InstallmentCount).toString().split("."),n=s[0],r=s.length<2?"00":s[1].substring(0,2),h=n+","+r;var m;parseInt(h).toString().length>=5?(m=parseInt(h).priceFormat(0,3,".",","),showDecimalOld=!1):m=h,$.each(e.CustomFields,function(e,t){if("ShowWithTax"===t.Name)return void(showWithTax="true"===t.Value)})}$.each(e.CustomFields,function(e,t){if("DeliveryBadge"===t.Name)return void(c=t.Value)}),$.each(e.CustomFields,function(e,t){if("DeliveryBadgeType"===t.Name)return void(u=t.Value)}),$.each(e.CustomFields,function(e,t){if("Discount"===t.Name)return void(hasDiscount="true"===t.Value)}),$.each(e.CustomFields,function(e,t){if("DiscountDiscountPrice"===t.Name)return void(p=t.Value)}),l=$("select.js-region-selectize").text();var g="";if("undefined"!=e){if(""==l?g+='<div class="alternate-product__title">Çok satan ürün</div>':(l.length>21&&(l=l.substring(0,21)+"..."),g+='<div class="alternate-product__title">'+l+" için popüler ürün</div>"),g+='<div class="alternate-product__item row">',g+='<div class="alternate-product__item-img-container">',g+='<a href="'+e.Link+"?OM.zn=AlternateProduct&OM.zpc="+e.ProductCode+'&sitesource=1" ><img width="255" height="280" class="alternate-product__item-img" alt="'+e.Name+'" src="'+e.Image+'"></a>',g+="</div>",g+='<div class="alternate-product__item-info">',g+='<div class="alternate-product__item-details">',g+='<div class="alternate-product__item-title">',g+='<a href="'+e.Link+"?OM.zn=AlternateProduct&OM.zpc="+e.ProductCode+'&sitesource=1">'+e.Name+"</a>",g+="</div>",g+='<div class="alternate-product__badges">',"3"==u?g+='<span class="alternate-product__item-badge-text alternate-product__item-badge-text--all">'+c+"</span>":"1"!=u&&"2"!=u&&"4"!=u||(g+='<span class="alternate-product__item-badge-text alternate-product__item-badge-text--default">'+c+"</span>"),g+="</div>",g+='<div class="alternate-product__item-price">',e.OldPrice>0){var v=Math.round((e.OldPrice-e.TotalPrice)/e.OldPrice*100);g+="<div class='discount-percentage'>",g+="<span class='discount-percentage__text'>%"+v+"</span>",g+="</div>"}return e.OldPrice>0&&(g+='<div class="price price--old">',o?(g+='<div class="price__left">',g+='<span class="price__integer-value">'+parseFloat(i).toFixed(2).toString().split(".")[0]+"</span>",g+="</div>"):(g+='<div class="price__left">',g+='<span class="price__integer-value">'+i+"</span>",g+="</div>"),o?(g+='<div class="price__right">',g+='<span class="price__decimal-value-with-currency">,'+parseFloat(i).toFixed(2).toString().split(".")[1]+" TL</span>",g+="</div>"):(g+='<div class="price__right">',g+='<span class="price__decimal-value-with-currency"> TL</span>',g+="</div>"),g+="</div>"),g+='<div class="price price--now">',0==parseFloat(a)&&0!=p&&(a=p),o?(g+='<div class="price__left">',g+='<span class="price__integer-value">'+parseFloat(a).toFixed(2).toString().split(".")[0]+"</span>",g+="</div>"):(g+='<div class="price__left">',g+='<span class="price__integer-value">'+a+"</span>",g+="</div>"),o?(g+='<div class="price__right">',g+='<span class="price__decimal-value-with-currency">,'+parseFloat(a).toFixed(2).toString().split(".")[1]+" TL</span>",g+="</div>"):(g+='<div class="price__right">',g+='<span class="price__decimal-value-with-currency">&nbsp;TL</span>',g+="</div>"),g+="</div>",g+="</div>",g+='<div class="alternate-product__button btn-group-xs">',g+='<a href="'+e.Link+"?OM.zn=AlternateProduct&OM.zpc="+e.ProductCode+'&sitesource=1" class="btn btn-xs btn-success alternate-product__add-button">',g+='<span class="alternate-product__action-button-text">Sipariş Ver</span>',g+="</a>",g+="</div>",d&&e.InstallmentCount>1&&(g+='<div class="alternate-product__installment">',g+='<p class="products__installment">'+m+" TL'den Başlayan Taksitlerle</p>",g+="</div>"),g+="</div>",g+="</div>",g+="</div>",""==l?g+='<a class="alternate-product__allProducts" href="/tum-urunler">Tüm ürünler > </a>':(l.length>13&&(l=l.substring(0,13)+"..."),g+='<a class="alternate-product__allProducts" href="'+t+'"> '+l+" için gidebilecek tüm ürünler > </a>"),g}}function renderSameDayDeliveryProductHTML(e,t){var i=e.TotalPrice.toString(),a=e.OldPrice.toString();selectedLocation=$("select.js-region-selectize").text();var o="";if("undefined"!=e){if(""==selectedLocation?o+='<a class="alternate-product__allProducts" href="/tum-urunler">Tüm ürünler > </a>':(selectedLocation.length>13&&(selectedLocation=selectedLocation.substring(0,13)+"..."),o+='<a class="alternate-product__allProducts" href="'+t+'"> <span class="alternate-product__allProducts-link">Bugün Gidebilen Ürünler</span>den Seç > </a>'),o+='<div class="alternate-product__item row">',o+='<div class="alternate-product__item-info-container">',o+='<div class="alternate-product__item-img-container">',o+='<a href="'+e.Link+"?OM.zn=AlternateProduct&OM.zpc="+e.ProductCode+'&sitesource=1" ><img width="255" height="280" class="alternate-product__item-img" alt="'+e.Name+'" src="'+e.Image+'"></a>',o+="</div>",o+='<div class="alternate-product__item-info">',o+='<div class="alternate-product__item-details">',o+='<div class="alternate-product__item-title">',o+='<a class="alternate-product__item-link" href="'+e.Link+"?OM.zn=AlternateProduct&OM.zpc="+e.ProductCode+'&sitesource=1">'+e.Name+"</a>",o+="</div>",o+='<div class="alternate-product__badges products__item-badge--all-region">',o+='<span class="alternate-product__item-badge-text alternate-product__item-badge-text--all">'+e.DeliveryBadge+"</span>",o+="</div>",o+='<div class="alternate-product__item-price">',e.OldPrice>0){var s=Math.round((e.OldPrice-e.TotalPrice)/e.OldPrice*100);o+="<div class='discount-percentage'>",o+="<span class='discount-percentage__text'>%"+s+"</span>",o+="</div>"}return o+='<div class="price__all-prices">',e.OldPrice>0&&(o+='<div class="price price--old">',o+='<div class="price__left">',o+='<span class="price__integer-value">'+parseFloat(a).toFixed(2).toString().split(".")[0]+"</span>",o+="</div>",o+='<div class="price__right">',o+='<span class="price__decimal-value-with-currency">,'+parseFloat(a).toFixed(2).toString().split(".")[1]+" TL</span>",o+='<span class="price__tax"> (KDV Dahil)</span>',o+="</div>",o+="</div>"),o+='<div class="price price--now">',o+='<div class="price__left">',o+='<span class="price__integer-value">'+parseFloat(i).toFixed(2).toString().split(".")[0]+"</span>",o+="</div>",o+='<div class="price__right">',o+='<span class="price__decimal-value-with-currency">,'+parseFloat(i).toFixed(2).toString().split(".")[1]+" TL</span>",o+='<span class="price__tax"> (KDV Dahil)</span>',o+="</div>",o+="</div>",o+="</div>",o+="</div>",o+='<div class="alternate-product__button alternate-product__button-desktop btn-group-xs">',o+='<a href="'+e.Link+"?OM.zn=AlternateProduct&OM.zpc="+e.ProductCode+'&sitesource=1" class="btn btn-xs btn-success alternate-product__add-button">',o+='<span class="alternate-product__action-button-text">Sipariş Ver</span>',o+="</a>",o+="</div>",o+="</div>",o+="</div>",o+="</div>",o+='<div class="alternate-product__button alternate-product__button-responsive btn-group-xs">',o+='<a href="'+e.Link+"?OM.zn=AlternateProduct&OM.zpc="+e.ProductCode+'&sitesource=1" class="btn btn-xs btn-success alternate-product__add-button">',o+='<span class="alternate-product__action-button-text">Sipariş Ver</span>',o+="</a>",o+="</div>",o+="</div>"}}function productIsQuickOrder(e){if(e.IsQuickOrder===!0){if($(".js-choose-subscription").length>0&&"true"==$(".js-choose-subscription:checked").val().toLowerCase())return!1;if($productQuickOrder.parent().slideDown(250),null!=e.QuickOrderPrice&&""!=e.QuickOrderPrice&&parseFloat(e.QuickOrderPrice.replace(",","."))>0||null!=e.DefaultQuickOrderPrice&&parseFloat(e.DefaultQuickOrderPrice.replace(",","."))>0?$(".product__quickorder-price").show():$(".product__quickorder-price").hide(),null!=e.DefaultQuickOrderPrice&&parseFloat(e.DefaultQuickOrderPrice.replace(",","."))>0){var t=e.DefaultQuickOrderPrice,i=t.split(",");i.length>1?$(".product__quickorder-price").html('<span style="color:#51b549">Ücretsiz</span> <span class="product__default-quick-order-price"> <span style="font-size:1.25rem"> +'+i[0]+",</span><span>"+i[1]+"</span> <em>TL</em></span>"):$(".product__quickorder-price").html('<span style="color:#51b549">Ücretsiz</span> <span class="product__default-quick-order-price"> <span style="font-size:1.25rem"> +'+i[0]+"</span> <em>TL</em></span>")}else{var t=e.QuickOrderPrice,i=t.split(",");i.length>1?$(".product__quickorder-price").html('<span style="font-size:1.25rem"> +'+i[0]+",</span><span>"+i[1]+"</span> <em>TL</em>"):$(".product__quickorder-price").html('<span style="font-size:1.25rem"> +'+i[0]+"</span> <em>TL</em>")}}else $productQuickOrder.parent().slideUp(250),$productQuickOrder.removeClass("is-active"),$productQuickOrderSelector.prop("checked",""),$productQuickOrderSelector.attr("value","False")}function setSameDay(e){if(e.ShowSameDay===!0){if($sameDayContainer.removeClass("is-hidden"),null!=e.SameDayPrice&&""!=e.SameDayPrice&&e.SameDayPrice>0){var t=e.SameDayPrice,i=t.toString().split(".");i.length>1?$sameDayPriceArea.html('<span class="product__same-day-delivery--price"> +'+i[0]+',</span><span class="product__same-day-delivery--currency">'+i[1]+"</span> <em>TL</em>"):$sameDayPriceArea.html('<span class="product__same-day-delivery--price"> +'+i[0]+"</span> <em>TL</em>")}else $sameDayPriceArea.html('<span style="color:#51b549">Ücretsiz</span>');$sameDayContainer.slideDown(250)}else $sameDayContainer.addClass("is-hidden"),$sameDayCheckBox.prop("checked",!1),$sameDayPriceArea.html(""),$sameDayContainer.slideUp(250)}function sameDayChange(){$sameDayCheckBox.on("change",function(){fetchProductDatas(!0)})}function productDatepickerDate(e,t){var i=e.DatePickerDate,a=i.split(".")[0],o=i.split(".")[1],s=i.split(".")[2];t&&$shortcutDate.removeClass("is-disabled");for(var n=0;n<$shortcutDate.length;n++){var r=$shortcutDate.eq(n).data("date").split(".");new Date(Date.UTC(r[2],r[1]-1,r[0]))<new Date(Date.UTC(s,o-1,a))?$shortcutDate.eq(n).addClass("is-disabled"):0===n&&e.TodayIsDisabled&&t&&$shortcutDate.eq(n).addClass("is-disabled")}$datepickerProductContainer.data("datepicker").setStartDate(new Date(Date.UTC(s,o-1,a)))}function productIsWeekendActive(e){e===!1&&$datepickerProductContainer.data("datepicker").setDaysOfWeekDisabled("07")}function validateAddToCartForm(){var e=$(".js-special-time-hour"),t=$(".js-special-time-minute"),i=$(".js-date-item-hours select"),a=$(".js-quick-order"),o=$('.js-multiple-variant-input[data-value-type="base"]'),s=$('.js-multiple-variant-input[data-value-type="mutual"]'),n=$("#dynamicSelectList"),r=$(".js-franchise-dummy-product");if(datepickerDate=$datepickerProductContainer.datepicker("getUTCDate"),""===$region.val())return isResponsive?($(".js-district-responsive-overlay").show(),districtSearch.toggleDropdown(),$(window).width()<600&&"True"===$("#delivery-point-is-available").val()&&!$(".js-user-address-list .js-address-menu-link-delivery-point").length&&$(".js-user-address-list").find("ul").append('<li class="adresses-menu__item js-address-menu-link-delivery-point">Kendim Alırım (Teslim Alma Noktası)</li>')):($locationError.slideDown(),scrollToTheFirstError()),$(".js-region-selectize-search .product__location-wrapper-inner").addClass("has-error"),$.publish("popup-region-validate",null),!1;if($subscriptionDelivery.is(":visible")&&$subscriptionDelivery.length>0&&!$subscriptionDeliveryButton.is(":checked"))return $subscriptionDeliveryError.slideDown(),$subscriptionDeliveryButton.next().addClass("has-error"),!1;if($productShowDayPickerContainer.is(":visible")&&$datepickerProductContainer.length>0&&!$hiddenDateInput.val())return $dateError.slideDown(),scrollToTheFirstError(),$dateItem.addClass("has-error"),$.publish("popup-datepicker-validate",null),!1;if(i.length>0&&i.data("required")===!0&&""===i.val()&&i.is(":visible"))return $hourError.slideDown(),scrollToTheFirstError(),$(".select-green").addClass("has-error"),$(".js-product-hours-item .product__hours-item-inner").addClass("has-error"),$.publish("popup-deliveryhour-validate",null),!1;if(i.length>0&&i.data("required")===!0&&""===i.val()&&$responsiveProductHoursArea.is(":visible")){if(1==$(".js-product-delivery-date-item").length&&!$(".js-product-delivery-date-item").hasClass("is-active"))return $hourError.slideDown(),scrollToTheFirstError(),!1;if(1==$(".js-product-hours-item.product__hours-item--responsive").length&&!$(".js-product-hours-item.product__hours-item--responsive").hasClass("is-active"))return $hourError.slideDown(),scrollToTheFirstError(),!1}else if($isProductHaveSpecialTime){if(e.length>0&&""===e.val()&&t.length>0&&""===t.val())return $specialHourError.slideDown(),scrollToTheFirstError(),e.addClass("has-error"),t.addClass("has-error"),!1;if(e.length>0&&""===e.val())return $specialHourError.slideDown(),scrollToTheFirstError(),e.addClass("has-error"),$.publish("popup-hour-validate",null),!1;if(t.length>0&&""===t.val())return $specialMinuteError.slideDown(),scrollToTheFirstError(),t.addClass("has-error"),$.publish("popup-minute-validate",null),!1}else if(e.length>0&&""===e.val()){if($productQuickOrderContainer.is(":visible")&&a.is(":checked")===!1&&e.eq(0).find("option").length<=2&&""==e.eq(0).val()&&t.eq(0).find("option").length<=2&&""==t.eq(0).val())return $specialHourError.slideDown(),scrollToTheFirstError(),e.addClass("has-error"),t.addClass("has-error"),$.publish("popup-hour-validate",null),!1;if(e.eq(0).find("option").length<=2&&""==e.eq(0).val()&&t.eq(0).find("option").length<=2&&""==t.eq(0).val())return $specialHourError.slideDown(),scrollToTheFirstError(),e.addClass("has-error"),t.addClass("has-error"),$.publish("popup-hour-validate",null),!1;if(e.eq(0).find("option").length<=2&&""==e.eq(0).val()&&t.eq(0).find("option").length<=2&&""==t.eq(0).val())return $specialHourError.slideDown(),scrollToTheFirstError(),e.addClass("has-error"),$.publish("popup-hour-validate",null),!1;if(e.length>0&&""===e.val()&&t.length>0&&""!=t.val()&&t.eq(0).find("option").length<=2&&e.eq(0).find("option").length<=2)return $specialHourError.slideDown(),scrollToTheFirstError(),e.addClass("has-error"),!1}else if(t.length>0&&""===t.val()&&$(".js-date-item-special-time").is(":visible")){if(t.eq(0).find("option").length<=2&&e.eq(0).find("option").length<=2&&!$productQuickOrderContainer.is(":visible")||t.eq(0).find("option").length<=2&&e.eq(0).find("option").length<=2&&$productQuickOrderContainer.is(":visible")&&a.is(":checked")===!1)return $specialMinuteError.slideDown(),scrollToTheFirstError(),t.addClass("has-error"),$.publish("popup-minute-validate",null),!1}else{if(s.length>0&&$('.js-multiple-variant-input[data-value-type="mutual"]:checked').length<1)return $('.js-multiple-variant-input[data-value-type="base"]').length>0&&$('.js-multiple-variant-input[data-value-type="base"]:checked').length<1?$('.js-multiple-variant-input[data-value-type="base"]').parents(".multiple-variants").offset().top<s.parents(".multiple-variants").offset().top?isResponsive?($(".js-product-info-wrapper").hasClass("variant-open")&&$multipleVariantBaseInputsError.show(),void showVariantDropdown("base")):($multipleVariantBaseInputsError.slideDown(),scrollToTheFirstError(),o.siblings("label").not(".disabled").addClass("has-error"),!1):isResponsive?($(".js-product-info-wrapper").hasClass("variant-open")&&$multipleVariantMutableInputsError.show(),void showVariantDropdown("mutual")):($multipleVariantMutableInputsError.slideDown(),scrollToTheFirstError(),s.siblings("label").not(".disabled").addClass("has-error"),!1):n.length>0&&""===n.val()&&n.offset().top<s.parents(".multiple-variants").offset().top?($(".js-product-error-dynamic-select").slideDown(),scrollToTheFirstError(),n.addClass("has-error"),$.publish("popup-property-validate",null),!1):isResponsive?($(".js-product-info-wrapper").hasClass("variant-open")&&$multipleVariantMutableInputsError.show(),void showVariantDropdown("mutual")):($multipleVariantMutableInputsError.slideDown(),scrollToTheFirstError(),s.siblings("label").not(".disabled").addClass("has-error"),!1);if($('.js-multiple-variant-input[data-value-type="base"]').length>0&&$('.js-multiple-variant-input[data-value-type="base"]:checked').length<1)return s.length>0&&$('.js-multiple-variant-input[data-value-type="mutual"]:checked').length<1?s.parents(".multiple-variants").offset().top<$('.js-multiple-variant-input[data-value-type="base"]').parents(".multiple-variants").offset().top?isResponsive?($(".js-product-info-wrapper").hasClass("variant-open")&&$multipleVariantMutableInputsError.show(),void showVariantDropdown("mutual")):($multipleVariantMutableInputsError.slideDown(),scrollToTheFirstError(),s.siblings("label").not(".disabled").addClass("has-error"),!1):isResponsive?($(".js-product-info-wrapper").hasClass("variant-open")&&$multipleVariantBaseInputsError.show(),void showVariantDropdown("base")):($multipleVariantBaseInputsError.slideDown(),scrollToTheFirstError(),o.siblings("label").not(".disabled").addClass("has-error"),!1):n.length>0&&""===n.val()&&n.offset().top<$('.js-multiple-variant-input[data-value-type="base"]').parents(".multiple-variants").offset().top?($(".js-product-error-dynamic-select").slideDown(),scrollToTheFirstError(),n.addClass("has-error"),$.publish("popup-property-validate",null),!1):isResponsive?($(".js-product-info-wrapper").hasClass("variant-open")&&$multipleVariantBaseInputsError.show(),void showVariantDropdown("base")):($multipleVariantBaseInputsError.slideDown(),scrollToTheFirstError(),o.siblings("label").not(".disabled").addClass("has-error"),!1);if(""===n.val())return $('.js-multiple-variant-input[data-value-type="base"]').length>0&&$('.js-multiple-variant-input[data-value-type="base"]:checked').length<1?$('.js-multiple-variant-input[data-value-type="base"]').parents(".multiple-variants").offset().top<n.offset().top?isResponsive?($(".js-product-info-wrapper").hasClass("variant-open")&&$multipleVariantBaseInputsError.show(),void showVariantDropdown("base")):($multipleVariantBaseInputsError.slideDown(),scrollToTheFirstError(),o.siblings("label").not(".disabled").addClass("has-error"),!1):($(".js-product-error-dynamic-select").slideDown(),scrollToTheFirstError(),n.addClass("has-error"),$.publish("popup-property-validate",null),!1):s.length>0&&$('.js-multiple-variant-input[data-value-type="mutual"]:checked').length<1&&s.parents(".multiple-variants").offset().top<n.offset().top?isResponsive?($(".js-product-info-wrapper").hasClass("variant-open")&&$multipleVariantMutableInputsError.show(),void showVariantDropdown("mutual")):($multipleVariantMutableInputsError.slideDown(),scrollToTheFirstError(),s.siblings("label").not(".disabled").addClass("has-error"),!1):($(".js-product-error-dynamic-select").slideDown(),scrollToTheFirstError(),n.addClass("has-error"),$.publish("popup-property-validate",null),!1);if(!($responsiveProductHoursArea.is(":visible")||a.is(":checked")!==!1||$(".js-date-item-hours").is(":visible")||!$(".js-product-quick-order").is(":visible")||$(".js-special-time-hour").is(":visible")||$(".js-delivery-point-input:checked").length>0))return $quickorderError.slideDown(),scrollToTheFirstError(),$(".js-product-quick-order").find(".product__quickorder-label").addClass("product__quickorder-label--error"),!1;if(r.length>0&&("0"===r.val()||""===r.val()))return r.addClass("input-validation-error"),!1;if($deliveryPointListWrapper.is(":visible")&&""==$deliveryPointList.val())return $deliveryPointError.slideDown(),scrollToTheFirstError(),$(".js-delivery-selectize-search .product__location-wrapper-inner").addClass("has-error"),!1;if($(".js-delivery-point-error-message").is(":visible"))return!1}return!0}function deliveryPointListChangeInit(){$deliveryPointList.on("change",function(){""!==$(this).val()?($deliveryPointError.slideUp(),$(".js-delivery-selectize-search .product__location-wrapper-inner").removeClass("has-error"),$resetEasyPointButton.show()):$resetEasyPointButton.hide()})}function resetEasyButtonClick(){$resetEasyPointButton.on("click",function(){var e=$(".js-delivery-point-append")[0].selectize;e.clear(),$deliveryPointListArea.removeClass("is-active"),$productMessagesArea.slideUp(250)})}function removeProductErrors(){$("body").on("change",".js-date-item-hours select",function(){
""!==$(".js-date-item-hours select").val()&&$hourError.slideUp(),$(".select-green").removeClass("has-error"),$(".js-product-hours-item .product__hours-item-inner").removeClass("has-error")}),$(document).on("change",".js-date-item-special-time select",function(){""!==$(".js-special-time-hour").val()&&$hourError.slideUp(),$(".select-green").removeClass("has-error")}),$("body").on("change",".js-special-time-hour",function(){""!==$(".js-special-time-hour").val()&&$specialHourError.slideUp(),$(".js-special-time-hour").removeClass("has-error")}),$("body").on("change",".js-special-time-minute",function(){""!==$(".js-special-time-minute").val()&&$specialMinuteError.slideUp(),$(".js-special-time-minute").removeClass("has-error")}),$("body").on("change",".js-quick-order",function(){$(this).is(":checked")===!0&&($(".js-product-quick-order").find(".product__quickorder-label").removeClass("product__quickorder-label--error"),$quickorderError.slideUp())}),$("body").on("click",".js-multiple-variants-label-base, .js-multiple-variants-label-base-popup",function(e){$(e.target).hasClass("disabled")||($(".js-multiple-variants-label-base").removeClass("has-error"),$(".js-product-error--multiple-variants-base").hide(),$(".js-multiple-variants-label-mutual").removeClass("has-error"),$(".js-product-error--multiple-variants-mutual").hide(),calculateProductVariantsHeight())}),$("body").on("click",".js-multiple-variants-label-mutual, .js-multiple-variants-label-mutual-popup",function(e){$(e.target).hasClass("disabled")||($(".js-multiple-variants-label-mutual").removeClass("has-error"),$(".js-product-error--multiple-variants-mutual").hide(),$(".js-multiple-variants-label-base").removeClass("has-error"),$(".js-product-error--multiple-variants-base").hide(),calculateProductVariantsHeight())}),$("body").on("change","#dynamicSelectList",function(){""!==$("#dynamicSelectList").val()&&($("#dynamicSelectList").removeClass("has-error"),$(".js-product-error-dynamic-select").slideUp())}),$("body").on("change",".js-confirm-ceditor",function(){$(this).is(":checked")===!0&&($(".js-confirm-ceditor-label").removeClass("has-error"),$confirmCeditorError.slideUp())})}function scrollToTheFirstError(){if($(".product__error").is(":visible")&&global.isMobile()){var e=$(".product__error:visible:first").offset().top;global.scrollGoto(e-100)}else if($(".product__error").is(":visible")){var e=$(".product__error:visible:first").offset().top;global.scrollGoto(e-200)}}function submitAddToCartForm(e){$addToCartButton.prop("disabled",!0),$buyNowButton.prop("disabled",!0),global.createOverlay(),$.ajax({method:"POST",url:e.attr("action"),data:e.serialize()}).done(function(e){if(0===e.GeneralInfo.Status){if($(".js-region-selectize").length>0){var t=$(".js-region-selectize")[0].selectize;"-1"==t.getValue()&&global.setCookie("userSelectedAddressAB","",365)}else global.setCookie("userSelectedAddressAB","",365);if(EventManager.publish("addToCart",null),e.ProductActionPageScreenEventViewModel&&segment.trackFunc(e.ProductActionPageScreenEventViewModel.Name,JSON.parse(e.ProductActionPageScreenEventViewModel.Data)),activeBuyNow&&"cart"==clickedFrom){var i=e.AddToCartToastMessage&&e.AddToCartToastMessage;global.toast({toastType:"success",title:i.Title,description:i.Description,confirmButton:i.ButtonText,confirmAction:"window.location.href = '"+i.ButtonLink+"'"}),layoutGlobal.shoppingCartItemInfo(),afterSubmitAddToCart()}else window.location.href=e.RedirectUrl,setTimeout(function(){afterSubmitAddToCart()},2e3)}else{if(e.GeneralInfo.CantSendProduct===!0&&$.publish("warning-productdetail-region-cant-send",null),e.GeneralInfo.IsProductDayClose===!0&&$.publish("product-day-close-warning",null),null!==e.GeneralInfo.Confirmation&&""!==e.GeneralInfo.Confirmation){var a=e.GeneralInfo.Confirmation.split(";")[0],o=a.match(/\d+,\d+,\d+/)[0].replace(/,/g,".");$("#modalBox").remove(),$(".modal-backdrop").remove(),global.popup({message:e.GeneralInfo.Infomessage,popupType:"confirm",dismissButton:"Vazgeç",confirmAction:"pageProduct.setDatepicker('"+o+"', true); "})}else if(1==e.GeneralInfo.ShowPopup)$("#modalBox").remove(),$(".modal-backdrop").remove(),global.popup({message:e.GeneralInfo.Infomessage,popupType:"alert"});else{var s=!1,n=e.GeneralInfo.Infomessage,r="";$productMessagesArea.slideUp(function(){n.trim().length>0&&(r='<div class="product__message"><p class="product__message-text">'+n+"</p> </div>",$productDetailMessageContainer.html(r),s=!0),s===!0&&($productMessagesArea.slideDown(),$(document).find(".js-variant-selector-responsive-overlay").click())});var l={};l.ShowAlternateProduct=e.GeneralInfo.ShowAlternateProduct,productIsShowAlternate(l)}global.removeOverlay(),$addToCartButton.prop("disabled",!1),$buyNowButton.prop("disabled",!1)}})}function afterSubmitAddToCart(){global.removeOverlay(),$addToCartButton.prop("disabled",!1),$buyNowButton.prop("disabled",!1)}function removeSelectedLocation(){""!==$hiddenRegionSelect.val()&&$resetLocationButton.show(),$resetLocationButton.on("click",function(e){globalRegionId="",oldQuery="",$sameDayContainer.addClass("is-hidden");var t=$(".js-region-selectize")[0].selectize;t.clear(),t.clearOptions(),void 0!==e.originalEvent&&t.focus(),$imageConfirmInfo.text().trim().length>0&&$imageConfirmInfo.removeClass("hidden"),webtoAppVisibiltyCheck(),$(".js-region-selectize-search").removeClass("is-active"),$(this).hide(),$deliveryPointListWrapper.hide(),hideQuickOrderContainer(),hideEasyPointContainer(),currentDate="",$productMessagesArea.slideUp(),$alternateProduct.html(""),$(".product__action").show(),$(".bank-payment-banner").show(),resetSalesInformationMessage(),$productTrafficMessagesArea.fadeOut(),$productDetailTrafficMessageContainer.html(""),$sameDayCheckBox.prop("checked",!1),$sameDayPriceArea.html(""),$sameDayContainer.slideUp(250),$subscriptionDelivery.slideUp(250),$subscriptionTitle.slideUp(250),$subscriptionDateTitle.slideUp(250),$subscriptionDescription.slideUp(250),$subscriptionWrapper.slideUp(250),$subscriptionDeliveryButton.prop("checked",!1),isResponsive&&(global.setCookie("addressName","",-1),$(".js-district-search-button-text").text("Göndereceğiniz mahalleyi, Okul, Hastane vb. seçin").toggleClass("js-district-added"),$(".js-open-district-area").toggleClass("district-selected"),$(".js-trigger-district-search").removeClass("district-search-button--not-empty"),$(".js-district-dropdown").removeClass("district-dropdown--not-empty"))})}function hideQuickOrderContainer(){$productQuickOrderContainer.is(":visible")&&($productQuickOrderContainer.slideUp(),$productQuickOrderSelector.val("").prop("checked",!1),$productQuickOrder.removeClass("is-active"))}function hideEasyPointContainer(){$productEasyPointContainer.is(":visible")&&$productEasyPointContainer.slideUp()}function productApproveDate(){for(var e=viewModel.approvedDate.length,t=0;t<e;t++){var i=viewModel.approvedDate[t],a=i.split(".")[0],o=parseInt(i.split(".")[1]).toString(),s=i.split(".")[2];$('[data-day-month="'+a+"."+o+"."+s+'"]').not(".old").removeClass("disabled")}}function popupContentGallery(){var e;return e='<div class="modal modal-transparent product-popup clearfix fade" id="customModalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',e+='<div class="modal-dialog">',e+='<div class="modal-content ">',e+='<div class="modal-header clearfix">',e+='<button aria-label="Close" data-dismiss="modal" class="close" type="button">',e+='<span aria-hidden="true" class="icon-close-line orders__icon-close-line"></span>',e+="</button>",e+="</div>",e+='<div class="modal-body row">',e+='<div class="product-popup__left">',e+='<div class="easyzoom easyzoom--overlay easyzoom--with-thumbnails zoom-image-popup">',e+='<a href="">',e+='<img class="product__image" id="zoom-image" src="">',e+="</a>",e+="</div>",e+="</div>",e+='<div class="product__thumbs product__thumbs--popup product-popup__right">',e+="</div>",e+="</div>",e+="</div></div></div>"}function isProductSmartCustom(){return $page.hasClass("smart-custom")}function popupRefund(){$refundInfoIcon.on("click",function(){var e=$.get("/Customer/RefundInfo");return""!==customerRefundInfo?(global.popup({title:"Ürünümü Nasıl İade Edebilirim?",popupType:"custom",customButtonName:"Kapat",message:customerRefundInfo,customClass:"page-refund"}),void segment.pageView("Support",'{application: "CicekSepeti", country: "TUR"}')):void e.done(function(e){global.popup({title:"Ürünümü Nasıl İade Edebilirim?",popupType:"custom",customButtonName:"Kapat",message:e.content,customClass:"page-refund"}),customerRefundInfo=e.content,segment.pageView(e.pageScreenEventViewModel.Name,JSON.parse(e.pageScreenEventViewModel.Data))})})}function toggleRefundBadge(e){"true"==e.toString().toLowerCase()?($deliveryBadge.addClass("hidden"),$refundBadge.removeClass("hidden")):($deliveryBadge.removeClass("hidden"),$refundBadge.addClass("hidden"))}function getProductComments(e){orderCommentSliderAddSlide(0,"",e,!0)}function orderCommentSliderAddSlide(e,t,i,a){var o={pageIndex:e,productId:$commentProductId,regionIdList:i,starPoint:t,productGroupId:productGroupId,isSourcePage:!0},s=$.get("ordercomment/CommentsWithStarAndPagination",o);a&&createLoaderInComment(),s.fail(function(e){commentError(a)}),s.done(function(e){if(null!==e&&""!==e){if(a&&removeLoaderForComment(),null==e)return;if(e.Reviews.length>0){var t=e.Reviews.slice(0,10),i="";i+=commentSliderItemHTMLGenerate(t),$commentList.html(i)}else{var i='<div><h1 class="comments__not-found-text">Seçili kriterlere göre yorum bulunamamıştır.</h1></div>';$commentList.html(i)}}else commentError(a)})}function commentError(e){e&&removeLoaderForComment();var t='<h1 class="comments__not-found-text">Seçili kriterlere göre yorum bulunamamıştır.</h1>';$commentList.html(t)}function createLoaderInComment(){var e='<img src="//cdn03.ciceksepeti.com/Themes/Ciceksepeti/Assets/images/loader-large.gif" alt="loader">',t=$("html"),i=t.hasClass("ie8")||t.hasClass("lt-ie10")?e:global.loaderSvg(),a='<div class="product-loader-comment">'+i+"</div>";$(".js-comments-review").append(a)}function removeLoaderForComment(){var e=$commentList;e.find(".loader-comment").remove(),$(".product-loader-comment").remove()}function commentsEvaluationDropdown(){$(window).width()>769&&$(".js-dropdown-evaluation").hover(function(){$(this).find(".dropdown-menu").stop(!0,!0).delay(100).fadeIn(300)},function(){$(this).find(".dropdown-menu").stop(!0,!0).delay(100).fadeOut(300)})}function commentSliderItemHTMLGenerate(e){for(var t="",i=0;i<e.length;i++){for(var a="",o=1;o<=5;o++)a+=e[i].Rating>=o?'<li class="comments__stars-item"><span class="icon-star-fill comments__stars-icon"></span></li>':'<li class="comments__stars-item"><span class="icon-star-fill comments__stars-icon is-passive"></span></li>';t+='<div class="comments__item js-comment-item"><ul class="comments__stars">'+a+"</ul> <span> "+e[i].Location+' </span> <p class="comments__text">'+e[i].Comment+'</p><span class="comments__name">'+e[i].Name+'</span>  <span class="comments__date"> '+e[i].CreateOn+"</span></div>"}return t}function initEasyPointButton(){setTimeout(function(){if("True"===$deliveryPointIsAvailable.val()){var e=$(".js-region-selectize-search");e.find("div.product__location.selectize-dropdown").append('<div data-selectable class="option js-region-self-service">Kendim Alırım (Teslim Alma Noktası)</div>')}$(".js-region-self-service").on("click",function(){$sameDayContainer.addClass("is-hidden");var e=$(".js-region-selectize")[0].selectize;e.setValue([-1]),e.$dropdown.hide(),$alternateProduct.html(""),$(".product__action").show(),$(".bank-payment-banner").show(),$imageConfirmInfo.addClass("hidden"),webtoAppVisibiltyCheck(),$sameDayCheckBox.prop("checked",!1),$sameDayPriceArea.html(""),$sameDayContainer.slideUp(250)})},500)}function deliveryPointLinkClick(){$(document).on("click",".js-address-menu-link-delivery-point",function(){initEasyPointButton(),$(".js-responsive-delivery-hours").hide(),$(".js-district-search-button-text").text("Kendim Alırım (Teslim Alma Noktası)").toggleClass("js-district-added"),$(".js-open-district-area").toggleClass("district-selected"),$(".js-trigger-district-search").addClass("district-search-button--not-empty"),$(".js-district-dropdown").addClass("district-dropdown--not-empty"),$(".js-address-menu-link .js-address-menu-icon-check").hide(),$(this).html($(this).text()+'<span class="adresses-menu__link-icon icon-check js-address-menu-icon-check pull-right"></span>'),$productShowDayPickerContainer.slideDown(250),$(".js-district-area-selector").addClass("js-selected-delivery-point"),districtSearch.resetDropdown(),""!==$(".js-hidden-date-input").val()&&getEasyPointList()})}function productDetailSearchTrigger(){$productDetailSearch.click(function(){productDetailSearch()}),$productDetailSearchInput.keypress(function(e){13==e.keyCode&&productDetailSearch()})}function productDetailSearch(){if($productDetailSearchInput.val().length>0){var e=encodeURIComponent(global.turkishToLower($productDetailSearchInput.val()));window.location.href="/arama?query="+e+"&qt="+e}else global.popup({message:"Lütfen aramak istediğiniz kelimeyi giriniz.",popupType:"alert"})}function setDetailSearchPlaceholder(){$productDetailSearchInput.attr("placeholder",dataLayer[0].pname)}function pdWebtoappBannerDefault(){if(0==$(".js-product-detail-relations").length&&0==$(".js-webtoapp-type").length)var e=$(".js-choose-variant:checked").data("variant-webtoappcampaigntype");else if($(".js-webtoapp-type").length>0)var e=parseInt($(".js-webtoapp-type").val());else if($(".js-product-detail-relations").length>0)var e=crossVariantCampaignType();0!=e&&webtoapBannerChange(e)}function changeBannerDependsVariant(){if($(".js-product-detail-relations").length>0){var e=crossVariantCampaignType();webtoapBannerChange(e)}else $(".js-choose-variant").change(function(){var e=$(".js-choose-variant:checked").data("variant-webtoappcampaigntype");webtoapBannerChange(e)})}function webtoapBannerChange(e){if(0!=e){var t=e-1;$productWebtoApp.eq(t).hasClass("hidden")&&($productWebtoApp.addClass("hidden"),$productWebtoApp.eq(t).removeClass("hidden"),webtoAppVisibiltyCheck())}}function webtoAppVisibiltyCheck(){var e=!$imageConfirmInfo.hasClass("hidden"),t=!1;$productWebtoApp.each(function(){$(this).hasClass("hidden")||(t=!0)}),e||t?$webtoAppCheck.removeClass("hidden"):$webtoAppCheck.addClass("hidden")}function crossVariantCampaignType(){return selectedVariant=$(".js-change-variant-id").val(),variantsData=JSON.parse($(".js-product-detail-relations").html()),selectedVariantModel=jQuery.grep(variantsData,function(e){return e.variantId==selectedVariant}),selectedVariantModel[0].webToAppCampaignType}function handleAgePermissionConfirmed(e){e.IsLegalPermissionConfirmed?($ageWarningImage.css({display:"none"}),$ageWarningHiddenImages.removeClass("hidden-images"),$ageWarningModalBackdrop.css({display:"none"}),$ageWarningModal.css({display:"none"}),$("body, html").css({overflow:""}),$(".js-age-warning-is-approved").val("true"),initProductSliderImages()):($ageWarningModalBackdrop.css({display:"block"}),$ageWarningModal.css({display:"block"}),$("body, html").css({overflow:"hidden"}))}function checkAgePermission(){$(".js-age-warning").length>0&&$.ajax({type:"GET",url:"/legal-permission",error:function(){$(".js-add-to-cart").prop("disabled",!1),$buyNowButton.prop("disabled",!1)},success:function(e){$(".js-add-to-cart").prop("disabled",!1),$buyNowButton.prop("disabled",!1),handleAgePermissionConfirmed(e),global.setSessionCookie("IsLegalPermissionConfirmed",e.IsLegalPermissionConfirmed)}})}function handleAgeWarningApprove(){$ageWarningApprove.on("click",function(){$.ajax({type:"POST",url:"/legal-permission-confirmed",success:function(e){handleAgePermissionConfirmed(e),global.setSessionCookie("IsLegalPermissionConfirmed",e.IsLegalPermissionConfirmed)}})})}function handleAgeWarningDismiss(){$ageWarningDismiss.on("click",function(){0===document.referrer.indexOf(location.protocol+"//"+location.host)?window.location.href=document.referrer:window.location="/"})}function showAllSellers(){$buyboxShowAll.on("click",function(){$(this).hasClass("active")?($(".js-extra-sellers").slideUp(),$(this).text("Daha Fazla Satıcı Göster")):($(".js-extra-sellers").slideDown(),$(this).text("Daha Az Satıcı Göster")),$(this).toggleClass("active")}),$buyboxShowAllResp.on("click",function(){$(this).hasClass("active")?($(".js-extra-sellers-resp").slideUp(),$("html, body").animate({scrollTop:$(".js-extra-sellers-resp").offset().top-400}),$(this).text("Daha Fazla Satıcı Göster")):($(".js-extra-sellers-resp").slideDown(),$(this).text("Daha Az Satıcı Göster")),$(this).toggleClass("active")})}function checkProductCoupons(){var e=$voucherData.data("productid"),t=$voucherData.data("branchid"),i=$voucherData.data("categoryid");$(window).on("load",function(){global.getCookie("CustomerIdentifier")?$.when($.get("/Product/VoucherAudienceCampaigns?productId="+e+"&categoryId="+i+"&branchId="+t).done(function(a){allCoupons=allCoupons.concat(a.Coupons),collectedBadge=a.CollectedBadge,getVoucherCampaigns(e,t,i,collectedBadge)})):getVoucherCampaigns(e,t,i,"")})}function getVoucherCampaigns(e,t,i,a){$.get("/Product/VoucherCampaigns?productId="+e+"&categoryId="+i+"&branchId="+t).done(function(e){allCoupons=allCoupons.concat(e.Coupons),collectedBadge=e.CollectedBadge?e.CollectedBadge:a;var t=renderProductCoupons(allCoupons,collectedBadge);$productCouponSlider.html(t),allCoupons.length>0&&$productCouponSlider.addClass("has-coupon"),setTimeout(function(){productCouponSlider()},150),segment.voucherListViewed("Product Detail")})}function renderProductCoupons(e,t){for(var i=0,a=0;a<e.length;a++)null!=e[a].OrderLink&&void 0!=e[a].OrderLink&&(window.location.pathname+window.location.search).toLocaleLowerCase().indexOf(e[a].OrderLink.toLocaleLowerCase())!=-1&&1==e[a].IsCollected&&(global.arrayMove(e,a,i),i++);var o="";return $.each(e,function(e,i){var a={category:3==i.CouponType||5==i.CouponType?i.CategoryName:void 0,product_no:(4==i.CouponType||6==i.CouponType)&&i.ProductList.length>0?i.ProductList[0].ProductId:void 0,discount_type:"Amount",discount_amount:i.DiscountValue&&parseInt(i.DiscountValue),collect_status:i.IsCollected},s=$.extend({},a,i.SegmentData);collectedCouponIDs.push(i.CampaignId),o+='<div class="product__coupon js-segment-voucher js-voucher-data-for-segment" data-segment-voucher-model="'+encodeURIComponent(JSON.stringify(s))+'">',o+='<div class="product__coupon-top">',o+='<div class="product__coupon-amount--wrapper">',o+=i.DiscountValue.length>3?'<div class="product__coupon-amount high-amount">'+i.DiscountValue+" "+i.CurrencySymbol+" Kupon</div> ":'<div class="product__coupon-amount">'+i.DiscountValue+" "+i.CurrencySymbol+" Kupon</div> ",i.IsSpecificAudienceTarget&&(o+='<div class="product__coupon-audience--badge js-specific-audience">Size Özel</div>'),o+="</div>",o+=$(".js-login-control").length>0?i.IsCollected&&4==i.CouponType||i.IsCollected&&1==i.CouponType||i.IsCollected&&6==i.CouponType?'<div class="product__coupon-button product__coupon-button-collected">TOPLANDI</div>':i.IsCollected&&1!=i.CouponType?'<div class="product__coupon-button product__coupon-button-green js-collect-product-detail-voucher" data-collected="'+i.IsCollected+'" data-collect-url="'+i.CollectButtonUrl+'" data-campaignid="'+i.CampaignId+'" data-coupontype="'+i.CouponType+'" data-orderurl="'+i.OrderLink+'" data-audience="'+i.IsSpecificAudienceTarget+'">SİPARİŞ VER</div>':'<div class="product__coupon-button js-collect-product-detail-voucher" data-collected="'+i.IsCollected+'" data-collect-url="'+i.CollectButtonUrl+'" data-campaignid="'+i.CampaignId+'" data-coupontype="'+i.CouponType+'" data-orderurl="'+i.OrderLink+'" data-audience="'+i.IsSpecificAudienceTarget+'">TOPLA</div>':'<div class="product__coupon-button js-collect-product-detail-voucher" data-collected="'+i.IsCollected+'" data-collect-url="'+i.CollectButtonUrl+'" data-campaignid="'+i.CampaignId+'" data-coupontype="'+i.CouponType+'" data-orderurl="'+i.OrderLink+'" data-audience="'+i.IsSpecificAudienceTarget+'">TOPLA</div>',o+="</div>";var n="";i.IsCollected&&(n="active"),(4!=i.CouponType&&6!=i.CouponType||i.IsSpecificAudienceTarget)&&(o+='<div class="product__coupon-collected-badge js-collected-coupon-badge '+n+'">',o+='<img src="'+t+'" alt="" class="img-responsive">',o+="</div>"),o+='<div class="product__coupon-dashed-line"></div>',o+='<div class="product__coupon-bottom">',o+='<div class="product__coupon-infoText">'+i.StartDate+" - "+i.EndDate+"</div> ",4!=i.CouponType&&6!=i.CouponType&&i.MinBasketPrice>0&&(o+='<div class="product__coupon-infoText">'+i.MinBasketPrice+" "+i.CurrencySymbol+" Minimum Tutar</div> "),o+="</div>",o+="</div>"}),o}function productCouponSlider(){$productCouponSlider.on("init",function(e,t){0==$(this).find(".slick-arrow").length&&$(this).find(".slick-list").css("margin-left","0px"),global.removeOverlay()});var e=$(window).width();e>767&&$(".js-product-coupon-slider .product__coupon").length>0&&$productCouponSlider.slick({infinite:!1,arrows:!0,variableWidth:!0,slidesToShow:2,slidesToScroll:1,prevArrow:"<button type='button' class='slick-prev slick-prev--box slick-arrow'><i class='icon icon-left-arrow'></i></button>",nextArrow:"<button type='button' class='slick-next slick-next--box slick-arrow'><i class='icon icon-right-arrow'></i></button>",responsive:[{breakpoint:1600,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:768,settings:"unslick"}]})}function productDetailCouponCollect(){$(document).on("click",".js-collect-product-detail-voucher",function(){var e=$(this),t=this.className,i=e.data("collected").toString().toLowerCase(),a=e.data("collect-url"),o=e.data("campaignid"),s=e.data("coupontype"),n=e.data("orderurl"),r=e.data("audience"),l=window.location.pathname;if($(".js-collect-product-detail-voucher").removeClass("js-coupon-active"),e.addClass("js-coupon-active"),a.length>0&&"false"===i){global.createOverlay();var d={CampaignId:o,ReturnUrl:l};$.ajax({type:"POST",url:a,data:d,success:function(i){i.Success?(segment.vouchersCollected(e),i.IsRedirect?window.location.href=i.RedirectUrl:global.collectButtonChanged(t,o,s,n,r),e.data("collected","true"),e.attr("is-collected","true"),global.removeOverlay()):!i.Success&&i.IsRedirect?(window.location.href=i.RedirectUrl,global.removeOverlay()):(global.popup({message:i.Message,popupType:"alert",confirmAction:"global.collectButtonChanged('"+t+"','"+o+"','"+s+"','"+n+"','"+r+"')",hiddenFunction:function(){global.collectButtonChanged(t,o,s,n,r)}}),global.removeOverlay(),e.data("collected","true"),e.attr("is-collected","true"))}})}else"true"===i&(2==s||3==s||5==s)&n.length>0&&(global.createOverlay(),window.location.href=n)})}function breadcrumbShowRight(){global.isMobile()&&$page.hasClass("product")&&$(".js-breadcrumb").scrollLeft($(".js-breadcrumb").width())}function setAddToCartText(){var e=$(".js-main-product-group-name").data("mainproductgroupname").toLowerCase(),t=$(".js-add-to-cart").find(".js-product-action-button-text");t.hasClass("is-personalized")?t.text("Tasarla"):"çiçek"===e||"bonnyfood"===e?t.text("Sipariş Ver"):t.text("Sepete Ekle")}function triggerDeliveryPointListModal(){var e=$(".js-delivery-point-modal"),t=e.find(".js-delivery-point-dropdown");$triggerDeliveryPointListModal.on("click",function(){$("body").addClass("is-fixed"),$(this).addClass("is-active"),t.removeClass("is-hidden").addClass("is-active"),$deliveryPointResponsiveOverlay.show()}),$(document).on("click",".js-delivery-point-responsive-overlay",function(){$("body").removeClass("is-fixed"),t.addClass("is-hidden").removeClass("is-active"),$deliveryPointResponsiveOverlay.hide()})}function showBuyNowButton(){!global.isMobile()&&$(".js-product-has-buynow").length>0&&(clickBuyNowButton(),$(".js-product-has-buynow").addClass("product__action--has-buynow"),activeBuyNow=!0,$buyNowButton.removeClass("is-hidden"))}function controlCargoMessageAb(){triggerCargoMessageAb(),$cargoMessageAb.on("cargoMessageTextChange",function(){triggerCargoMessageAb()})}function showVariantDropdown(e){$("body").addClass("is-fixed"),$variantSelectorResponsiveOverlay.show(),$variantSelectorDropdown.removeClass("is-hidden"),cloneVariants(),$(".js-product-info-wrapper").addClass("variant-open"),calculateProductVariantsHeight()}function calculateProductVariantsHeight(){var e=$jsProductVariants.height();$variantSelectorDropdown.css("min-height",e+110+"px")}function cloneVariants(){var e=$jsProductVariants.clone();e.find('.js-multiple-variant-input[data-value-type="mutual"]').attr("name","").addClass("js-multiple-variant-input-popup-mutual").removeClass("js-multiple-variant-input"),e.find('.js-multiple-variant-input[data-value-type="base"]').attr("name","").addClass("js-multiple-variant-input-popup-base").removeClass("js-multiple-variant-input"),e.find(".js-multiple-variants-label-base").addClass("js-multiple-variants-label-base-popup").removeClass("js-multiple-variants-label-base"),e.find(".js-multiple-variants-label-mutual").addClass("js-multiple-variants-label-mutual-popup").removeClass("js-multiple-variants-label-mutual"),e.find(".js-product-variants").attr("style",""),setTimeout(function(){$(".js-product-variants").attr("style","")},0),$variantSelectorDropdown.html(e).prepend('<a href="javascript:void(0)" class="district-dropdown__close js-variant-selector-responsive-overlay"><span class="icon-close-light"></span></a>')}function handleVariantLabelClick(e,t){$(document).on("click",e,function(){if($(this).prev().is(":checked"))$(this).prev().prop("checked",!1);else{var e=$(this).attr("data-value-id");$(t).prop("checked",!1),$('.js-multiple-variant-input[data-value-id="'+e+'"]').prop("checked",!0),$(this).prev().prop("checked",!0)}})}function closeVariantDropdown(){$(document).on("click",".js-variant-selector-responsive-overlay",function(){$("body").removeClass("is-fixed"),$variantSelectorDropdown.addClass("is-hidden"),$(".js-variant-selector-dropdown .js-product-variants").remove(),$variantSelectorResponsiveOverlay.hide(),$(".js-product-variants").slideDown(),$(".js-product-info-wrapper").removeClass("variant-open"),$(".js-add-to-cart").removeAttr("disabled");var e=$(".js-product-variants").offset().top;global.isMobile()?global.scrollGoto(e-100):global.scrollGoto(e-200)})}function triggerCargoMessageAb(){"true"==$cargoMessageAb.val()&&$("main.product.in-stock")&&handleCargoMessageAb()}function handleCargoMessageAb(){var e=$(".js-delivery-estimation-ab-text").val();if(e){var t=$(".js-delivery-estimation-ab-text")[0].className;$(".js-delivery-estimation-ab").html('<p class="product__message-text delivery-estimation '+t+'"><b>'+e+"</b> kargoda<br></p>")}else $(".js-delivery-estimation").removeClass("is-hidden");$(".js-delivery-estimation-ab").removeClass("is-hidden"),$(".js-delivery-estimation").addClass("is-hidden")}function deliveryPointSelectorClick(){$deliveryPointSearchTrigger.on("click",function(e){e.preventDefault(),e.stopPropagation(),showDeliveryPointDropdown(),$deliveryPointInput.focus(),$(".js-delivery-point-responsive-overlay").show(),$(".js-hamburger").addClass("hamburger--passive-29")})}function showDeliveryPointDropdown(){$("body").addClass("is-fixed"),$deliveryPointDropdown.addClass("is-active").removeClass("is-hidden"),$deliveryPointSearchTrigger.addClass("is-active"),generateDeliveryPointsHTML()}function hideDeliveryPointDropdown(){$(document).on("click",".js-delivery-point-responsive-overlay",function(){$deliveryPointSearchTrigger.removeClass("is-active"),$deliveryPointDropdown.removeClass("is-active").addClass("is-hidden"),$(".js-delivery-point-responsive-overlay").hide(),$(".js-hamburger").removeClass("hamburger--passive-29"),$("body").removeClass("is-fixed")}),$(document).on("click",".js-delivery-point-close",function(){$deliveryPointSearchTrigger.removeClass("is-active"),$deliveryPointDropdown.removeClass("is-active").addClass("is-hidden"),$(".js-delivery-point-responsive-overlay").hide(),$(".js-hamburger").removeClass("hamburger--passive-29"),$("body").removeClass("is-fixed")})}function generateDeliveryPointsHTML(){var e=$(".js-delivery-points"),t='<ul class="delivery-points__list js-delivery-point-list" style="max-height: '+($(".js-delivery-point-dropdown").height()-210)+'px">';$.each($deliveryPointResponseList,function(e,i){t+='<li class="item js-delivery-point-item" data-id="'+i.Id+'">\n                        <span class="name js-delivery-point-name">'+i.Name+'</span>\n                        <span class="address">'+i.Address+'</span>\n                        <span class="hidden js-delivery-point-message">'+i.Message+"</span>\n                    </li>"}),t+="</ul>",e.html(t)}function toggleFocusDeliveryPointInput(){$deliveryPointInput.focus(function(){$deliveryPointSearchTrigger.addClass("is-active")}),$deliveryPointInput.blur(function(){$deliveryPointSearchTrigger.removeClass("is-active")})}function deliveryPointItemClick(){$(document).on("click",".js-delivery-point-item",function(){$(".js-delivery-point-text").text($(this).find(".js-delivery-point-name").text()),$deliveryPointSearchTrigger.addClass("district-search-button--not-empty");var e=$(this).data("id"),t=$("#deliveryPointList").selectize(),i=t[0].selectize;i.setValue(e);var a=$(this).find(".js-delivery-point-message").text();if(""!==a){var o='<div class="product__message"><p class="product__message-text">'+a+"</p> </div>";$productDetailMessageContainer.html(o),$productMessagesArea.slideDown(250);var s=$(".js-productDetailMessages:first").offset().top;global.scrollGoto(s-100)}$(".js-delivery-point-responsive-overlay").trigger("click")})}function filterDeliveryPoints(){$deliveryPointInput.on("keyup",function(){var e=$(this).val().toLowerCase();$(".js-delivery-point-item").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})})}function initProductSliderImages(){window.innerWidth<600&&$(".js-product-images-slider .product__slider-item").length>1&&!$ageWarningHiddenImages.hasClass("hidden-images")&&$(".js-product-images-slider").slick({lazyLoad:"anticipated",infinite:!1,arrows:!1,dots:!1,slidesToShow:1.22,slidesToScroll:1})}function initMultipleVariantsImagesSlider(){$multipleVariantsImagesSlider.length>0&&!$multipleVariantsImagesSlider.hasClass("hidden")&&$multipleVariantsImagesSlider.slick({lazyLoad:"ondemand",infinite:!1,arrows:!0,dots:!1,outerEdgeLimit:!1,swipeToSlide:!0,slidesToShow:9.2,slidesToScroll:9.2,prevArrow:"<button type='button' class='slick-prev slick-arrow'><i class='icon icon-left-arrow'></i></button>",nextArrow:"<button type='button' class='slick-next slick-arrow'><i class='icon icon-right-arrow'></i></button>",responsive:[{breakpoint:isSafari?1601:1600,settings:{slidesToShow:6.7,slidesToScroll:6.7}},{breakpoint:1200,settings:{slidesToShow:5.8,slidesToScroll:5.8}},{breakpoint:992,settings:{slidesToShow:7,slidesToScroll:7}},{breakpoint:950,settings:{slidesToShow:6.5,slidesToScroll:6.5}},{breakpoint:850,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:800,settings:{slidesToShow:5.6,slidesToScroll:5.6}},{breakpoint:768,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:700,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:600,settings:"unslick"}]})}var $page=$("main"),$region=$("#region"),$datepickerProductContainer=$(".js-product-datepicker"),$dateItem=$(".js-date-item"),$shortcutDate=$(".js-shortcut-date"),shortcutDates=[],$pickedDateArea=$(".js-picked-date"),selectedDate,datepickerDate,$hiddenDateInput=$("#AddToCartModel_DeliveryDate"),formattedDatepickerDate,productRegionSelect,productRegionSelectControl,$productForm=$("#productDetailSend"),$product=$(".js-product-datas"),productId=$product.data("product-id"),variantId=$product.data("variant-id"),thumbsActive=$product.data("is-thumbs-active"),$variantLabel=$(".js-variant-label"),$productDetailLabel=$(".js-product-detail-label"),productGroupId=$product.data("product-group-id"),haveSpecialTime=$product.data("have-special-time"),isGoToRelation=$product.data("is-go-to-relation"),variantCode=$product.data("variant-code"),$addToCartButton=$(".js-add-to-cart"),$buyNowButton=$(".js-buy-now"),$variantRadioButton=$(".js-choose-variant"),$hiddenVariantInput=$(".js-hidden-variant-input"),$openGalleryBtn=$(".js-open-gallery"),$productThumb=$(".product__thumbs"),$productVariantId=$("#variantID"),$productMessagesArea=$(".js-product-messages"),$productMessagesIcon=$(".js-product-messages-icon"),$productTrafficMessagesArea=$(".js-product-traffic-messages"),$productDetailMessageContainer=$(".js-productDetailMessages"),$productDetailTrafficMessageContainer=$(".js-productDetailTrafficMessages"),$productShowDayPickerContainer=$(".product__dates"),$productQuickOrderContainer=$(".js-product-quick-order"),$productEasyPointContainer=$(".js-delivery-point"),$productQuickOrder=$(".product__quickorder-label"),$productQuickOrderSelector=$(".js-quick-order"),$quickOrderCheckbox=$(".js-quick-order"),$locationError=$(".js-product-error--location"),$productError=$(".product__error"),$quickorderError=$(".js-product-error--quick-order"),$dateError=$(".js-product-error--date"),$hourError=$(".js-product-error--hour"),$specialHourError=$(".js-product-error--special-hour"),$specialMinuteError=$(".js-product-error--special-minute"),$hiddenRegionSelect=$("select.js-region-selectize"),$confirmCeditorError=$(".js-product-error--confirm-ceditor"),$multipleVariantBaseInputsError=$(".js-product-error--multiple-variants-base"),$multipleVariantMutableInputsError=$(".js-product-error--multiple-variants-mutual"),$resetLocationButton=$(".js-remove-location"),$resetEasyPointButton=$(".js-remove-easy-point"),$productHoursArea=$(".js-product-hours"),$openCertificate=$(".js-open-certificate"),$certificateContainer=$(".product-certificate__container"),$sliderController=$(".product__slider-controller"),$hiddenProductCode=$("#productCode"),$productCode=$("#product__code"),$refundInfoIcon=$(".js-refund-info-icon"),$deliveryBadge=$(".js-delivery-badge"),$refundBadge=$(".js-refund-badge"),customerRefundInfo="",$productVariants=$(".product__variants"),$commentProductId=$(".js-product-id").val(),$alternateProduct=$(".js-alternate-product"),$multipleVariantsImagesSlider=$(".js-multiple-variants-images"),$customerAddress=[],$regionIdFromCustomerAddress="",$isRegionIdFromCustomerAddress=!1,selectedAddressId="",selectedAddressIdFromHeader=!1,selectedAddressLat="",selectedAddressLong="",submitForm=!1,deliveryPointId,$advertisementProduct=$(".js-advertisement-product"),$advertisementNotAvailable=$(".js-advertisement-not-available"),$advertisementNotAvailablePrice=$(".js-advertisement-not-available-price"),$advertisementAvailable=$(".js-advertisement-available"),$xhr,countryCode=$("#CountryCode"),suggestLength=0,easyzoomLeft=$(".js-easyzoom-overlay-left"),easyzoomRight=$(".js-easyzoom-overlay-right"),easyzoomLeftImage=$(".js-easyzoom-overlay-left-image"),easyzoomRightImage=$(".js-easyzoom-overlay-right-image"),easyzoomClickable=$(".js-easyzoom-clickable"),$deliveryPointIsAvailable=$("#delivery-point-is-available"),$deliveryPointList=$("#deliveryPointList"),$smartBannerCloseButton=$(".js-product-smart-banner-close"),$smartBannerLink=$(".js-smart-banner-link"),$hiddenEntryId=$(".js-entry-id"),$deliveryPointError=$(".js-product-error--delivery-point"),$deliveryPointListArea=$(".js-delivery-selectize-search"),$deliveryPointListWrapper=$(".js-delivery-point-list"),$deliveryPointPoolType=$("#delivery-point-pool-type"),$deliveryPointProductGroupId=$("#delivery-point-product-group-id"),$deliveryPointResponseList,minSpecialMinute,specialMinuteList=[],hasSelectedFirstHour,adEntryList=[],$allComment=$(".js-all-comment"),$commentList=$(".js-comments-review"),$productDetailSearch=$(".js-product-detail-search"),$productDetailSearchInput=$(".js-product-detail-search-input"),oldQuery="",$responsiveProductHoursArea=$(".js-responsive-delivery-hours-content"),$responsiveProductDeliveryHoursWrapper=$(".js-responsive-delivery-hours"),$isProductHaveSpecialTime,$variantInstallmentText=$(".js-variant-installment-text"),$sameDayContainer=$(".js-same-day-courier"),$sameDayCheckBox=$(".js-same-day-courier-checkbox"),$sameDayPriceArea=$(".js-same-day-courier-price-area"),$isOnlyCargo=$("#isOnlyCargo"),$subscriptionInput=$(".js-choose-subscription"),$subscriptionDelivery=$(".js-subscription-delivery"),$subscriptionTitle=$(".js-subscription-title"),$subscriptionDateTitle=$(".js-subscription-date-title"),$subscriptionDescription=$(".js-subscription-description"),$subscriptionWrapper=$(".js-product-subscription-wrapper"),$subscriptionDeliveryButton=$(".js-subscription-delivery-button"),$subscriptionDescriptionCargo=$(".js-subscription-description-cargo"),$subscriptionDescriptionService=$(".js-subscription-description-service"),globalShowDatePicker,globalShowSubscriptionDescription,globalQuickOrder,$subscribePrice=$(".js-subscribe-price"),$defaultPrice=$(".js-default-price"),$subscribePricePercentage=$(".js-subscribe-price-percentage"),$discountPercentageBox=$(".js-discount-percentage-box"),$subscriptionDeliveryError=$(".js-subscription-delivery-error"),cargoAndSameDayControl,$hasSavedAddress=!1,$reportbtn=$(".js-report-btn"),$ageWarningModal=$(".js-age-warning"),$ageWarningModalBackdrop=$(".js-age-warning-backdrop"),$ageWarningApprove=$(".js-age-warning-approve"),$ageWarningDismiss=$(".js-age-warning-dismiss"),$ageWarningImage=$(".js-age-warning-image"),$ageWarningHiddenImages=$(".js-age-warning-hidden-images"),similarProductExcludeForVisible=[],suggestedProductExcludeForVisible=[],$imageConfirmInfo=$(".js-image-confirm-info"),$imageConfirmText=$(".js-image-confirm-text"),$productWebtoApp=$(".js-product-webtoapp"),$webtoAppCheck=$(".js-webtoapp-check"),$buyboxShowAll=$(".js-buybox-show-all"),$buyboxShowAllResp=$(".js-buybox-show-all-resp"),$voucherData=$(".js-voucher-data"),$productCouponSlider=$(".js-product-coupon-slider"),collectedCouponIDs=[],$triggerDeliveryPointListModal=$(".js-trigger-delivery-point-list-modal"),$deliveryPointResponsiveOverlay=$(".js-delivery-point-responsive-overlay"),isResponsive=$(window).width()<=600,$variantSelectorDropdown=$(".js-variant-selector-dropdown"),$jsProductVariants=$(".js-product-variants"),$variantSelectorResponsiveOverlay=$(".js-variant-selector-responsive-overlay"),allCoupons=[],collectedBadge="",$cargoMessageAb=$("#js-cargo-message-ab"),$deliveryPointSelector=$(".js-delivery-point-selector"),$deliveryPointSearchTrigger=$(".js-trigger-delivery-point-search"),$deliveryPointDropdown=$(".js-delivery-point-dropdown"),$deliveryPointInput=$(".js-delivery-point-selector-input"),$variantDescText="",$variantDescProp=!1,favoriteCount=$(".js-choose-variant:checked").data("variant-favoritecount"),clickedFrom="",activeBuyNow=!1,isSafari=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,regionList=global.getCookie("regionlist"),regionListConvert=decodeURIComponent(regionList).replace(/\+/g," "),regionListValue=$("#isOnlyCargo")?"":regionListConvert.split(",")[0];
return $.fn.scrollStopped=function(e){var t=this,i=$(t);i.scroll(function(a){clearTimeout(i.data("scrollTimeout")),i.data("scrollTimeout",setTimeout(e.bind(t),250,a))})},Number.prototype.priceFormat=function(e,t,i,a){var o="\\d(?=(\\d{"+(t||3)+"})+"+(e>0?"\\D":"$")+")",s=this.toFixed(Math.max(0,~~e));return(a?s.replace(".",a):s).replace(new RegExp(o,"g"),"$&"+(i||","))},{init:init,setDatepicker:setDatepicker,submitAddToCartForm:submitAddToCartForm,isProductSmartCustom:isProductSmartCustom,thumbGenerateControl:thumbGenerateControl,fetchProductDatas:fetchProductDatas,productChangeDescriptions:productChangeDescriptions,productChangeSpecifications:productChangeSpecifications,getCustomerAddress:getCustomerAddress,thumbGenerateControlHack:thumbGenerateControlHack,continueAddingProductToCart:continueAddingProductToCart,getDiscountTimer:getDiscountTimer,cloneVariants:cloneVariants,changeBannerDependsVariant:changeBannerDependsVariant,productSetVariantDescriptions:productSetVariantDescriptions}}(),conditionalDiscountsProduct=function(){function e(){t(),c(),h()}function t(){if($(".js-product-conditional-discounts").length>0&&(v||f.length>0)){var e=m.data("product-id");if(f.length>0&&"True"===$(".product__variants.is-product .js-choose-variant:checked").attr("data-variant-has-variant-discount"))return!1;$.ajax({type:"GET",url:"/product/ConditionalDiscounts?productId="+e,success:function(e){if(e.ConditionalDiscounts.length>0){var t=i(e);$(".js-is-product-conditional-discount").val("true"),$(".js-product-conditional-discounts").html(t),r(),p(),l(e)}else $(".js-product-conditional-discounts").html(""),$(".js-is-product-conditional-discount").val("false");segment.productViewEvent()}})}}function i(e){var t=e.Title,i=e.ToolTip,s=e.ConditionalDiscounts,n=2,r=b.width()<768,l=r&&s.length>n,c="";if(c+='<div class="conditional-discounts js-conditional-discounts">',c+='<div class="conditional-discounts__title"><strong>'+t+"</strong>",c+='<span class="js-conditional-discounts-tooltip conditional-discounts__icon icon-info" data-toggle="tooltip">',c+='<span class="conditional-discounts__icon-item" style="display: none;">',c+=i,c+="</span>",c+="</span>",l&&(c+='<span class="js-conditional-discounts-all conditional-discounts__limited-text"><strong>Tümünü Gör</strong></span>'),c+="</div>",c+='<div class="conditional-discounts__slider">',c+='<div class="slider js-conditional-discounts-slider">',$.each(s,function(e,t){l?e<=n-1&&(c+=a(t)):c+=a(t)}),r){var u=d(e,!0);$("body").append(u)}return c+="</div>",c+="</div>",c+="</div>",o(e),c}function a(e){var t=global.isMobile()?"_self":"_blank",i="";return i+='<a class="conditional-discount__item js-product-item-for-countdown js-conditional-discount-item" href="'+e.Link+'" target="'+t+'" data-date-base-campaing="'+e.EndDate+'">',i+='<div class="conditional-discount__wrapper">',i+='<div class="conditional-discount__top">',i+='<div class="conditional-discount__icon-wrapper">',i+='<span class="conditional-discount__icon icon-megaphone"></span>',i+="</div>",i+='<span class="conditional-discount__message">',i+=e.ConditionalDiscountMessage,i+="</span>",i+='<span class="conditional-discount__time">',i+=u(e.EndDate),i+="</span>",e.Link&&(i+='<span class="conditional-discount__link icon-arrow_right"></span>'),i+="</div>",i+='<div class="conditional-discount__bottom">',i+=u(e.EndDate),i+="</div>",i+="</div>",i+="</a>"}function o(e){$(document).on("mouseenter",".js-conditional-discounts-tooltip",function(){b.width()>=768&&($(this).children().hide(),$(this).children().eq(0).show())}).on("click",".js-conditional-discounts-tooltip",function(){b.width()<768&&s(!1)}).on("mouseleave",".js-conditional-discounts-tooltip",function(){b.width()>=768&&$(this).children().hide()})}function s(e){"iOS"===global.isMobile()&&0===$(window).scrollTop()?$("html,body").animate({scrollTop:1},50,function(){setTimeout(function(){n(e)},1)}):n(e)}function n(e){var t=$(".js-responsive-conditional-discounts-modal .js-product-item-for-countdown");e?t.removeClass("hidden"):t.addClass("hidden"),$(".js-responsive-conditional-discounts-modal").removeClass("hidden"),g.addClass("active"),layoutGlobal.fixBody()}function r(){var e=$(window).width();e>767&&$(".js-conditional-discounts-slider").slick({lazyLoad:"ondemand",infinite:!1,arrows:!0,dots:!1,outerEdgeLimit:!1,variableWidth:!1,slidesToShow:4,swipeToSlide:!0,prevArrow:"<button type='button' class='slick-prev slick-arrow'><i class='icon icon-left-arrow'></i></button>",nextArrow:"<button type='button' class='slick-next slick-arrow'><i class='icon icon-right-arrow'></i></button>",responsive:[{breakpoint:y?1601:1600,settings:{slidesToShow:2.89}},{breakpoint:1200,settings:{slidesToShow:2.52}},{breakpoint:992,settings:{slidesToShow:3.15}},{breakpoint:975,settings:{slidesToShow:2.8}},{breakpoint:900,settings:{slidesToShow:2.6}},{breakpoint:800,settings:{slidesToShow:2.45}},{breakpoint:768,settings:"unslick"}]})}function l(e){$(document).on("click",".js-conditional-discounts-all",function(){s(!0)})}function d(e,t){var i="";return i+='<div class="conditional-discounts__modal js-responsive-conditional-discounts-modal hidden">',i+='<a href="javascript:void(0)" class="conditional-discounts__modal-close js-responsive-conditional-modal-close"><span class="icon-close-light"></span></a>',i+='<div class="conditional-discounts__modal-title">',i+="<p>"+e.Title+"</p>",i+="</div>",i+='<div class="conditional-discounts__modal-content">',i+='<p class="conditional-discounts__modal-tooltip">'+e.ToolTip+"</p>",t&&$.each(e.ConditionalDiscounts,function(e,t){i+=a(t)}),i+="</div>",i+="</div>"}function c(){$(document).on("click",".js-responsive-conditional-modal-close, .js-conditional-discounts-backdrop",function(){$(".js-responsive-conditional-discounts-modal").addClass("hidden"),g.removeClass("active"),layoutGlobal.unfixBody()})}function u(e){var t="";return t+='<div class="js-date-based-campaing hidden">',t+="<div>",t+='<span class="conditional-discount__timer-text">İndirime son&nbsp;</span>',t+='<span class="js-campaing-timer-discounts conditional-discount__timer" data-range="'+e+'">00:00</span>',t+="</div>",t+='<div class="conditional-discount__discount-timer">',t+='<div class="conditional-discount__discount-timer__mask">',t+='<div class="conditional-discount__discount-timer__bar"></div>',t+='<div class="conditional-discount__discount-timer__percent js-discount-timer-percent" style="width: 100%;"></div>',t+="</div>",t+="</div>",t+="</div>"}function p(){for(var e=$('.conditional-discount__item:not([data-date-base-campaing=""])').not(".js-date-based-running"),t=0;t<e.length;t++){var i=$(e[t]).data("date-base-campaing"),a=$(e[t]).find(".js-campaing-timer-discounts");global.countdown(a,i)}}function h(){f.on("change",function(){var e=$(this);void 0!==e.attr("data-variant-has-variant-discount")&&($(".js-conditional-discounts").remove(),"False"===e.attr("data-variant-has-variant-discount")?t():segment.productViewEvent())})}var m=$(".js-product-datas"),g=$(".js-conditional-discounts-backdrop"),v="False"===$(".js-has-variant-discount").val(),f=$(".product__variants.is-product .js-choose-variant"),b=$(window),y=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1;return{init:e}}(),nsReview=function(){"use strict";function e(){$("main").hasClass("product")&&(_.length>0&&(t(),p()),S.length>0&&(m(),g())),n(),i(),v(),y()}function t(){var e=$(".js-seller-id"),t={productId:C,productUrl:w,storeId:e.data("id"),storeLink:e.find(".product__seller-name").attr("href"),branchName:e.find(".product__seller-name").text().trim(),branchRating:e.find(".product__seller-point").text().trim(),branchRatingLevel:e.find(".product__seller-point").data("level")};t&&$.ajax({type:"GET",url:"/Product/ProductDetailSellerQuestions",data:t,success:function(e){_.append(e),h(),m()}})}function i(){$(document).on("click",".js-seller-like, .js-seller-report-tool, .js-review-like",function(){var e=$(this),t={thisButton:e,likeCount:Number(e.find(".js-ns-reviews-like-count").attr("data-count")),alreadyLike:e.hasClass("is-like"),nsId:e.closest(".js-ns-reviews-reaction").data("id"),type:Number(e.data("type"))};t.alreadyLike&&1==t.type?o(t):a(t)})}function a(e){var t=e.thisButton.hasClass("js-review-like"),i=t?"/Review/Like?id="+e.nsId:"/SellerQuestion/CreateSellerQuestionCustomerInteraction",a=t?"":{type:e.type,sellerQuestionIdToken:e.nsId};if($(".js-login-control").length>0)$.ajax({type:"POST",url:i,data:JSON.stringify(a),contentType:"application/json; charset=utf-8",success:function(i){if($("#customModalBox").remove(),$(".modal-backdrop").remove(),200==i.statusCode||i.IsSuccess)if(i.message&&i.success&&2==e.type)global.popup({popupType:"alert",custom:!0,customHtml:s("report",i.message),beforeSend:function(){global.createOverlay()},success:function(){global.removeOverlay()}});else{e.thisButton.addClass("is-like"),e.likeCount+=1;var a=t?9999:999,o=e.likeCount>a?a+"+":e.likeCount;e.thisButton.find(".js-ns-reviews-like-count").attr("data-count",e.likeCount).text(o)}else 409==i.statusCode||409==i.ErrorStatusCode?(e.thisButton.addClass("is-like"),2==e.type&&global.popup({popupType:"alert",custom:!0,customHtml:s("report",i.message),beforeSend:function(){global.createOverlay()},success:function(){global.removeOverlay()}})):400==i.ErrorStatusCode&&i.ErrorMessage?global.popup({custom:!0,customHtml:s("alert",i.ErrorMessage)}):i.ErrorMessage&&global.popup({message:i.ErrorMessage})},error:function(){global.popup({message:"Bir Hata Oluştu!"})}});else{var o="/uye-girisi?ReturnUrl="+k;window.location.href=o}}function o(e){var t=e.thisButton.hasClass("js-review-like"),i=t?"/Review/Unlike?id="+e.nsId:"/SellerQuestion/DeleteSellerQuestionCustomerInteraction?sellerQuestionIdToken="+e.nsId,a=t?"POST":"DELETE";$.ajax({type:a,url:i,contentType:"application/json; charset=utf-8",success:function(i){if(i.success||i.IsSuccess){e.thisButton.removeClass("is-like").removeClass("js-seller-already-like"),e.likeCount>0&&(e.likeCount-=1);var a=t?9999:999,o=e.likeCount>a?a+"+":e.likeCount;e.thisButton.find(".js-ns-reviews-like-count").attr("data-count",e.likeCount).text(o)}},error:function(){global.popup({message:"Bir Hata Oluştu!"})}})}function s(e,t){var i="success"==e,a="alert"==e,o="";return o='<div class="modal fade'+(i?" ns-review__success":"")+'"',o+=' id = "customModalBox" tabindex = "-1" role = "dialog" aria - labelledby="myModalLabel" aria - hidden="true" > ',o+='<div class="modal-dialog ns-review__modal-alert-dialog">',o+='<div class="modal-content ns-review__modal-alert-content">',o+='<div class="modal-header ns-review__modal-header clearfix'+(i?" visible-xs":" hide")+'">',o+='<span class="ns-review__modal-title"><strong>Sorunuz Satıcımıza İletilmiştir</strong></span>',o+="</div>",o+='<span class="modal-icon ns-review__modal-alert-close icon-close-line" data-dismiss="modal" aria-label="Close"></span>',o+='<div class="modal-container">',o+='<div class="modal-body-wrapper">',o+='<div class="modal-body ns-review__modal-alert-body padding-bottom-0 clearfix" id="bottomModal">',o+='<span class="'+(a?"icon-exclamation-mark ns-review__modal-alert-icon--alert":"icon-wallet-check")+' ns-review__modal-alert-icon">',o+="</span>",o+='<span class="ns-review__modal-alert-title'+(i?" hidden-xs":" hide")+'">',o+="<strong>Sorunuz Satıcımıza İletilmiştir</strong>",o+="</span>",o+='<span class="ns-review__modal-alert-text">',o+=t,o+="</span>",o+="</div>",o+='<div class="ns-review__modal-alert-footer'+(i?"":" hide")+'">',o+='<button type="button" class="agree-button btn btn-primary ns-review__modal-btn-block" data-dismiss="modal">Alışverişe Devam Et </button>',o+="</div>",o+="</div>",o+="</div>",o+="</div>",o+="</div>",o+="</div>"}function n(){$(document).on("click",".js-ask-question-seller",function(){if(wallet.closeModalIsSuccess(),C)if($(".js-login-control").length>0)$.ajax({type:"GET",url:"/SellerQuestion/GetAskQuestionInfo?productId="+C,beforeSend:function(){global.createOverlay()},success:function(e){global.removeOverlay(),global.popup({custom:!0,customHtml:$(e).find(".js-modal-create-question"),shownFunction:function(){$("body").addClass("is-fixed")},hiddenFunction:function(){$("body").removeClass("is-fixed")}});var t=$(e).find(".js-ns-review-scroll-criteria"),i=$(e).find(".js-ns-review-scroll-lighting");r(t,i),c()},error:function(e){global.removeOverlay(),global.popup({message:"Bir Hata Oluştu!"})}});else{var e="/uye-girisi?ReturnUrl="+k;window.location.href=e}})}function r(e,t){var i;$(document).on("click",".js-seller-comment-criteria, .js-contract-accept",function(){$(".modal-scroll").each(function(){$(this).remove()}),$(".modal-backdrop").each(function(e){0!==e&&$(this).remove()}),$(this).hasClass("js-seller-comment-criteria")?(i=e,$(".js-ns-review-scroll-criteria").attr("id","customModalBox")):(i=t,$(".js-ns-review-scroll-lighting").attr("id","customModalBox")),global.popup({custom:!0,customHtml:i,hiddenFunction:function(){$(".modal-scroll").remove(),$(".modal-scroll + .modal-backdrop").remove()}})})}function l(e,t,i){e.text(i),e.removeClass("hide"),t.addClass("field-error")}function d(e,t,i){e&&e.removeClass("field-error"),t&&t.removeClass("field-error"),i.addClass("hide")}function c(){var e=$(".js-seller-error-field-from-popup"),t=$(".js-seller-ask-categories-select"),i=$(".js-ns-review-ask-text"),a=e.data("mincount"),o=e.data("maxcount"),s=$(".js-ns-review-footer"),n="iOS"==global.isMobile();i.on("input",function(){d(null,i,e);var t=$(this).data("maxcount"),a=t-$(this).val().length;a<0&&(a=0),$(".js-ns-review-ask-count").text(a)}),i.on("focus",function(){n&&s.css({bottom:"auto","padding-top":0})}),i.on("blur",function(){n&&setTimeout(function(){s.css({bottom:0,"padding-top":"10px"})},1)}),$(document).on("click",".js-seller-ask-categories-options li",function(){d(t,null,e);var i=$(".js-seller-ask-categories-select"),a=$(this);i.addClass("selected"),i.data("id",a.val()),$(".js-seller-ask-categories-select-text").text(a.text())}),$(document).on("click",".js-create-seller-question",function(){d(t,i,e);var s=i.val().length,n=i.val().trim().length;if("undefined"==typeof t.data("id")&&n<=0)l(e,t,"Lütfen zorunlu alanları doldurun."),i.addClass("field-error");else if("undefined"==typeof t.data("id"))l(e,t,"Lütfen bir soru kategorisi seçiniz.");else if(n<=0)l(e,i,"Lütfen metin giriniz.");else if(s<a)l(e,i,e.data("mintext"));else if(s>o)l(e,i,e.data("maxtext"));else{d(t,i,e);var r={productId:$(".js-modal-product-id").data("productid"),HiddenCustomerName:$(".js-modal-show-name:checked").length<=0,Question:i.val(),QuestionCategoryId:t.data("id")};u(r)}})}function u(e){wallet.closeModalIsSuccess();var t="Satıcımız en kısa sürede dönüş yapacaktır. Cevaplandığında size bir e-posta ile bilgilendirme yapacağız.";$.ajax({type:"POST",url:"/SellerQuestion/CreateSellerQuestion",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",beforeSend:function(){global.createOverlay()},success:function(e){global.removeOverlay(),e.success?($(".js-modal-create-question").remove(),$(".modal-backdrop").remove(),global.popup({custom:!0,customHtml:s("success",t)})):global.popup({message:e.message})},error:function(e){global.removeOverlay(),global.popup({message:"Bir Hata Oluştu!"})}}),$("body").removeClass("is-fixed")}function p(){$(document).on("click",".js-accordion-ns-reviews-title",function(){if(window.innerWidth<768){var e=$(this);e.toggleClass("active");var t=$(".js-accordion-ns-reviews-panel");t.toggleClass("active")}})}function h(){var e=160,t=$(".js-seller-tooltip");window.innerWidth<768&&t.click(function(){t.offset().left<=e?t.addClass("product__seller-tooltip--right"):""})}function m(){var e=665,t=280,i=$(window).width()>768?e:t;$(".js-text-more").each(function(){var e=$(this),t=e.text();if($.trim(t).length>i){var a=t.substring(0,i),o=t.substring(i,$.trim(t).length);e.empty().html(a),e.append('<span class="ns-reviews--item-desc-read-more js-seller-read-more"></span>'),e.append('<span class="ns-reviews--item-desc-more js-seller-more">'+o+'<span class="ns-reviews--item-desc-read-less js-seller-read-less"></span>')}}),$(".js-seller-read-more").click(function(){var e=$(this);e.siblings(".js-seller-more").show(),e.hide(),$(".js-seller-read-less").show()}),$(".js-seller-read-less").click(function(){var e=$(this);e.closest(".js-seller-more").hide(),e.hide(),$(".js-seller-read-more").show()})}function g(){var e=$(".js-review-item"),t=5;$(window).width()>=768&&$(window).width()<900&&(t=3);for(var i=0;i<e.length;i++){var a=e.eq(i).find(".js-review-files"),o=e.eq(i).find(".js-review-image"),s=e.eq(i).find(".ns-reviews--item-comment--sub"),n=o.length;if($(window).width()<768&&s.before(a),n>0){if(n>t){for(var r=t-1;r<n;r++)o.eq(r).addClass("is-hidden");a.find(".js-review-image-all").length<=0&&a.append('<div class="ns-reviews--item-image-all js-review-image-all">Tümünü Gör</div>')}a.removeClass("is-hidden")}}}function v(){$(document).on("click",".js-review-image, .js-review-image-all",function(){var e=$(this),t=e.hasClass("js-review-image-all")?0:parseInt(e.attr("data-index")),i=e.closest(".js-review-item"),a=i.find(".js-review-image"),o=i.find(".js-review-stars").html(),s=i.find(".js-review-name").text(),n=i.find(".js-review-location").text(),r=i.find(".js-review-date").text(),l=i.find(".js-review-detail"),d={images:a,stars:o,name:s,location:n,date:r,detail:l};global.popup({custom:!0,customHtml:f(d),shownFunction:function(){b(t)}})})}function f(e){var t=e.images.length,i="";i+='<div class="modal fade modal__review-image modal-wallet js-review-images-popup" id="customModalBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">',i+='<div class="modal-dialog">',i+='<div class="modal-content">',i+='<div class="modal-header clearfix">',i+='<span class="modal-wallet__modal-title info-title">Kullanıcı Değerlendirmesi</span>',i+='<span class="modal-icon icon-close-line" data-dismiss="modal" aria-label="Close"></span>',i+="</div>",i+='<div class="modal-body clearfix">',i+='<div class="modal__review-images-slider-wrapper">',i+='<div class="modal__review-images-slider--count js-review-images-slider-count is-hidden"></div>',i+='<div class="slider modal__review-images-slider js-review-images-slider">';for(var a=0;a<t;a++)i+='<div class="modal__review-images-slider-item">',i+='<img class="modal__review-images-slider-item--img lazyloaded" alt="Ürün Görseli" src="'+e.images.eq(a).attr("data-large-image")+'"/>',i+="</div>";i+="</div>",i+='<div class="modal__review-images-slider--nav-thumbnails-wrapper">',i+='<div class="modal__review-images-slider--nav-thumbnails js-review-images-slider-nav">';for(var a=0;a<t;a++)i+='<div class="modal__review-images-slider--nav-thumbnails-image-wrapper js-slider-thumbnails" data-index='+a+'">',i+='<img class="modal__review-images-slider--nav-thumbnails-image lazyloaded" alt="Ürün Görseli" src="'+e.images.eq(a).attr("data-src")+'"/>',i+="</div>";return i+="</div>",i+="</div>",i+="</div>",i+='<div class="modal__review-comment-wrapper">',i+='<div class="modal__review-comment-stars">',i+=e.stars,i+="</div>",i+='<div class="modal__review-comment-name">',i+=e.name+", "+e.location,i+="</div>",i+='<div class="modal__review-comment-detail--wrapper '+("True"==e.detail.attr("data-show-like")?"":"modal__review-comment-detail--wrapper-outline")+'">',i+='<div class="modal__review-comment-detail">',i+='<p class="modal__review-comment-detail--date">'+e.date+"</p>",i+="<span>"+e.detail.attr("data-value")+"</span>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",i+="</div>"}function b(e){var t=0,i=$(".js-review-images-slider"),a=$(".js-review-images-slider-nav");if(i.on("init reInit afterChange",function(i,o,s,n){var r=$(".js-review-images-slider-count"),l=a.find(".js-slider-thumbnails"),d=void 0!==s?s:e,c=d+1;t=o.slideCount,r.removeClass("is-hidden"),l.removeClass("active"),r.text(c+" / "+t);var u=l.eq(d);u.addClass("active"),void 0!==s&&a.animate({scrollLeft:u[0].offsetLeft,behavior:"auto"})}),!global.isMobile()){var o,s,n=a,r=!1,l=!1,d=0,c=function(e){e.preventDefault(),e.stopImmediatePropagation()};n.on("mousedown",function(e){r=!0,n.addClass("active"),o=e.pageX-n[0].offsetLeft,s=n[0].scrollLeft}),n.on("mouseleave",function(e){r=!1,n.removeClass("active")}),n.on("mouseup",function(e){var t=$(e.target).closest(".js-slider-thumbnails");l&&d>2?t.on("click",c):t.off("click",c),r=!1,n.removeClass("active"),l=!1}),n.on("mousemove",function(e){if(r){l=!0,e.preventDefault();var t=e.pageX-n[0].offsetLeft;d=2*(t-o),n[0].scrollLeft=s-d}})}i.slick({infinite:!1,arrows:!0,dots:!1,slidesToShow:1,slidesToScroll:1,initialSlide:e,prevArrow:"<button type='button' class='slick-prev slick-arrow'><i class='icon icon-left-arrow'></i></button>",nextArrow:"<button type='button' class='slick-next slick-arrow'><i class='icon icon-right-arrow'></i></button>"})}function y(){$(document).on("click",".js-slider-thumbnails",function(){var e=$(this),t=e.attr("data-index");e.hasClass("active")||$(".js-review-images-slider").slick("slickGoTo",t)})}var C=$(".js-seller-product").data("productid")||$(".js-product-id").data("id"),w=window.location.pathname,k=w+window.location.search,_=$(".js-seller-question-wrapper"),S=$("#customer-comments");return{init:e,alertPopupContent:s,askQuestionCharacterControl:m,clickPopupCommentCriteria:r,reviewImagesVisibility:g,initReviewsImagesPopup:v}}(),customizableProduct=function(){"use strict";function e(){v(),f(),b(),r(),j(),n(),u(),l(),k(),S(),s(),o(),t(),p(),x()}function t(){$(document).on("click",".js-multiple-file-input",function(){this.value=null}),$(document).on("change",".js-multiple-file-input",function(){i(this.files)})}function i(e){$.each(e,function(e,t){$(".js-upload-reset").is(":visible")&&$(".js-upload-reset").trigger("click"),$(".js-custom-image-size-notification").remove(),e<$(".custom-image__input").length&&a($(".custom-image__input")[e],t)})}function a(e,t){var i,t=t,a=global.generateUID()+"_"+t.name,o=$(e).data("dimensions"),s=new FileReader;t.type.match(/image.*/)&&s.readAsDataURL(t),s.addEventListener("load",function(s){var n=$(".js-custom-image-upload-detail"),r=JSON.parse(n.html()).UploadDetail;if(t&&t.size>1024*r.maxSize*1024){var l=new Image;l.onload=function(){i=m(l),g(i,a,$(e),r,o,t)},l.src=s.target.result}else i=s.target.result,g(i,a,$(e),r,o,t)},!1)}function o(){setTimeout(function(){var e=$(".js-custom-image-sortable").length;if(e>0){var t=[];$(".js-custom-image-index").each(function(e){t.push($(".js-custom-image-index").eq(e).text())}),$(".js-custom-image-sortable").sortable({handle:".js-icon-sortable",connectWith:".js-icon-sortable",items:".custom-image__wrapper",update:function(){$(".js-custom-image-index").each(function(e){$(this).html(t[e])})},start:function(e,t){t.placeholder.addClass("plus"),t.item.addClass("custom-image__wrapper--orange")},stop:function(e,t){setTimeout(function(){t.item.removeClass("custom-image__wrapper--orange")},200)}}).disableSelection()}},250)}function s(){D.hasClass("customizable")&&"scrollRestoration"in history&&(history.scrollRestoration="manual")}function n(){$(".js-option-set-detail-value").on("change",function(){var e=$(this).siblings("input")[1],t=$(this).children("option:selected").text();e.value=t})}function r(){$(document).ready(function(){var e=$(".js-custom-image-container"),t=$(".js-custom-image-location"),i=$(".js-cutom-image-collapse");void 0!==e&&null!==e&&e.length>0&&(void 0!==t&&null!==t&&t.length>0&&(t.html(e.html()).css("display","inline-block"),i.remove()),e.attr("hidden",!1),c())})}function l(){$(".js-customizable-input").each(function(){$(this).attr("maxlength");$(this).attr("onkeypress","if(this.value.length >= maxLength) return false;")})}function d(e,t,i){var a=i.closest(".custom-image__wrapper");a.find(".custom-image__img-container").append('<img class="custom-image__uploaded-image" src="'+e+'">').removeClass("hide"),a.find(".js-upload-reset-container").html("").append('<a href="javascript:void(0)" class="js-upload-reset"><span class="icon-custom-image-close custom-image__reset-button"></span> Sil</a>'),i.closest(".custom-image__upload-button").hasClass("validation-error")&&i.closest(".custom-image__upload-button").removeClass("validation-error")}function c(){$(".custom-image__input").on("click",function(e){h($(e.target))})}function u(){function e(e){var t=parseInt(e.attr("maxlength")),i=e.val().length,a=e.parents(".form-group");a.find(".js-customizable-counter-label").remove(),i<=0?a.append('<span class="form-group__customizable-label js-customizable-counter-label">'+t+" karakter yazabilirsiniz.</span>"):i==t?a.append('<span class="form-group__customizable-label js-customizable-counter-label">Maksimum karakter uzunluğa ulaştınız.</span>'):a.append('<span class="form-group__customizable-label js-customizable-counter-label">'+parseInt(t-i)+" karakter daha yazabilirsiniz.</span>")}$(".js-customizable-counter").on("keyup",function(){e($(this))}),$(".js-customizable-counter").length>0&&$(".js-customizable-counter").each(function(){e($(this))})}function p(){$(document).on("click",".js-upload-reset",function(e){var t=$(e.target).parents(".custom-image__wrapper").find(".custom-image__input");$(e.target).parents(".custom-image__wrapper").find(".custom-image__img-container").removeClass("validation-error").addClass("hide").find(".custom-image__uploaded-image").remove(),$(e.target).parents(".custom-image__wrapper").find(".js-custom-image-size-notification").remove(),$(e.target).parents(".custom-image__wrapper").find(".js-custom-image-dimension-notification").remove(),t.attr("disabled",!1),$(e.target).parents(".custom-image__wrapper").find(".custom-image__upload-button").removeClass("hide"),t.val("");var i=t.attr("id");$(".js-custom-image-url-"+i).attr("value",""),$(this).remove()})}function h(e){e.on("change",function(e){var t,i=$(this),a=e.target.files[0],o=global.generateUID()+"_"+a.name,s=$(e.target).data("dimensions"),n=new FileReader;a.type.match(/image.*/)&&n.readAsDataURL(a),n.addEventListener("load",function(e){var n=$(".js-custom-image-upload-detail"),r=JSON.parse(n.html()).UploadDetail;if(a&&a.size>1024*r.maxSize*1024){var l=new Image;l.onload=function(){t=m(l),g(t,o,i,r,s,a)},l.src=e.target.result}else t=e.target.result,g(t,o,i,r,s,a)},!1),e.stopImmediatePropagation()})}function m(e){var t,i={w:"3840",h:"2160"},a=document.createElement("canvas"),o=a.getContext("2d");e.width>e.height?(t=i.w/e.width,t>1?(a.width=e.width,a.height=e.height):(a.width=i.w,a.height=e.height*t)):(t=i.h/e.height,t>1?(a.width=e.width,a.height=e.height):(a.height=i.h,a.width=e.width*t));for(var s=o.getImageData(0,0,a.width,a.height),n=s.data,r=0;r<n.length;r+=4)n[r+3]<255&&(n[r]=255,n[r+1]=255,n[r+2]=255,n[r+3]=255);return o.putImageData(s,0,0),o.drawImage(e,0,0,e.width,e.height,0,0,a.width,a.height),a.toDataURL("image/jpeg")}function g(e,t,i,a,o,s){var n,r=window.URL||window.webkitURL,l=new FormData;l.append("image",e.split(",")[1]),l.append("name",t),l.append("path",a.path+"/"+a.uniqueFolder),l.append("isCart",a.isCart);var c,u=new XMLHttpRequest;u.open("POST",a.url,!0),u.send(l),global.createOverlay(),u.onreadystatechange=function(){if(4===u.readyState&&(c=u.status,200===c)){n=new Image,n.onload=function(){var e=i.parents(".custom-image__wrapper").find(".custom-image__img-container");if(this.width<o.UploadItemDetail.width||this.height<o.UploadItemDetail.height)i.parents(".custom-image__wrapper").find(".js-custom-image-index").before('<span class="custom-image__notification-text js-custom-image-dimension-notification">Minimum 500px olmalıdır.</span>'),e.addClass("validation-error");else{e.removeClass("validation-error");var t=0;$(".js-custom-image-validation").each(function(){$(this).siblings(".custom-image__wrapper").find(".custom-image__img-container").hasClass("validation-error")&&t++}),0===t&&($(".js-customized-product-validation-message").addClass("hide"),$(".js-customized-product-image-size-message").addClass("hide"))}};var l=JSON.parse(u.responseText),p=new RegExp(a.path+"(.*)$"),h=p.exec(l.Path);$(".js-custom-image-url-"+i.attr("id")).attr("value","/"+h[0]),n.src=r.createObjectURL(s),i.closest(".custom-image__upload-button").addClass("hide"),i.attr("disabled","disabled"),d(e,t,i),global.removeOverlay()}}}function v(){$(document).on("textchange",".js-chocolate-input",function(){var e=$(":focus"),t=e.data("chocolate-row"),i=e.val().replace("i","İ").replace("ı","I").toUpperCase();e.val(C(i).newValue),w(t,C(i).newValueArray)})}function f(){$(document).on("click",".js-chocolate-button",function(){var e,t=$(this).data("chocolate-icon"),i=$(this).parents(".form-group").find(".js-chocolate-input"),a=i.data("chocolate-row"),o=i.val();switch(t){case"love":e="♥";break;case"happy":e="▲";break;case"unhappy":e="▼";break;default:return!1}if(i.val().length>=M)return!1;if(o.length+e.length<=M){i.val(o+e);var s=parseInt(i.attr("maxlength")),n=i.val().length,r=i.parents(".form-group");r.find(".js-customizable-counter-label").remove(),n<=0?r.append('<span class="form-group__customizable-label js-customizable-counter-label">'+s+" karakter yazabilirsiniz.</span>"):n==s?r.append('<span class="form-group__customizable-label js-customizable-counter-label">Maksimum karakter uzunluğa ulaştınız.</span>'):r.append('<span class="form-group__customizable-label js-customizable-counter-label">'+parseInt(s-n)+" karakter daha yazabilirsiniz.</span>"),w(a,C(i.val()).newValueArray),i.focus().blur()}})}function b(){$("#customProduct").on("show.bs.collapse",function(){A.addClass("is-active")}).on("hide.bs.collapse",function(){A.removeClass("is-active")})}function y(e){var t=/[ABCÇDEFGHIİJKLMNOÖPQRSŞTUÜWVXYZ0123456789♥▼▲()\-\!&?\s]/g;return e.match(t)}function C(e){for(var t=[],i=[],a=0;a<e.length;a++)if(null!==y(e[a]))switch(t.push(e[a]),e[a]){case"♥":i.push('<span class="icon-love-fill chocolate__icon"></span>');break;case"▲":i.push('<span class="icon-happy chocolate__icon"></span>');break;case"▼":i.push('<span class="icon-unhappy chocolate__icon"></span>');break;default:i.push(e[a])}return{newValue:t.join(""),newValueArray:i}}function w(e,t){var i=$('.js-chocolate-row[data-chocolate-row="'+e+'"]'),a=i.find(".js-chocolate-cell"),o=Math.floor((M-t.length)/2);a.html("");for(var s=0;s<t.length;s++)a.eq(o+s).html(t[s])}function k(){$(".js-add-to-cart-customize-product").on("click",function(){$(".js-spotify-error").hide().html();var e=_(),t=0;if($(".js-custom-image-validation").each(function(){$(this).siblings(".custom-image__wrapper").find(".custom-image__img-container").hasClass("validation-error")&&t++}),0===t&&$(".js-customized-product-image-size-message").addClass("hide"),e&&0===t){global.removeOverlay(),global.createOverlay();var i=$(this).parents(".js-product-detail-customizable-form"),a=$("#product-action-page-screen-event-model-name").val(),o=$("#product-action-page-screen-event-model-data").val();$(this).hasClass("js-add-to-cart-spotify")?$.ajax({url:"/Common/ValidSpotifyLink?link="+$(".js-spotify-input").val(),success:function(e){return e.IsValid?($(".js-spotify-input").removeClass("input-validation-error"),$(".js-spotify-error").hide().html(),i.submit(),void 0):($(".js-spotify-input").addClass("input-validation-error"),$(".js-spotify-error").html(e.Message).show(),!1)}}):i.submit(),o&&""!==o&&segment.trackFunc(a,JSON.parse(o)),setTimeout(function(){global.removeOverlay()},1500)}else if(e&&0!==t)$(".js-customized-product-image-size-message").removeClass("hide"),$(".js-customized-product-validation-message").addClass("hide");else if($(".js-customized-product-image-size-message").addClass("hide"),$(".js-customized-product-validation-message").removeClass("hide"),$(".product__error").is(":visible")&&global.isMobile()){var s=$(".product__error:visible:first").offset().top;global.scrollGoto(s-90)}else if($(".product__error").is(":visible")){var s=$(".product__error:visible:first").offset().top;global.scrollGoto(s-190)}else if($(".product__error").hasClass("v-error")&&global.isMobile()){var s=$(".js-product-error--custom-image-button.v-error:first").offset().top;global.scrollGoto(s-90);
}else if($(".product__error").hasClass("v-error")){var s=$(".js-product-error--custom-image-button.v-error:first").offset().top;global.scrollGoto(s-190)}})}function _(){$(".product__error").css("display","none");var e=$(".js-required-error"),t=$(".js-confirmation-error"),i=!0,a=$(".js-product-customize");P=$(".js-product-customize-multiple").data("variantid");var o=$(".js-confirm-ceditor"),s=$(".js-confirm-ceditor-label"),n=$(".js-product-error--confirm-ceditor");e.slideUp(200),L.slideUp(200),a.removeClass("has-error"),O.removeClass("input-validation-error"),O=$('.js-product-customize-multiple[data-variantid="'+P+'"] .js-customizable-input');var r=$(".js-product-error--confirmation"),l=$(".js-product-error--custom-image-button");if($.each(O,function(){$(this).data("required")&&""===$.trim($(this).val())?(i=!1,$(this).addClass("input-validation-error"),$(this).closest(".form-group").find(".js-product-error--customization").slideDown()):$(this).addClass("valid")}),$(".product__error").is(":visible")&&global.isMobile()){var d=$(".product__error:visible:first").offset().top;global.scrollGoto(d-100),$(".product__error:visible:first").prev(".input-validation-error").focus()}else if($(".product__error").is(":visible")){var d=$(".product__error:visible:first").offset().top;global.scrollGoto(d-200),$(".product__error:visible:first").prev(".input-validation-error").focus()}return i?(e.slideUp(200),L.slideUp(200),a.removeClass("has-error"),O.removeClass("input-validation-error")):(e.slideDown(200),a.addClass("input-validation-error")),$(".js-custom-image-validation").each(function(){var e=$(this)[0];""===e.value?$(this).siblings(".custom-image__wrapper").find($("#"+$(this).data("detail-value-id"))).closest(".custom-image__upload-button").addClass("validation-error"):$(this).siblings(".custom-image__wrapper").find($("#"+$(this).data("detail-value-id"))).closest(".custom-image__upload-button").removeClass("validation-error")}),$(".js-customize-confirmation").length>0&&$(".js-customize-confirmation").is(":checked")===!1?(t.slideDown(200),r.slideDown(),s.addClass("has-error"),$(".js-customize-confirmation-label").addClass("has-error"),i=!1,$.publish("popup-noCheckbox-validate",null)):$(".js-customize-confirmation").length>0&&$(".js-customize-confirmation").is(":checked")===!0?(t.slideUp(200),$(".js-customize-confirmation-label").removeClass("has-error"),$(".custom-image__upload-button").length>0&&($(".custom-image__upload-button").hasClass("validation-error")||O.hasClass("valid")?$(".custom-image__upload-button").hasClass("validation-error")&&!O.hasClass("valid")?i=!1:$(".custom-image__upload-button").hasClass("validation-error")&&O.hasClass("valid")&&(l.css("display","block").addClass("v-error"),i=!1):i=!1,$(".custom-image__upload-button").each(function(e){$(this).hasClass("validation-error")||$(".product__error").eq(e).removeClass("v-error")}))):!T()||!o.is(":disabled")&&o.is(":checked")?T()&&""===$(".js-ceditor-printable-image").eq(0).val()?i=!1:(t.slideUp(200),i=!($(".custom-image__upload-button").hasClass("validation-error")&&O.length>0&&!O.hasClass("valid"))&&(!(!$(".custom-image__upload-button").hasClass("validation-error")&&O.length>0&&!O.hasClass("valid"))&&(!($(".custom-image__upload-button").hasClass("validation-error")&&O.length>0&&O.hasClass("valid"))&&!$(".custom-image__upload-button").hasClass("validation-error")))):(n.slideDown(),s.addClass("has-error"),i=!1),i}function S(){$("body").on("change",".js-confirm-ceditor",function(){$(this).is(":checked")===!0&&($(".js-confirm-ceditor-label").removeClass("has-error"),$(".js-product-error--confirm-ceditor").slideUp())})}function T(){return $("main").hasClass("smart-custom")}function j(){$(document).on("click",".js-customize-confirmation",function(){_()&&$(this).is(":checked")===!0&&($(".js-required-error").slideUp(200),$(".js-confirmation-error").slideUp(200),setTimeout(function(){E.modal("hide")},400))})}function x(){z.bind("keypress",function(e){if(13===e.which&&"TEXTAREA"!==e.target.nodeName)return e.preventDefault(),!1})}var D=$("main"),I=$(".js-product-datas"),P=I.data("variant-id"),A=$(".js-product-customize-wrapper"),E=$(".js-modal-customize"),O=$('.js-product-customize-multiple[data-variantid="'+P+'"] .js-customizable-input'),M=parseInt($(".js-customizable-input").first().attr("maxlength")),L=$(".js-product-error--customization"),z=$("#productDetailSend");return{init:e,validateCustomizationFields:_,submitCustomization:j,newImageFromCanvas:m}}(),multipleVariants=function(){"use strict";function e(){null!==g&&(C=JSON.parse(g.innerHTML),C.forEach(function(e){e.isDefault&&(T=e)})),t(),i(),a(),pageProduct.thumbGenerateControl($(".product__thumbs")),j=T.detailValueIds;var e=document.querySelectorAll(".js-multiple-variant-input[data-is-color=true]"),o=document.querySelectorAll(".js-multiple-variant-input[data-is-size=true]");j.forEach(function(t){for(var i=0;i<e.length;i++)e[i].getAttribute("data-value-id")==t&&e[i].nextElementSibling.click()}),null!=o&&null!=e&&1==o.length&&1==e.length&&o[0].nextElementSibling.click()}function t(){f.forEach(function(e){e.disabled=!1,e.addEventListener("click",n)})}function i(){b.forEach(function(e){e.disabled=!1,e.addEventListener("click",r)})}function a(){$(y).on("change",function(){""!=$(this).val()?s():o()})}function o(){b.forEach(function(e){e.nextElementSibling.classList.contains("disabled")&&(e.disabled=!1,e.nextElementSibling.classList.remove("disabled"))}),f.forEach(function(e){e.nextElementSibling.classList.contains("disabled")&&(e.disabled=!1,e.nextElementSibling.classList.remove("disabled"))})}function s(e){var t=[],i=$(y).val();C.forEach(function(e){if(e.detailValueIds.includes(i)&&e.isActive){var a=e.detailValueIds.filter(function(e){return e!=i});t.push(a[0])}}),f.forEach(function(e){t.includes(e.dataset.valueId)?(e.nextElementSibling.classList.remove("disabled"),e.disabled=!1):(e.nextElementSibling.classList.add("disabled"),e.disabled=!0,e.checked=!1)}),b.forEach(function(e){t.includes(e.dataset.valueId)?(e.nextElementSibling.classList.remove("disabled"),e.disabled=!1):(e.nextElementSibling.classList.add("disabled"),e.disabled=!0,e.checked=!1)});var a=v.filter(function(e){return e.checked===!0});(a.length>=2||1===a.length&&""!=$(y).val())&&l()}function n(e){$(".js-variant-change-disable-mask").removeClass("hidden"),x=[],D=[];var t=$(e.target).data("value-id"),a=$(e.target).data("pid"),o=($(".js-product-id").val(),[]),s=!1;$.ajax({type:"GET",url:"/Product/GetProductDetailsByOptionId?productId="+a+"&optionId="+t,success:function(t){var a=t.Variants,n=t.ProductPrice.CurrencySymbol,r=t.SegmentProductVariantsViewModel,d=t.PictureModels,c={productThumbs:d},u=t.ProductDetailSizeModel.ProductDetailValueModels,m=t.ProductDetailSizeModel.Name;p(u,m),v=Array.from(document.querySelectorAll(".js-multiple-variant-input")),b=Array.from(document.querySelectorAll('.js-multiple-variant-input[data-value-type="mutual"]')),i();for(var g=0;g<a.length;g++){for(var T={},j={},E=[],O=0;O<a[g].ProductDetails.length;O++)E.push(JSON.stringify(a[g].ProductDetails[O].DetailValues[0].Id));var M=1==a[g].Price.IgnoreFirstPriceWithPeriodicallyState?"0":a[g].Price.OldPriceWithTax.toFixed(2).replace(".",","),L=null==a[g].Price.DiscountPercentage?0:a[g].Price.DiscountPercentage;T.variantId=a[g].Id,T.isActive=a[g].IsActive,T.isDefault=a[g].IsDefault,T.firstPrice="0,00"==M?"0":M,T.totalPriceInt=a[g].Price.TotalPrice.toFixed(2).split(".")[0],T.totalPriceDecimal=a[g].Price.TotalPrice.toFixed(2).split(".")[1],T.discountPercentage=1==a[g].Price.IgnoreFirstPriceWithPeriodicallyState?0:L,T.currency=n.trim(),T.variantCode=a[g].VariantCode,T.name=a[g].Name,T.detailValueIds=E,T.webToAppCampaignType=a[g].WebToAppCampaignType,T.originalTotalPrice=a[g].Price.TotalPriceWithoutDateBasedDiscount,T.isDateBasedCartDiscountAvailable=a[g].Price.IsDateBasedCartDiscountAvailable,T.dateBasedDiscountText=a[g].Price.DateBasedCartDiscountText,T.ignoreFirstPriceWithPeriodicallyState=a[g].Price.IgnoreFirstPriceWithPeriodicallyState,j.variantId=a[g].Id,j.variantDescription=a[g].ProductRelation.Description,j.variantVideo=a[g].DescriptionYoutubeLink,x.push(T),D.push(j)}$(".js-variant-change-disable-mask").addClass("hidden"),C=x,$(".js-product-detail-relations").html(JSON.stringify(x)),$("#segment-product-variant-data").val(r);var z=[];if(""!=$(e.target).data("value-name")){var F=$(e.target).data("value-name");$(e.target).parents(".multiple-variants").prev().find(".js-selected-property-name").html(" : "+F),$(".js-selected-base-property-name").html(" : "+F)}if(s=!0,f.forEach(function(t){t===e.target?(_="","true"==e.target.getAttribute("data-is-color")&&(_=$(e.target).data("value-id"),C.forEach(function(e){if(e.detailValueIds.indexOf(_.toString())>-1&&s)return S=JSON.stringify(e.variantId),A&&pageProduct.thumbGenerateControlHack($(".product__thumbs"),S,c),A=!0,s=!1,!1})),$(e.target).data("value-id")!=k?(t.checked=!0,k=$(e.target).data("value-id")):(t.checked=!1,k=void 0,$(e.target).parents(".multiple-variants").prev().find(".js-selected-property-name").html(""),$("body").click())):t.checked=!1}),C.forEach(function(t){if($(e.target).is(":checked")){if(t.detailValueIds.includes(e.target.dataset.valueId)&&t.isActive){var i=t.detailValueIds.filter(function(t){return t!=e.target.dataset.valueId});z.push(i[0])}if(t.detailValueIds.includes(e.target.dataset.valueId)){var a=t.detailValueIds.filter(function(t){return t!=e.target.dataset.valueId});o.push(a[0])}}else if(b.forEach(function(e){e.nextElementSibling.classList.remove("disabled"),e.disabled=!1,e.nextElementSibling.parentNode.classList.remove("hidden")}),$(y).length>0)for(var s=$(y).find("option").not('[value=""]'),n=0;n<s.length;n++)s[n].disabled=!1}),$(y).length>0)for(var B=$(y).find("option").not('[value=""]'),g=0;g<B.length;g++)z.includes(B[g].value)?B[g].disabled=!1:B[g].disabled=!0;z.length>0?(b.forEach(function(e){e.nextElementSibling.parentNode.classList.remove("hidden"),z.includes(e.dataset.valueId)?(e.nextElementSibling.classList.remove("disabled"),e.disabled=!1):(e.checked&&(w=void 0),e.nextElementSibling.classList.add("disabled"),e.disabled=!0,e.checked=!1,$(e).data("value-name")==$(".js-selected-mutual-property-name").attr("data-property-name")&&$(".js-selected-mutual-property-name").html(""))}),b.length==Array.from(document.querySelectorAll('.js-multiple-variant-input[data-value-type="mutual"][disabled]')).length?I.innerText="Bu rengin tüm seçenekleri tükendi":I.innerText=P):0==z.length&&void 0!=k&&(b.forEach(function(e){e.nextElementSibling.parentNode.classList.remove("hidden"),e.checked&&(w=void 0),e.nextElementSibling.classList.add("disabled"),e.disabled=!0,e.checked=!1,$(e).data("value-name")==$(".js-selected-mutual-property-name").attr("data-property-name")&&$(".js-selected-mutual-property-name").html("")}),b.length==document.querySelectorAll('.js-multiple-variant-input[data-value-type="mutual"][disabled]').length?I.innerText="Bu rengin tüm seçenekleri tükendi":I.innerText=P),o.length>0&&(b.forEach(function(e){o.includes(e.dataset.valueId)||e.nextElementSibling.parentNode.classList.add("hidden")}),1==o.length&&(b[0].checked=!0));var R=v.filter(function(e){return e.checked===!0});(R.length>=2||1===R.length&&$(y).length>0&&""!=$(y).val())&&l(),h&&pageProduct.cloneVariants()},error:function(){$(".js-variant-change-disable-mask").addClass("hidden")}})}function r(e){var t=[];if(""!=$(e.target).data("value-name")&&(h||1==document.querySelectorAll(".js-multiple-variant-input[data-is-size=true]").length)){var i=$(e.target).data("value-name");$(e.target).parents(".multiple-variants").prev().find(".js-selected-property-name").html(" : "+i),$(".js-selected-mutual-property-name").html(" : "+i),$(".js-selected-mutual-property-name").attr("data-property-name",i)}if(b.forEach(function(t){t===e.target?$(e.target).data("value-id")!=w?(t.checked=!0,w=$(e.target).data("value-id")):(t.checked=!1,w=void 0,h&&($(".js-selected-mutual-property-name").html(""),$(".js-selected-mutual-property-name").attr("data-property-name",""))):t.checked=!1}),C.forEach(function(i){if($(e.target).is(":checked")){if(i.detailValueIds.includes(e.target.dataset.valueId)&&i.isActive){var a=i.detailValueIds.filter(function(t){return t!=e.target.dataset.valueId});t.push(a[0])}}else if(f.forEach(function(e){e.nextElementSibling.classList.remove("disabled"),e.disabled=!1}),$(y).length>0)for(var o=$(y).find("option").not('[value=""]'),s=0;s<o.length;s++)o[s].disabled=!1}),$(y).length>0)for(var a=$(y).find("option").not('[value=""]'),o=0;o<a.length;o++)t.includes(a[o].value)?a[o].disabled=!1:a[o].disabled=!0;t.length>0?f.forEach(function(e){t.includes(e.dataset.valueId)?(e.nextElementSibling.classList.remove("disabled"),e.disabled=!1):e.checked&&($(e).parents(".multiple-variants").prev().find(".js-selected-property-name").html(""),k=void 0)}):0==t.length&&void 0!=w&&f.forEach(function(e){e.checked&&($(e).parents(".multiple-variants").prev().find(".js-selected-property-name").html(""),k=void 0)});var s=v.filter(function(e){return e.checked===!0});(s.length>=2||1===s.length&&""!=$(y).val())&&l(),h&&pageProduct.cloneVariants()}function l(){var e=[];v.filter(function(t){t.checked===!0&&e.push(t.dataset.valueId)}),e.length<2&&e.push($(y).val()),C.forEach(function(t){if(JSON.stringify(t.detailValueIds)===JSON.stringify(e)||JSON.stringify(t.detailValueIds)===JSON.stringify(e.reverse())){var i,a,o,s,n,r=!0,l=!0,p=t.ignoreFirstPriceWithPeriodicallyState;if(t.totalPriceInt.length>=5?(i=parseInt(t.totalPriceInt).priceFormat(0,3,".",","),a="",r=!1):(i=t.totalPriceInt,a=t.totalPriceDecimal),t.originalTotalPrice.toString().split(".")[0].length>=5?(s=parseInt(t.originalTotalPrice.toString().split(".")[0]).priceFormat(0,3,".",","),n=""):(s=t.originalTotalPrice.toString().split(".")[0],n=t.originalTotalPrice.toFixed(2).split(".")[1]),t.firstPrice.split(",")[0].length>=5?(o=""!=t.firstPrice&&0!=t.firstPrice?parseInt(t.firstPrice).priceFormat(0,3,".",","):0,l=!1):o=t.firstPrice,d(i,a,t.currency,o,t.discountPercentage,r,l,t.dateBasedDiscountText,t.isDateBasedCartDiscountAvailable,s,n,p),c(t.variantId),u(t.variantCode),D.length>0){var h=jQuery.grep(D,function(e){return e.variantId==t.variantId});pageProduct.productSetVariantDescriptions(h)}pageProduct.productChangeDescriptions(t.variantId),pageProduct.fetchProductDatas(!0),pageProduct.getDiscountTimer(),segment.productViewEvent(),wallet.getProductDetailWalletBanner()}})}function d(e,t,i,a,o,s,n,r,l,d,c,u){var p=$(".js-price-container[data-actionprice]"),h=$(".js-price-container .js-price-integer"),m=$(".js-price-container .js-price-decimal"),g=$(".js-price-container"),v=$(".product__info__old-price .js-old-price"),f=$(".js-discount-percentage"),b=$(".js-date-based-discount-percentage-text"),y=$(".js-date-based-original-price"),C=$(".js-date-based-original-price-integer"),w=$(".js-date-based-original-price-decimal"),k=$(".js-set-date-base-campaing-class");p.attr("data-actionprice",e+","+e),h.text(e),s?m.html(","+t+"&nbsp;"+i):m.html("&nbsp;"+i),g.attr("data-price",e+"."+t),n?v.html(a+"&nbsp;"+i):v.html(a+"&nbsp;"+i),f.text("%"+o),""==o||0==o?(f.text(""),f.addClass("hide"),$(".js-discount-percentage-box").addClass("hide")):l||(f.removeClass("hide"),$(".js-discount-percentage-box").removeClass("hide")),""==a||0==a?(v.text(""),v.addClass("hide")):v.removeClass("hide"),l?(k.addClass("has-date-base-discount"),p.addClass("discount-price"),b.html(r),b.parents(".js-date-based-discount-percentage-text-parent").removeClass("hide"),C.text(d),s?w.html(","+c+"&nbsp;"+i):w.html("&nbsp;"+i),y.removeClass("hidden"),v.text(""),v.addClass("hide")):(k.removeClass("has-date-base-discount"),y.addClass("hidden"),p.removeClass("discount-price"),b.html(""),b.parents(".js-date-based-discount-percentage-text-parent").addClass("hide"),v.removeClass("hide")),u&&y.addClass("hidden")}function c(e){m.value=e,$(".js-product-datas").data("variant-id",e),document.querySelector(".js-product-customize-multiple")&&document.querySelector(".js-product-customize-multiple").setAttribute("data-variantid",e),document.querySelector(".js-product-customize-content")&&document.querySelector(".js-product-customize-content").setAttribute("id","customProduct-"+e),document.querySelector(".js-customize-confirmation")&&document.querySelector(".js-customize-confirmation").setAttribute("id","confirmation-"+e),document.querySelector(".js-customize-confirmation-label")&&document.querySelector(".js-customize-confirmation-label").setAttribute("for","confirmation-"+e),$(".js-change-variant-id").length>0&&(document.querySelector(".js-change-variant-id").value=e,pageProduct.changeBannerDependsVariant())}function u(e){$(".js-product-datas").data("variant-code",e)}function p(e,t){for(var i="",a=0;a<e.length;a++)i+='<li class="multiple-variants__item">',i+='<input class="js-multiple-variant-input" data-is-size="true" data-value-id="'+e[a].ProductDetailValueId+'" data-value-name="'+e[a].Name+'" data-value-type="mutual" id="productDetailValue-'+e[a].ProductDetailValueId+'" name="productDetailValue-'+e[a].ProductDetailValueId+'" type="radio" value="'+t+'">',i+='<label class="multiple-variants__label js-multiple-variants-label-mutual js-clickable-by-tab multiple-variants__label--mutual" data-value-id="'+e[a].ProductDetailValueId+'" for="productDetailValue-'+e[a].ProductDetailValueId+'">',i+='<span class="multiple-variants__label-text">'+e[a].Name+"</span>",i+="</label>",i+="</li>";w=void 0,b.forEach(function(e){e.checked=!1}),$(".js-mutual-variants").html(i)}var h=$(window).width()<=600;Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},i=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},a=Math.pow(2,53)-1,o=function(e){var t=i(e);return Math.min(Math.max(t,0),a)};return function(e){var i=this,a=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var s,n=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof n){if(!t(n))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(s=arguments[2])}for(var r,l=o(a.length),d=t(i)?Object(new i(l)):new Array(l),c=0;c<l;)r=a[c],n?d[c]="undefined"==typeof s?n(r,c):n.call(s,r,c):d[c]=r,c+=1;return d.length=l,d}}());var m=document.getElementById("variantID"),g=document.querySelector(".js-product-detail-relations"),v=(document.querySelector(".js-add-to-cart"),document.querySelector(".js-product-title"),Array.from(document.querySelectorAll(".js-multiple-variant-input"))),f=Array.from(document.querySelectorAll('.js-multiple-variant-input[data-value-type="base"]')),b=Array.from(document.querySelectorAll('.js-multiple-variant-input[data-value-type="mutual"]')),y=Array.from(document.querySelectorAll('.js-multiple-variant-input[data-value-type="combobox"]')),C={},w=void 0,k=void 0,_=void 0,S=void 0,T=void 0,j=void 0,x=[],D=[],I=void 0,P="",A=!1;return null!=document.querySelector(".js-product-error--multiple-variants-mutual")&&(I=document.querySelector(".js-product-error--multiple-variants-mutual").firstElementChild,P=I.innerText),Number.prototype.priceFormat=function(e,t,i,a){var o="\\d(?=(\\d{"+(t||3)+"})+"+(e>0?"\\D":"$")+")",s=this.toFixed(Math.max(0,~~e));return(a?s.replace(".",a):s).replace(new RegExp(o,"g"),"$&"+(i||","))},{init:e}}(),districtSearch=function(){"use strict";var e=$(".js-district-search"),t=$(".js-trigger-district-search"),i=$(".js-district-dropdown"),a=$(".js-district-menu-container"),o=$("main"),s=function(){e.liveSearch({baseClass:"district-search",queryUrl:"CitySelector/GetAddressFinder",showLoaderIn:"",queryCountryCode:"countryCode",queryToken:"sessiontoken",submitByEnter:!0,delay:1e3,placeholder:"Mahalle, okul, hastane vb. yazın",generateHtml:function(e,t,i){var a="",o=e+"-"+t,i=i;return a+='<div class="district-search-warning js-district-search-warning hide"><div class="icon-wrapper"><span class="icon icon-info-alert"></span></div><p class="district-search-warning__text">En uygun gönderim zamanını seçerek sipariş verebilmek için gönderim yeri seçmelisin.</p></div>',a+='<div id="'+o+'" class="'+e+'__container">',a+='<div class="district-search-button js-district-search-button-wrapper">',a+='<div class="district-search-button__loading-spinner"></div>',a+='<div class="district-search-button__circle">',a+='<span class="icon-pin-filled district-search-button__icon-pin"></span>',a+="</div>",a+='<span class="district-search-button__text">',a+='<input type="text" class="form-control '+e+'__input js-district-search-button-input" placeholder="'+i+'" data-module-id="'+t+'"/>',a+="</span>",a+='<span class="icon-down-arrow-light district-search-button__icon-arrow js-district-search-down-arrow"></span>',a+='<span class="district-search-button__clear js-district-search-delete"></span>',a+="</div>",a+='<div class="'+e+'__results-wrapper js-district-search-results-wrapper">',a+='<ul class="'+e+'__results"></ul>',a+='<a class="'+e+"__showall js-"+e+'--showall btn btn-success" href="javascript:;">TÜM SONUÇLARI GÖSTER</a>',a+="</div>",a+="</div>"},renderResults:function(t,i,a){var o=$.parseJSON(i),s=t.baseClass,n="";t.limitCategoryItems,t.limitProductItems;$("."+s+"__container").addClass("loaded").removeClass("loading"),n+=$(".js-district-search-info-wrapper")[0].outerHTML;for(var r=0;r<o.length;r++){var l=o[r];n+='<li class="'+s+"__result "+s+'__result--category">',n+='<a href="javascript:void(0);" class="'+s+"__link js-"+s+'-result-link" data-address="'+l.Address+'" data-secondary-address="'+l.SecondaryAddress+'">',n+='<span class="'+s+'__link--icon icon icon-pin-filled"></span>',n+=a(l.Address,e.find("input").val()),n+="</a></li>"}return n}}),n()},n=function(){var s=$(".js-district-form"),n=$('[name="addressName"].js-district-form-input'),c=$("[name='addressId'].js-district-form-input"),u=$("[name='longitude'].js-district-form-input"),p=$("[name='latitude'].js-district-form-input"),h=$("[name='secondaryAddress'].js-district-form-input");s.on("submit",function(e){window.location.search.indexOf("page")>-1&&(e.preventDefault(),r("page"),e.target.submit())}),t.on("click",function(e){e.preventDefault(),e.stopPropagation(),l(),setTimeout(function(){$(".js-header-bottom").removeClass("responsive-header-active")},100),$(".js-district-search-button-input").focus();var t=$(window).width();t<768?($(".js-district-responsive-overlay").show(),$(".js-hamburger").addClass("hamburger--passive-29")):t>768&&$(".js-filter-item").hasClass("open")&&$(".js-filter-item").removeClass("open"),t<600&&"True"===$("#delivery-point-is-available").val()&&o.is(".product")&&!$(".js-user-address-list .js-address-menu-link-delivery-point").length&&$(".js-user-address-list").find("ul").append('<li class="adresses-menu__item js-address-menu-link-delivery-point">Kendim Alırım (Teslim Alma Noktası)</li>')}),$(".js-district-search-button-input").on("focus",function(){$(this).parents(".js-district-search-button-wrapper").addClass("focused")}),$(".js-district-search-button-input").on("blur",function(){$(this).parents(".js-district-search-button-wrapper").removeClass("focused")}),$(".js-district-search-down-arrow").on("click",function(){l()}),$(".js-district-search-delete").on("click",function(){var e=global.getCookie("addressName");if(""===e)$(".js-district-search-button-input").val("").focus(),a.show(),$(".js-district-info-wrapper").show(),$(".js-district-search-results-wrapper").hide(),$(".district-search__container").removeClass("loaded-with-error");else{$(".js-district-search-delete").hide();var t=$("input[name='PageType']").val(),i=$("input[name='CityContentType']").val(),o=window.location.search,s=null!=t?"/CitySelector/RemoveSelectedCityAndDistrict?pageType="+t:"/CitySelector/RemoveSelectedCityAndDistrict";null!=t&&null!=i&&""!==i&&(s=s+"&cityContentType="+i),"ProductDetail"===t&&global.setCookie("addressName","",-1),$.ajax({url:s,type:"POST",beforeSend:function(){global.createOverlay()},success:function(e){return""!==e?void(window.location.href=e):(o.indexOf("page")>-1&&r("page"),void window.location.reload())}})}}),e.find("input").on("keyup",function(){var e=$(this);""!==e.val()&&$.trim(e.val()).length>=3?(a.hide(),$(".js-district-info-wrapper").hide()):(a.show(),$(".js-district-info-wrapper").show()),""!==e.val()?$(".js-district-search-delete").show():$(".js-district-search-delete").hide()}),e.find("input").on("click",function(){var t=$(this);$(".js-district-search-button-text").hasClass("js-district-added")?e.find("input").val()===$(".js-trigger-district-search").data("address-name")&&t.val(""):t.focus()}),$(document).on("click",".js-district-search-result-link, .js-address-menu-link",function(){var e=$(this),t=$(".js-district-search").find("input").val().length;ga("send",{hitType:"event",eventCategory:"suggest",eventAction:"click",eventLabel:t});var i=$(this),a=i.data("address"),s=i.data("address-id")||"",r=i.data("long")||"",l=i.data("lat")||"",d=i.data("secondary-address");if(a&&n.val(a),s&&c.val(s),r&&u.val(r),l&&p.val(l),d&&h.val(d),$(".js-district-search").find("input").val(i.data("address-name")||a),o.is(".product")){global.setCookie("addressName",a,365);var m=""!=global.getCookie("spt_ab"),g=1==m?"/CitySelector/GetRegionIdByAddress?address="+encodeURIComponent(a)+"&secondaryAddress="+encodeURIComponent(d)+"&addressId="+s+"&addressLat="+l+"&addressLong="+r+"&sptab=true":"/CitySelector/GetRegionIdByAddress?address="+encodeURIComponent(a)+"&secondaryAddress="+encodeURIComponent(d)+"&addressId="+s+"&addressLat="+l+"&addressLong="+r;$.ajax({url:g,type:"GET",error:function(e){console.log(e)},success:function(t){var i=t.RegionId;null===t.SelectedAddress||""===t.SelectedAddress?global.setCookie("addressName","",-1):global.setCookie("addressName",t.SelectedAddress,365),null===t.SelectedCity||""===t.SelectedCity?global.setCookie("city","",-1):global.setCookie("city",t.SelectedCity,365),null===t.SelectedRegionList||""===t.SelectedRegionList?global.setCookie("regionlist","",-1):global.setCookie("regionlist",t.SelectedRegionList,365),null===t.IsCountrySelected||""===t.IsCountrySelected?global.setCookie("isCountrySelected","",-1):global.setCookie("isCountrySelected",t.IsCountrySelected,365),null!==i&&void 0!==i?pageProduct.fetchProductDatas(!0,i):pageProduct.fetchProductDatas(!0,0),e.find(".js-address-menu-icon-check").show(),$(".js-address-menu-link-delivery-point .js-address-menu-icon-check").hide(),setTimeout(function(){null!=t.VerifySelectedAddress?global.setCookie("userSelectedAddressAB",t.VerifySelectedAddress,365):global.setCookie("userSelectedAddressAB","",365),null===t.SelectedAddressId||""===t.SelectedAddressId?(global.setCookie("address","",-1),null===t.SelectedCityName&&""!==t.SelectedCityName||global.setCookie("selectedcityname",t.SelectedCityName,365),null===t.SelectedAddressWithquarter&&""!==t.SelectedAddressWithquarter||global.setCookie("selectedaddresswithquarter",t.SelectedAddressWithquarter,365)):(global.setCookie("address",t.SelectedAddressId,365),global.setCookie("selectedcityname","",-1),global.setCookie("selectedaddresswithquarter","",-1)),location.reload()},500)}})}else e.parents(".js-district-dropdown").find(".js-district-form").submit()}),$(document).on("click",function(e){!t.hasClass("is-active")||$(e.target).closest(i).hasClass("is-active")||$(e.target).hasClass("js-policy-close")||$(e.target).hasClass("js-product-action-button-text")||d()})},r=function(e){var t=window.location.origin+window.location.pathname+window.location.search.split(e)[0].slice(0,-1);history.replaceState({},document.title,t)},l=function(){if(i.hasClass("is-active"))d();else if($(window).width()<=768&&$("body").addClass("is-fixed"),i.addClass("is-active").removeClass("is-hidden"),t.addClass("is-active"),""!==t.data("address-name")){if($(".js-display-region-name").length>0)setTimeout(function(){$(".district-container").find(".district-search__input").val($(".js-display-region-name").val())},0);else if(e.find("input").val(t.data("address-name")),""!=$(".js-trigger-district-search").data("address-name")){$(".district-search__results").html(" ");var a=$(".district-search__results-wrapper").find(".product-search__noresults");a&&(a.remove(),$(".district-search__container").removeClass("loaded-with-error"))}$(".js-district-search-delete").show()}else $(window).width()>1199?e.find("input").focus():$(window).width()<=600&&""==$(".js-user-address-list").text().trim()&&("Android"==global.isMobile()?setTimeout(function(){e.find("input").focus()},200):e.find("input").focus())},d=function(){t.removeClass("is-active"),i.removeClass("is-active").addClass("is-hidden"),$(window).width()<768&&($(".js-district-responsive-overlay").hide(),$(".js-hamburger").removeClass("hamburger--passive-29")),$("body").removeClass("is-fixed")};return{init:s,resetDropdown:d,toggleDropdown:l}}(),districtMenu=function(){"use strict";var e=$(".js-district-menu-link"),t=$(".js-district-menu-link-show-all"),i=$("form.js-district-form"),a=$(".js-district-form-input"),o=$(".js-district-menu-all-container"),s=function(){n()},n=function(){e.on("click",function(e){var t=$(this),i=t.data("city-id"),a=t.text();if(""!==i){var o=$(this).closest(".js-district-menu-container"),s=o.find(".js-district-submenu-container");r(i,o,s,a)}}),$(document).on("click",".js-district-submenu-link",function(){var e=$(this),t=e.data("district-id");$(".js-district-search").find("input").val(e.text()),a.val(t),i.submit()}),t.on("click",function(){o.toggleClass("is-active")})},r=function(e,t,i,a){global.createLoaderIn(t),$.getJSON("/Common/GetRegions?cityid="+e+"&productgroupid=1",function(e){i.html(l(e,a)).addClass("is-active")}).always(function(){global.removeLoaderFrom(t)})},l=function(e,t){var i="";i+='<a href="javascript:void(0);" class="district-submenu-backlink js-district-menu-back-link"><span class="icon icon-left-arrow district-submenu-backlink__icon"></span>',i+='<span class="district-submenu-backlink__text">'+t+"</span>",i+="</a>",i+='<ul class="district-submenu">';for(var a in e)i+='<li class="district-submenu__item">',i+='<a href="javascript:void(0);" class="district-submenu__link js-district-submenu-link" data-district-id="'+e[a].Value+'">',i+=e[a].Text,i+="</a></li>";return i+="</ul>"};return{init:s}}();!function(e){var t={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};e.fn.bxSlider=function(a){if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(a)}),this;var o={},s=this,n=e(window).width(),r=e(window).height();if(!e(s).data("bxSlider")){var l=function(){e(s).data("bxSlider")||(o.settings=e.extend({},t,a),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=s.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),
o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"===o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!==o.settings.mode&&function(){for(var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<t.length;i++)if(void 0!==e.style[t[i]])return o.cssPrefix=t[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"===o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),s.data("origStyle",s.attr("style")),s.children(o.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),d())},d=function(){var t=o.children.eq(o.settings.startSlide);s.wrap('<div class="'+o.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),o.viewport=s.parent(),o.settings.ariaLive&&!o.settings.ticker&&o.viewport.attr("aria-live","polite"),o.loader=e('<div class="bx-loading" />'),o.viewport.prepend(o.loader),s.css({width:"horizontal"===o.settings.mode?1e3*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?s.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing"),o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:h()}),o.settings.pager||o.settings.controls||o.viewport.parent().css({margin:"0 auto 0px"}),o.children.css({"float":"horizontal"===o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",m()),"horizontal"===o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"===o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"===o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=e('<div class="bx-controls" />'),o.settings.captions&&_(),o.active.last=o.settings.startSlide===v()-1,o.settings.video&&s.fitVids(),("all"===o.settings.preloadImages||o.settings.ticker)&&(t=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.controls&&w(),o.settings.auto&&o.settings.autoControls&&k(),o.settings.pager&&C(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),c(t,u)},c=function(t,i){var a=t.find('img:not([src=""]), iframe').length,o=0;return 0===a?void i():void t.find('img:not([src=""]), iframe').each(function(){e(this).one("load error",function(){++o===a&&i()}).each(function(){this.complete&&e(this).load()})})},u=function(){if(o.settings.infiniteLoop&&"fade"!==o.settings.mode&&!o.settings.ticker){var t="vertical"===o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,t).clone(!0).addClass("bx-clone"),a=o.children.slice(-t).clone(!0).addClass("bx-clone");o.settings.ariaHidden&&(i.attr("aria-hidden",!0),a.attr("aria-hidden",!0)),s.append(i).prepend(a)}o.loader.remove(),b(),"vertical"===o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(p()),s.redrawSlider(),o.settings.onSliderLoad.call(s,o.active.index),o.initialized=!0,o.settings.responsive&&e(window).bind("resize",U),o.settings.auto&&o.settings.autoStart&&(v()>1||o.settings.autoSlideForOnePage)&&O(),o.settings.ticker&&M(),o.settings.pager&&I(o.settings.startSlide),o.settings.controls&&E(),o.settings.touchEnabled&&!o.settings.ticker&&B(),o.settings.keyboardEnabled&&!o.settings.ticker&&e(document).keydown(F)},p=function(){var t=0,a=e();if("vertical"===o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var s=1===o.settings.moveSlides?o.active.index:o.active.index*f();for(a=o.children.eq(s),i=1;i<=o.settings.maxSlides-1;i++)a=s+i>=o.children.length?a.add(o.children.eq(i-1)):a.add(o.children.eq(s+i))}else a=o.children.eq(o.active.index);else a=o.children;return"vertical"===o.settings.mode?(a.each(function(i){t+=e(this).outerHeight()}),o.settings.slideMargin>0&&(t+=o.settings.slideMargin*(o.settings.minSlides-1))):t=Math.max.apply(Math,a.map(function(){return e(this).outerHeight(!1)}).get()),"border-box"===o.viewport.css("box-sizing")?t+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"===o.viewport.css("box-sizing")&&(t+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),t},h=function(){var e="100%";return o.settings.slideWidth>0&&(e="horizontal"===o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),e},m=function(){var e=o.settings.slideWidth,t=o.viewport.width();if(0===o.settings.slideWidth||o.settings.slideWidth>t&&!o.carousel||"vertical"===o.settings.mode)e=t;else if(o.settings.maxSlides>1&&"horizontal"===o.settings.mode){if(t>o.maxThreshold)return e;t<o.minThreshold?e=(t-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides:o.settings.shrinkItems&&(e=Math.floor((t+o.settings.slideMargin)/Math.ceil((t+o.settings.slideMargin)/(e+o.settings.slideMargin))-o.settings.slideMargin))}return e},g=function(){var e=1,t=null;return"horizontal"===o.settings.mode&&o.settings.slideWidth>0?o.viewport.width()<o.minThreshold?e=o.settings.minSlides:o.viewport.width()>o.maxThreshold?e=o.settings.maxSlides:(t=o.children.first().width()+o.settings.slideMargin,e=Math.floor((o.viewport.width()+o.settings.slideMargin)/t)):"vertical"===o.settings.mode&&(e=o.settings.minSlides),e},v=function(){var e=0,t=0,i=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)e=Math.ceil(o.children.length/f());else for(;t<o.children.length;)++e,t=i+g(),i+=o.settings.moveSlides<=g()?o.settings.moveSlides:g();else e=Math.ceil(o.children.length/g());return e},f=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=g()?o.settings.moveSlides:g()},b=function(){var e,t,i;o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop?"horizontal"===o.settings.mode?(t=o.children.last(),e=t.position(),y(-(e.left-(o.viewport.width()-t.outerWidth())),"reset",0)):"vertical"===o.settings.mode&&(i=o.children.length-o.settings.minSlides,e=o.children.eq(i).position(),y(-e.top,"reset",0)):(e=o.children.eq(o.active.index*f()).position(),o.active.index===v()-1&&(o.active.last=!0),void 0!==e&&("horizontal"===o.settings.mode?y(-e.left,"reset",0):"vertical"===o.settings.mode&&y(-e.top,"reset",0)))},y=function G(t,i,a,n){var r,l;o.usingCSS?(l="vertical"===o.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)",s.css("-"+o.cssPrefix+"-transition-duration",a/1e3+"s"),"slide"===i?(s.css(o.animProp,l),0!==a?s.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){e(t.target).is(s)&&(s.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),P())}):P()):"reset"===i?s.css(o.animProp,l):"ticker"===i&&(s.css("-"+o.cssPrefix+"-transition-timing-function","linear"),s.css(o.animProp,l),0!==a?s.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){e(t.target).is(s)&&(s.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),G(n.resetValue,"reset",0),L())}):(G(n.resetValue,"reset",0),L()))):(r={},r[o.animProp]=t,"slide"===i?s.animate(r,a,o.settings.easing,function(){P()}):"reset"===i?s.css(o.animProp,t):"ticker"===i&&s.animate(r,a,"linear",function(){G(n.resetValue,"reset",0),L()}))},$=function(){for(var t="",i="",a=v(),s=0;a>s;s++)i="",o.settings.buildPager&&e.isFunction(o.settings.buildPager)||o.settings.pagerCustom?(i=o.settings.buildPager(s),o.pagerEl.addClass("bx-custom-pager")):(i=s+1,o.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+s+'" class="bx-pager-link">'+i+"</a></div>";o.pagerEl.html(t)},C=function(){o.settings.pagerCustom?o.pagerEl=e(o.settings.pagerCustom):(o.pagerEl=e('<div class="bx-pager" />'),o.settings.pagerSelector?e(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),$()),o.pagerEl.on("click touchend","a",D)},w=function(){o.controls.next=e('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=e('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click touchend",S),o.controls.prev.bind("click touchend",T),o.settings.nextSelector&&e(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&e(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=e('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},k=function(){o.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=e('<div class="bx-controls-auto" />'),o.controls.autoEl.on("click",".bx-start",j),o.controls.autoEl.on("click",".bx-stop",x),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?e(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),A(o.settings.autoStart?"stop":"start")},_=function(){o.children.each(function(t){var i=e(this).find("img:first").attr("title");void 0!==i&&(""+i).length&&e(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},S=function(e){e.preventDefault(),o.controls.el.hasClass("disabled")||(o.settings.auto&&o.settings.stopAutoOnClick&&s.stopAuto(),s.goToNextSlide())},T=function(e){e.preventDefault(),o.controls.el.hasClass("disabled")||(o.settings.auto&&o.settings.stopAutoOnClick&&s.stopAuto(),s.goToPrevSlide())},j=function(e){s.startAuto(),e.preventDefault()},x=function(e){s.stopAuto(),e.preventDefault()},D=function(t){var i,a;t.preventDefault(),o.controls.el.hasClass("disabled")||(o.settings.auto&&o.settings.stopAutoOnClick&&s.stopAuto(),i=e(t.currentTarget),void 0!==i.attr("data-slide-index")&&(a=parseInt(i.attr("data-slide-index")),a!==o.active.index&&s.goToSlide(a)))},I=function(t){var i=o.children.length;return"short"===o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(t+1+o.settings.pagerShortSeparator+i)):(o.pagerEl.find("a").removeClass("active"),void o.pagerEl.each(function(i,a){e(a).find("a").eq(t).addClass("active")}))},P=function(){if(o.settings.infiniteLoop){var e="";0===o.active.index?e=o.children.eq(0).position():o.active.index===v()-1&&o.carousel?e=o.children.eq((v()-1)*f()).position():o.active.index===o.children.length-1&&(e=o.children.eq(o.children.length-1).position()),e&&("horizontal"===o.settings.mode?y(-e.left,"reset",0):"vertical"===o.settings.mode&&y(-e.top,"reset",0))}o.working=!1,o.settings.onSlideAfter.call(s,o.children.eq(o.active.index),o.oldIndex,o.active.index)},A=function(e){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[e]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},E=function(){1===v()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0===o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index===v()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},O=function(){o.settings.autoDelay>0?setTimeout(s.startAuto,o.settings.autoDelay):(s.startAuto(),e(window).focus(function(){s.startAuto()}).blur(function(){s.stopAuto()})),o.settings.autoHover&&s.hover(function(){o.interval&&(s.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(s.startAuto(!0),o.autoPaused=null)})},M=function(){var t,i,a,n,r,l,d,c,u=0;"next"===o.settings.autoDirection?s.append(o.children.clone().addClass("bx-clone")):(s.prepend(o.children.clone().addClass("bx-clone")),t=o.children.first().position(),u="horizontal"===o.settings.mode?-t.left:-t.top),y(u,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&(o.usingCSS?(n="horizontal"===o.settings.mode?4:5,o.viewport.hover(function(){i=s.css("-"+o.cssPrefix+"-transform"),a=parseFloat(i.split(",")[n]),y(a,"reset",0)},function(){c=0,o.children.each(function(t){c+="horizontal"===o.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)}),r=o.settings.speed/c,l="horizontal"===o.settings.mode?"left":"top",d=r*(c-Math.abs(parseInt(a))),L(d)})):o.viewport.hover(function(){s.stop()},function(){c=0,o.children.each(function(t){c+="horizontal"===o.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)}),r=o.settings.speed/c,l="horizontal"===o.settings.mode?"left":"top",d=r*(c-Math.abs(parseInt(s.css(l)))),L(d)})),L()},L=function(e){var t,i,a,n=e?e:o.settings.speed,r={left:0,top:0},l={left:0,top:0};"next"===o.settings.autoDirection?r=s.find(".bx-clone").first().position():l=o.children.first().position(),t="horizontal"===o.settings.mode?-r.left:-r.top,i="horizontal"===o.settings.mode?-l.left:-l.top,a={resetValue:i},y(t,"ticker",n,a)},z=function(t){var i=e(window),a={top:i.scrollTop(),left:i.scrollLeft()},o=t.offset();return a.right=a.left+i.width(),a.bottom=a.top+i.height(),o.right=o.left+t.outerWidth(),o.bottom=o.top+t.outerHeight(),!(a.right<o.left||a.left>o.right||a.bottom<o.top||a.top>o.bottom)},F=function(e){var t=document.activeElement.tagName.toLowerCase(),i="input|textarea",a=new RegExp(t,["i"]),o=a.exec(i);if(null==o&&z(s)){if(39===e.keyCode)return S(e),!1;if(37===e.keyCode)return T(e),!1}},B=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart MSPointerDown pointerdown",R),o.viewport.on("click",".bxslider a",function(e){o.viewport.hasClass("click-disabled")&&(e.preventDefault(),o.viewport.removeClass("click-disabled"))})},R=function(e){if(o.controls.el.addClass("disabled"),o.working)e.preventDefault(),o.controls.el.removeClass("disabled");else{o.touch.originalPos=s.position();var t=e.originalEvent,i="undefined"!=typeof t.changedTouches?t.changedTouches:[t];o.touch.start.x=i[0].pageX,o.touch.start.y=i[0].pageY,o.viewport.get(0).setPointerCapture&&(o.pointerId=t.pointerId,o.viewport.get(0).setPointerCapture(o.pointerId)),o.viewport.bind("touchmove MSPointerMove pointermove",V),o.viewport.bind("touchend MSPointerUp pointerup",H),o.viewport.bind("MSPointerCancel pointercancel",N)}},N=function Q(e){y(o.touch.originalPos.left,"reset",0),o.controls.el.removeClass("disabled"),o.viewport.unbind("MSPointerCancel pointercancel",Q),o.viewport.unbind("touchmove MSPointerMove pointermove",V),o.viewport.unbind("touchend MSPointerUp pointerup",H),o.viewport.get(0).releasePointerCapture&&o.viewport.get(0).releasePointerCapture(o.pointerId)},V=function(e){var t=e.originalEvent,i="undefined"!=typeof t.changedTouches?t.changedTouches:[t],a=Math.abs(i[0].pageX-o.touch.start.x),s=Math.abs(i[0].pageY-o.touch.start.y),n=0,r=0;3*a>s&&o.settings.preventDefaultSwipeX?e.preventDefault():3*s>a&&o.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!==o.settings.mode&&o.settings.oneToOneTouch&&("horizontal"===o.settings.mode?(r=i[0].pageX-o.touch.start.x,n=o.touch.originalPos.left+r):(r=i[0].pageY-o.touch.start.y,n=o.touch.originalPos.top+r),y(n,"reset",0))},H=function K(e){o.viewport.unbind("touchmove MSPointerMove pointermove",V),o.controls.el.removeClass("disabled");var t=e.originalEvent,i="undefined"!=typeof t.changedTouches?t.changedTouches:[t],a=0,n=0;o.touch.end.x=i[0].pageX,o.touch.end.y=i[0].pageY,"fade"===o.settings.mode?(n=Math.abs(o.touch.start.x-o.touch.end.x),n>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?s.goToNextSlide():s.goToPrevSlide(),s.stopAuto())):("horizontal"===o.settings.mode?(n=o.touch.end.x-o.touch.start.x,a=o.touch.originalPos.left):(n=o.touch.end.y-o.touch.start.y,a=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0===o.active.index&&n>0||o.active.last&&0>n)?y(a,"reset",200):Math.abs(n)>=o.settings.swipeThreshold?(0>n?s.goToNextSlide():s.goToPrevSlide(),s.stopAuto()):y(a,"reset",200)),o.viewport.unbind("touchend MSPointerUp pointerup",K),o.viewport.get(0).releasePointerCapture&&o.viewport.get(0).releasePointerCapture(o.pointerId)},U=function J(t){if(o.initialized)if(o.working)window.setTimeout(J,10);else{var i=e(window).width(),a=e(window).height();(n!==i||r!==a)&&(n=i,r=a,s.redrawSlider(),o.settings.onSliderResize.call(s,o.active.index))}},q=function(e){var t=g();o.settings.ariaHidden&&!o.settings.ticker&&(o.children.attr("aria-hidden","true"),o.children.slice(e,e+t).attr("aria-hidden","false"))},W=function(e){return 0>e?o.settings.infiniteLoop?v()-1:o.active.index:e>=v()?o.settings.infiniteLoop?0:o.active.index:e};return s.goToSlide=function(t,i){var a,n,r,l,d=!0,c=0,u={left:0,top:0},h=null;if(o.oldIndex=o.active.index,o.active.index=W(t),!o.working&&o.active.index!==o.oldIndex){if(o.working=!0,d=o.settings.onSlideBefore.call(s,o.children.eq(o.active.index),o.oldIndex,o.active.index),"undefined"!=typeof d&&!d)return o.active.index=o.oldIndex,void(o.working=!1);"next"===i?o.settings.onSlideNext.call(s,o.children.eq(o.active.index),o.oldIndex,o.active.index)||(d=!1):"prev"===i&&(o.settings.onSlidePrev.call(s,o.children.eq(o.active.index),o.oldIndex,o.active.index)||(d=!1)),o.active.last=o.active.index>=v()-1,(o.settings.pager||o.settings.pagerCustom)&&I(o.active.index),o.settings.controls&&E(),"fade"===o.settings.mode?(o.settings.adaptiveHeight&&o.viewport.height()!==p()&&o.viewport.animate({height:p()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){e(this).css("zIndex",o.settings.slideZIndex),P()})):(o.settings.adaptiveHeight&&o.viewport.height()!==p()&&o.viewport.animate({height:p()},o.settings.adaptiveHeightSpeed),!o.settings.infiniteLoop&&o.carousel&&o.active.last?"horizontal"===o.settings.mode?(h=o.children.eq(o.children.length-1),u=h.position(),c=o.viewport.width()-h.outerWidth()):(a=o.children.length-o.settings.minSlides,u=o.children.eq(a).position()):o.carousel&&o.active.last&&"prev"===i?(n=1===o.settings.moveSlides?o.settings.maxSlides-f():(v()-1)*f()-(o.children.length-o.settings.maxSlides),h=s.children(".bx-clone").eq(n),u=h.position()):"next"===i&&0===o.active.index?(u=s.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1):t>=0&&(l=t*parseInt(f()),u=o.children.eq(l).position()),"undefined"!=typeof u?(r="horizontal"===o.settings.mode?-(u.left-c):-u.top,y(r,"slide",o.settings.speed)):o.working=!1),o.settings.ariaHidden&&q(o.active.index*f())}},s.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var e=parseInt(o.active.index)+1;s.goToSlide(e,"next")}},s.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!==o.active.index){var e=parseInt(o.active.index)-1;s.goToSlide(e,"prev")}},s.startAuto=function(e){o.interval||(o.interval=setInterval(function(){"next"===o.settings.autoDirection?s.goToNextSlide():s.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&e!==!0&&A("stop"))},s.stopAuto=function(e){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&e!==!0&&A("start"))},s.getCurrentSlide=function(){return o.active.index},s.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},s.getSlideElement=function(e){return o.children.eq(e)},s.getSlideCount=function(){return o.children.length},s.isWorking=function(){return o.working},s.redrawSlider=function(){o.children.add(s.find(".bx-clone")).outerWidth(m()),o.viewport.css("height",p()),o.settings.ticker||b(),o.active.last&&(o.active.index=v()-1),o.active.index>=v()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&($(),I(o.active.index)),o.settings.ariaHidden&&q(o.active.index*f())},s.destroySlider=function(){o.initialized&&(o.initialized=!1,e(".bx-clone",this).remove(),o.children.each(function(){void 0!==e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!==e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&!o.settings.pagerCustom&&o.pagerEl.remove(),e(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&e(window).unbind("resize",U),o.settings.keyboardEnabled&&e(document).unbind("keydown",F),e(this).removeData("bxSlider"))},s.reloadSlider=function(t){void 0!==t&&(a=t),s.destroySlider(),l(),e(s).data("bxSlider",this)},l(),e(s).data("bxSlider",this),this}}}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}function a(){var e=new Date;return i(e.getFullYear(),e.getMonth(),e.getDate())}function o(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function s(e){return function(){return this[e].apply(this,arguments)}}function n(t,i){function a(e,t){return t.toLowerCase()}var o,s=e(t).data(),n={},r=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in s)i.test(l)&&(o=l.replace(r,a),n[o]=s[l]);return n}function r(t){var i={};if(g[t]||(t=t.split("-")[0],g[t])){var a=g[t];return e.each(m,function(e,t){t in a&&(i[t]=a[t])}),i}}var l=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,a=this.length;i<a;i++)if(this[i].valueOf()===t)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new l;return e.replace(this),e}};return function(){var i=[];return i.push.apply(i,arguments),e.extend(i,t),i}}(),d=function(t,i){this._process_options(i),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(v.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};d.prototype={constructor:d,_process_options:function(o){this._o=e.extend({},this._o,o);var s=this.o=e.extend({},this._o),n=s.language;switch(g[n]||(n=n.split("-")[0],g[n]||(n=h.language)),s.language=n,s.startView){case 2:case"decade":s.startView=2;break;case 1:case"year":s.startView=1;break;default:s.startView=0}switch(s.minViewMode){case 1:case"months":s.minViewMode=1;break;case 2:case"years":s.minViewMode=2;break;default:s.minViewMode=0}s.startView=Math.max(s.startView,s.minViewMode),s.multidate!==!0&&(s.multidate=Number(s.multidate)||!1,s.multidate!==!1&&(s.multidate=Math.max(0,s.multidate))),s.multidateSeparator=String(s.multidateSeparator),s.weekStart%=7,s.weekEnd=(s.weekStart+6)%7;var r=v.parseFormat(s.format);if(s.startDate!==-(1/0)&&(s.startDate?s.startDate instanceof Date?s.startDate=this._local_to_utc(this._zero_time(s.startDate)):s.startDate=v.parseDate(s.startDate,r,s.language):s.startDate=-(1/0)),s.endDate!==1/0&&(s.endDate?s.endDate instanceof Date?s.endDate=this._local_to_utc(this._zero_time(s.endDate)):s.endDate=v.parseDate(s.endDate,r,s.language):s.endDate=1/0),s.daysOfWeekDisabled=s.daysOfWeekDisabled||[],e.isArray(s.daysOfWeekDisabled)||(s.daysOfWeekDisabled=s.daysOfWeekDisabled.split(/[,\s]*/)),s.daysOfWeekDisabled=e.map(s.daysOfWeekDisabled,function(e){return parseInt(e,10)}),s.datesDisabled=s.datesDisabled||[],!e.isArray(s.datesDisabled)){var l=[];l.push(v.parseDate(s.datesDisabled,r,s.language)),s.datesDisabled=l}s.datesDisabled=e.map(s.datesDisabled,function(e){return v.parseDate(e,r,s.language)});var d=String(s.orientation).toLowerCase().split(/\s+/g),c=s.orientation.toLowerCase();if(d=e.grep(d,function(e){return/^auto|left|right|top|bottom$/.test(e)}),s.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===d.length)switch(d[0]){case"top":case"bottom":s.orientation.y=d[0];break;case"left":case"right":s.orientation.x=d[0]}else c=e.grep(d,function(e){return/^left|right$/.test(e)}),s.orientation.x=c[0]||"auto",c=e.grep(d,function(e){return/^top|bottom$/.test(e)}),s.orientation.y=c[0]||"auto";else;if(s.defaultViewDate){var u=s.defaultViewDate.year||(new Date).getFullYear(),p=s.defaultViewDate.month||0,m=s.defaultViewDate.day||1;s.defaultViewDate=i(u,p,m)}else s.defaultViewDate=a();s.showOnFocus=s.showOnFocus===t||s.showOnFocus},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var i,a,o,s=0;s<e.length;s++)i=e[s][0],2===e[s].length?(a=t,o=e[s][1]):3===e[s].length&&(a=e[s][1],o=e[s][2]),i.on(o,a)},_unapplyEvents:function(e){for(var i,a,o,s=0;s<e.length;s++)i=e[s][0],2===e[s].length?(o=t,a=e[s][1]):3===e[s].length&&(o=e[s][1],a=e[s][2]),i.off(a,o)},_buildEvents:function(){var t={keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var a=i||this.dates.get(-1),o=this._utc_to_local(a);this.element.trigger({type:t,date:o,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return v.formatDate(i,t,this.o.language)},this)})},show:function(){if(!this.element.attr("readonly")||this.o.enableOnReadonly!==!1)return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:function(){var e=this.getFormattedDate();return this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change(),this},getFormattedDate:function(i){i===t&&(i=this.o.format);var a=this.o.language;return e.map(this.dates,function(e){return v.formatDate(e,i,a)}).join(this.o.multidateSeparator)},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),i=this.picker.outerHeight(),a=10,o=e(this.o.container).width(),s=e(this.o.container).height(),n=e(this.o.container).scrollTop(),r=e(this.o.container).offset(),l=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&l.push(parseInt(t))});var d=Math.max.apply(Math,l)+10,c=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),p=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=c.left-r.left,m=c.top-r.top;
this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=t-p)):c.left<0?(this.picker.addClass("datepicker-orient-left"),h-=c.left-a):h+t>o?(this.picker.addClass("datepicker-orient-right"),h=c.left+p-t):this.picker.addClass("datepicker-orient-left");var g,v,f=this.o.orientation.y;if("auto"===f&&(g=-n+m-i,v=n+s-(m+u+i),f=Math.max(g,v)===v?"top":"bottom"),this.picker.addClass("datepicker-orient-"+f),"top"===f?m+=u:m-=i+parseInt(this.picker.css("padding-top")),this.o.rtl){var b=o-(h+p);this.picker.css({top:m,right:b,zIndex:d})}else this.picker.css({top:m,left:h,zIndex:d});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],a=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),a=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=e.map(i,e.proxy(function(e){return v.parseDate(e,this.o.format,this.o.language)},this)),i=e.grep(i,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),a?this.setValue():i.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1});var i='<th class="cw">&#160;</th>';t+=i}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+g[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;t<12;)e+='<span class="month">'+g[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],a=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),n=new Date;return t.getUTCFullYear()<a||t.getUTCFullYear()===a&&t.getUTCMonth()<s?i.push("old"):(t.getUTCFullYear()>a||t.getUTCFullYear()===a&&t.getUTCMonth()>s)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===n.getFullYear()&&t.getUTCMonth()===n.getMonth()&&t.getUTCDate()===n.getDate()&&i.push("today"),this.dates.contains(t)!==-1&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&i.push("disabled"),this.o.datesDisabled.length>0&&e.grep(this.o.datesDisabled,function(e){return o(t,e)}).length>0&&i.push("disabled","disabled-date"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),e.inArray(t.valueOf(),this.range)!==-1&&i.push("selected")),i},fill:function(){var a,o=new Date(this.viewDate),s=o.getUTCFullYear(),n=o.getUTCMonth(),r=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),d=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=g[this.o.language].today||g.en.today||"",p=g[this.o.language].clear||g.en.clear||"";if(!isNaN(s)&&!isNaN(n)){this.picker.find(".datepicker-days thead .datepicker-switch").text(g[this.o.language].months[n]+" "+s),this.picker.find("tfoot .today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(p).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var h=i(s,n-1,28),m=v.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(m),h.setUTCDate(m-(h.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(h);f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var b,y=[];h.valueOf()<f;){if(h.getUTCDay()===this.o.weekStart&&(y.push("<tr>"),this.o.calendarWeeks)){var $=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),C=new Date(Number($)+(11-$.getUTCDay())%7*864e5),w=new Date(Number(w=i(C.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),k=(C-w)/864e5/7+1;y.push('<td class="cw">'+k+"</td>")}if(b=this.getClassNames(h),b.push("day"),this.o.beforeShowDay!==e.noop){var _=this.o.beforeShowDay(this._utc_to_local(h));_===t?_={}:"boolean"==typeof _?_={enabled:_}:"string"==typeof _&&(_={classes:_}),_.enabled===!1&&b.push("disabled"),_.classes&&(b=b.concat(_.classes.split(/\s+/))),_.tooltip&&(a=_.tooltip)}b=e.unique(b),y.push('<td data-day-month="'+(Number(h.getUTCDate())<10?"0":"")+Number(h.getUTCDate())+"."+(Number(o.getUTCMonth()+1)<10?"0":"")+Number(o.getUTCMonth()+1)+"."+s+'" class="'+b.join(" ")+'"'+(a?' title="'+a+'"':"")+">"+h.getUTCDate()+"</td>"),a=null,h.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var S=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===s&&S.eq(t.getUTCMonth()).addClass("active")}),(s<r||s>d)&&S.addClass("disabled"),s===r&&S.slice(0,l).addClass("disabled"),s===d&&S.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var T=this;e.each(S,function(t,i){if(!e(i).hasClass("disabled")){var a=new Date(s,t,1),o=T.o.beforeShowMonth(a);o===!1&&e(i).addClass("disabled")}})}y="",s=10*parseInt(s/10,10);var j=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var x,D=e.map(this.dates,function(e){return e.getUTCFullYear()}),I=-1;I<11;I++)x=["year"],I===-1?x.push("old"):10===I&&x.push("new"),e.inArray(s,D)!==-1&&x.push("active"),(s<r||s>d)&&x.push("disabled"),y+='<span class="'+x.join(" ")+'">'+s+"</span>",s+=1;j.html(y)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault();var a,o,s,n=e(t.target).closest("span, td, th");if(1===n.length)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=v.modes[this.viewMode].navStep*("prev"===n[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var d="linked"===this.o.todayBtn?null:"view";this._setDate(l,d);break;case"clear":this.clearDates()}break;case"span":n.hasClass("disabled")||(this.viewDate.setUTCDate(1),n.hasClass("month")?(s=1,o=n.parent().find("span").index(n),a=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(o),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(i(a,o,s))):(s=1,o=0,a=parseInt(n.text(),10)||0,this.viewDate.setUTCFullYear(a),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(a,o,s))),this.showMode(-1),this.fill());break;case"td":n.hasClass("day")&&!n.hasClass("disabled")&&(s=parseInt(n.text(),10)||1,a=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),n.hasClass("old")?0===o?(o=11,a-=1):o-=1:n.hasClass("new")&&(11===o?(o=0,a+=1):o+=1),this._setDate(i(a,o,s)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,i){if(!e)return t;if(!i)return e;var a,o,s=new Date(e.valueOf()),n=s.getUTCDate(),r=s.getUTCMonth(),l=Math.abs(i);if(i=i>0?1:-1,1===l)o=i===-1?function(){return s.getUTCMonth()===r}:function(){return s.getUTCMonth()!==a},a=r+i,s.setUTCMonth(a),(a<0||a>11)&&(a=(a+12)%12);else{for(var d=0;d<l;d++)s=this.moveMonth(s,i);a=s.getUTCMonth(),s.setUTCDate(n),o=function(){return a!==s.getUTCMonth()}}for(;o();)s.setUTCDate(--n),s.setUTCMonth(a);return s},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void(27===e.keyCode&&this.show());var t,i,o,s=!1,n=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||a(),t),o=this.moveYear(n,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||a(),t),o=this.moveMonth(n,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||a()),i.setUTCDate(i.getUTCDate()+t),o=new Date(n),o.setUTCDate(n.getUTCDate()+t)),this.dateWithinRange(o)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||a(),t),o=this.moveYear(n,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||a(),t),o=this.moveMonth(n,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||a()),i.setUTCDate(i.getUTCDate()+7*t),o=new Date(n),o.setUTCDate(n.getUTCDate()+7*t)),this.dateWithinRange(o)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:n=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(n),s=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(s){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(t,i){this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,p.call(e(this.inputs),i).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=e(t.target).data("datepicker"),a=i.getUTCDate(),o=e.inArray(t.target,this.inputs),s=o-1,n=o+1,r=this.inputs.length;if(o!==-1){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(a)}),a<this.dates[s])for(;s>=0&&a<this.dates[s];)this.pickers[s--].setUTCDate(a);else if(a>this.dates[n])for(;n<r&&a>this.dates[n];)this.pickers[n++].setUTCDate(a);this.updateDates(),delete this.updating}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var u=e.fn.datepicker,p=function(i){var a=Array.apply(null,arguments);a.shift();var o;return this.each(function(){var s=e(this),l=s.data("datepicker"),u="object"===("undefined"==typeof i?"undefined":_typeof(i))&&i;if(!l){var p=n(this,"date"),m=e.extend({},h,p,u),g=r(m.language),v=e.extend({},h,g,p,u);if(s.hasClass("input-daterange")||v.inputs){var f={inputs:v.inputs||s.find("input").toArray()};s.data("datepicker",l=new c(this,e.extend(v,f)))}else s.data("datepicker",l=new d(this,v))}if("string"==typeof i&&"function"==typeof l[i]&&(o=l[i].apply(l,a),o!==t))return!1}),o!==t?o:this};e.fn.datepicker=p;var h=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},m=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=d;var g=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,v.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(a,o,s){function n(){var e=this.slice(0,p[c].length),t=p[c].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!a)return t;if(a instanceof Date)return a;"string"==typeof o&&(o=v.parseFormat(o));var r,l,c,u=/([\-+]\d+)([dmwy])/,p=a.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){for(a=new Date,c=0;c<p.length;c++)switch(r=u.exec(p[c]),l=parseInt(r[1]),r[2]){case"d":a.setUTCDate(a.getUTCDate()+l);break;case"m":a=d.prototype.moveMonth.call(d.prototype,a,l);break;case"w":a.setUTCDate(a.getUTCDate()+7*l);break;case"y":a=d.prototype.moveYear.call(d.prototype,a,l)}return i(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),0,0,0)}p=a&&a.match(this.nonpunctuation)||[],a=new Date;var h,m,f={},b=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,a=i(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var $=o.parts.slice();if(p.length!==$.length&&($=e($).filter(function(t,i){return e.inArray(i,b)!==-1}).toArray()),p.length===$.length){var C;for(c=0,C=$.length;c<C;c++){if(h=parseInt(p[c],10),r=$[c],isNaN(h))switch(r){case"MM":m=e(g[s].months).filter(n),h=e.inArray(m[0],g[s].months)+1;break;case"M":m=e(g[s].monthsShort).filter(n),h=e.inArray(m[0],g[s].monthsShort)+1}f[r]=h}var w,k;for(c=0;c<b.length;c++)k=b[c],k in f&&!isNaN(f[k])&&(w=new Date(a),y[k](w,f[k]),isNaN(w)||(a=w))}return a},formatDate:function(t,i,a){if(!t)return"";"string"==typeof i&&(i=v.parseFormat(i));var o={d:t.getUTCDate(),D:g[a].daysShort[t.getUTCDay()],DD:g[a].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:g[a].monthsShort[t.getUTCMonth()],MM:g[a].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m,t=[];for(var s=e.extend([],i.separators),n=0,r=i.parts.length;n<=r;n++)s.length&&t.push(s.shift()),t.push(o[i.parts[n]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=v,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=u,this},e.fn.datepicker.version="1.4.1",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),p.call(i,"show"))}),e(function(){p.call(e('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(e){e.fn.datepicker.dates.tr={days:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"],daysShort:["Pz","Pzt","Sal","Çrş","Prş","Cu","Cts","Pz"],daysMin:["Pz","Pzt","Sa","Çr","Pr","Cu","Ct","Pz"],months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthsShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],today:"Bugün",clear:"Temizle",weekStart:1,format:"dd.mm.yyyy"}}(jQuery),function(e){"use strict";function t(t,i){return this.$target=e(t),this.opts=e.extend({},l,i),this.mouseOver=!1,void 0===this.isOpen&&this._init(),this}var i,a,o,s,n,r,l={loadingNotice:"Loading image",errorNotice:"The image could not be loaded",preventClicks:!0,onShow:void 0,onHide:void 0};t.prototype._init=function(){var t=this;this.$link=this.$target.find("a"),this.$image=this.$target.find("img"),this.$flyout=e('<div class="easyzoom-flyout" />'),this.$notice=e('<div class="easyzoom-notice" />'),this.$link.on("click",function(e){t.mouseOver=!0,e.originalEvent.touches&&1!==e.originalEvent.touches.length||(e.preventDefault(),t.show(e))}),this.$target.on("mousemove.easyzoom touchmove.easyzoom",function(e){t.isOpen&&(e.preventDefault(),t._move(e))}),this.$flyout.on("click touchend.easyzoom",function(){t.mouseOver=!1,t.isOpen&&t.hide()}),this.opts.preventClicks&&this.$target.on("click.easyzoom","a",function(e){e.preventDefault()})},t.prototype.show=function(e){var t,n,r,l,d=this;return this.isReady?(this.$target.append(this.$flyout),t=this.$target.width(),n=this.$target.height(),r=this.$flyout.width(),l=this.$flyout.height(),i=this.$zoom.width()-r,a=this.$zoom.height()-l,o=i/t,s=a/n,this.isOpen=!0,this.opts.onShow&&this.opts.onShow.call(this),void(e&&this._move(e))):void this._load(this.$link.attr("href"),function(){d.mouseOver&&d.show(e)})},t.prototype._load=function(t,i){var a=this,o=new Image;this.$target.addClass("is-loading").append(this.$notice.text(this.opts.loadingNotice)),this.$zoom=e(o),o.onerror=function(){a.$notice.text(a.opts.errorNotice),a.$target.removeClass("is-loading").addClass("is-error")},o.onload=function(){0!==o.width&&(a.isReady=!0,a.$notice.detach(),a.$flyout.html(a.$zoom),a.$target.removeClass("is-loading").addClass("is-ready"),i())},o.style.position="absolute",o.src=t},t.prototype._move=function(e){if(0===e.type.indexOf("touch")){var t=e.touches||e.originalEvent.touches;n=t[0].pageX,r=t[0].pageY}else n=e.pageX||n,r=e.pageY||r;var l=this.$target.offset(),d=r-l.top,c=n-l.left,u=d*s,p=c*o;p<0||u<0||p>i||u>a?this.hide():this.$zoom.css({top:""+Math.ceil(u)*-1+"px",left:""+Math.ceil(p)*-1+"px"})},t.prototype.hide=function(){this.isOpen&&(this.$flyout.detach(),this.isOpen=!1,this.opts.onHide&&this.opts.onHide.call(this))},t.prototype.swap=function(e,t){this.hide(),this.isReady=!1,this.$target.removeClass("is-loading is-ready is-error"),this.$image.attr("src",e),this.$link.attr("href",t)},t.prototype.teardown=function(){this.hide(),this.$target.removeClass("is-loading is-ready is-error").off(".easyzoom"),delete this.$link,delete this.$zoom,delete this.$image,delete this.$notice,delete this.$flyout,delete this.isOpen,delete this.isReady},e.fn.easyZoom=function(i){return this.each(function(){var a=e.data(this,"easyZoom");a?void 0===a.isOpen&&a._init():e.data(this,"easyZoom",new t(this,i))})},"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports&&(module.exports=t)}(jQuery),function(e){var t=e(window);e.fn.visible=function(i,a,o,s){if(!(this.length<1)){o=o||"both";var n=this.length>1?this.eq(0):this,r="undefined"!=typeof s&&null!==s,l=r?e(s):t,d=r?l.position():0,c=n.get(0),u=l.outerWidth(),p=l.outerHeight(),h=a!==!0||c.offsetWidth*c.offsetHeight;if("function"==typeof c.getBoundingClientRect){var m=c.getBoundingClientRect(),g=r?m.top-d.top>=0&&m.top<p+d.top:m.top>=0&&m.top<p,v=r?m.bottom-d.top>0&&m.bottom<=p+d.top:m.bottom>0&&m.bottom<=p,f=r?m.left-d.left>=0&&m.left<u+d.left:m.left>=0&&m.left<u,b=r?m.right-d.left>0&&m.right<u+d.left:m.right>0&&m.right<=u,y=i?g||v:g&&v,$=i?f||b:f&&b,y=m.top<0&&m.bottom>p||y,$=m.left<0&&m.right>u||$;if("both"===o)return h&&y&&$;if("vertical"===o)return h&&y;if("horizontal"===o)return h&&$}else{var C=r?0:d,w=C+p,k=l.scrollLeft(),_=k+u,S=n.position(),T=S.top,j=T+n.height(),x=S.left,D=x+n.width(),I=i===!0?j:T,P=i===!0?T:j,A=i===!0?D:x,E=i===!0?x:D;if("both"===o)return!!h&&P<=w&&I>=C&&E<=_&&A>=k;if("vertical"===o)return!!h&&P<=w&&I>=C;if("horizontal"===o)return!!h&&E<=_&&A>=k}}}}(jQuery),!function(e,t,i){"use strict";"undefined"!=typeof window&&"function"==typeof define&&define.amd?define(i):"undefined"!=typeof module&&module.exports?module.exports=i():t.exports?t.exports=i():t.Fingerprint2=i()}(0,this,function(){"use strict";var e=function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var i=[0,0,0,0];return i[3]+=e[3]+t[3],i[2]+=i[3]>>>16,i[3]&=65535,i[2]+=e[2]+t[2],i[1]+=i[2]>>>16,i[2]&=65535,i[1]+=e[1]+t[1],i[0]+=i[1]>>>16,i[1]&=65535,i[0]+=e[0]+t[0],i[0]&=65535,[i[0]<<16|i[1],i[2]<<16|i[3]]},t=function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var i=[0,0,0,0];return i[3]+=e[3]*t[3],i[2]+=i[3]>>>16,i[3]&=65535,i[2]+=e[2]*t[3],i[1]+=i[2]>>>16,i[2]&=65535,i[2]+=e[3]*t[2],i[1]+=i[2]>>>16,i[2]&=65535,i[1]+=e[1]*t[3],i[0]+=i[1]>>>16,i[1]&=65535,i[1]+=e[2]*t[2],i[0]+=i[1]>>>16,i[1]&=65535,i[1]+=e[3]*t[1],i[0]+=i[1]>>>16,i[1]&=65535,i[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],i[0]&=65535,[i[0]<<16|i[1],i[2]<<16|i[3]]},i=function(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},a=function(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},o=function(e,t){return[e[0]^t[0],e[1]^t[1]]},s=function(e){return e=o(e,[0,e[0]>>>1]),e=t(e,[4283543511,3981806797]),e=o(e,[0,e[0]>>>1]),e=t(e,[3301882366,444984403]),e=o(e,[0,e[0]>>>1])},n=function N(n,r){r=r||0;for(var l=(n=n||"").length%16,d=n.length-l,c=[0,r],u=[0,r],p=[0,0],N=[0,0],h=[2277735313,289559509],m=[1291169091,658871167],g=0;g<d;g+=16)p=[255&n.charCodeAt(g+4)|(255&n.charCodeAt(g+5))<<8|(255&n.charCodeAt(g+6))<<16|(255&n.charCodeAt(g+7))<<24,255&n.charCodeAt(g)|(255&n.charCodeAt(g+1))<<8|(255&n.charCodeAt(g+2))<<16|(255&n.charCodeAt(g+3))<<24],N=[255&n.charCodeAt(g+12)|(255&n.charCodeAt(g+13))<<8|(255&n.charCodeAt(g+14))<<16|(255&n.charCodeAt(g+15))<<24,255&n.charCodeAt(g+8)|(255&n.charCodeAt(g+9))<<8|(255&n.charCodeAt(g+10))<<16|(255&n.charCodeAt(g+11))<<24],p=t(p,h),p=i(p,31),p=t(p,m),c=o(c,p),c=i(c,27),c=e(c,u),c=e(t(c,[0,5]),[0,1390208809]),N=t(N,m),N=i(N,33),N=t(N,h),u=o(u,N),u=i(u,31),u=e(u,c),u=e(t(u,[0,5]),[0,944331445]);switch(p=[0,0],N=[0,0],l){case 15:N=o(N,a([0,n.charCodeAt(g+14)],48));case 14:N=o(N,a([0,n.charCodeAt(g+13)],40));case 13:N=o(N,a([0,n.charCodeAt(g+12)],32));case 12:N=o(N,a([0,n.charCodeAt(g+11)],24));case 11:N=o(N,a([0,n.charCodeAt(g+10)],16));case 10:N=o(N,a([0,n.charCodeAt(g+9)],8));case 9:N=o(N,[0,n.charCodeAt(g+8)]),N=t(N,m),N=i(N,33),N=t(N,h),u=o(u,N);case 8:p=o(p,a([0,n.charCodeAt(g+7)],56));case 7:p=o(p,a([0,n.charCodeAt(g+6)],48));case 6:p=o(p,a([0,n.charCodeAt(g+5)],40));case 5:p=o(p,a([0,n.charCodeAt(g+4)],32));case 4:p=o(p,a([0,n.charCodeAt(g+3)],24));case 3:p=o(p,a([0,n.charCodeAt(g+2)],16));case 2:p=o(p,a([0,n.charCodeAt(g+1)],8));case 1:p=o(p,[0,n.charCodeAt(g)]),p=t(p,h),p=i(p,31),p=t(p,m),c=o(c,p)}return c=o(c,[0,n.length]),u=o(u,[0,n.length]),c=e(c,u),u=e(u,c),c=s(c),u=s(u),c=e(c,u),u=e(u,c),("00000000"+(c[0]>>>0).toString(16)).slice(-8)+("00000000"+(c[1]>>>0).toString(16)).slice(-8)+("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)},r={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",userDefinedFonts:[],extendedJsFonts:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},extraComponents:[],excludes:{enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0},NOT_AVAILABLE:"not available",ERROR:"error",EXCLUDED:"excluded"},l=function(e,t){if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(t);else if(e.length===+e.length)for(var i=0,a=e.length;i<a;i++)t(e[i],i,e);else for(var o in e)e.hasOwnProperty(o)&&t(e[o],o,e)},d=function(e,t){var i=[];return null==e?i:Array.prototype.map&&e.map===Array.prototype.map?e.map(t):(l(e,function(e,a,o){i.push(t(e,a,o))}),i)},c=function(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices},u=function(e){var t=[window.screen.width,window.screen.height];return e.screen.detectScreenOrientation&&t.sort().reverse(),t},p=function(e){if(window.screen.availWidth&&window.screen.availHeight){var t=[window.screen.availHeight,window.screen.availWidth];return e.screen.detectScreenOrientation&&t.sort().reverse(),t}return e.NOT_AVAILABLE},h=function(e){if(null==navigator.plugins)return e.NOT_AVAILABLE;for(var t=[],i=0,a=navigator.plugins.length;i<a;i++)navigator.plugins[i]&&t.push(navigator.plugins[i]);return g(e)&&(t=t.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),d(t,function(e){var t=d(e,function(e){return[e.type,e.suffixes]});return[e.name,e.description,t]})},m=function(e){var t=[];return Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window?t=d(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],function(t){try{return new window.ActiveXObject(t),t}catch(t){return e.ERROR}}):t.push(e.NOT_AVAILABLE),navigator.plugins&&(t=t.concat(h(e))),t},g=function(e){for(var t=!1,i=0,a=e.plugins.sortPluginsFor.length;i<a;i++){var o=e.plugins.sortPluginsFor[i];if(navigator.userAgent.match(o)){t=!0;break}}return t},v=function(e){try{return!!window.sessionStorage}catch(t){return e.ERROR}},f=function(e){try{return!!window.localStorage}catch(t){return e.ERROR}},b=function(e){try{return!!window.indexedDB}catch(t){return e.ERROR}},y=function(e){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:e.NOT_AVAILABLE},$=function(e){return navigator.cpuClass||e.NOT_AVAILABLE},C=function(e){return navigator.platform?navigator.platform:e.NOT_AVAILABLE},w=function(e){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:e.NOT_AVAILABLE},k=function V(){var V,e=0;void 0!==navigator.maxTouchPoints?e=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(e=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),V=!0}catch(e){V=!1}return[e,V,"ontouchstart"in window]},_=function(e){var t=[],i=document.createElement("canvas");i.width=2e3,i.height=200,i.style.display="inline";var a=i.getContext("2d");return a.rect(0,0,10,10),a.rect(2,2,6,6),t.push("canvas winding:"+(!1===a.isPointInPath(5,5,"evenodd")?"yes":"no")),a.textBaseline="alphabetic",a.fillStyle="#f60",a.fillRect(125,1,62,20),a.fillStyle="#069",e.dontUseFakeFontInCanvas?a.font="11pt Arial":a.font="11pt no-real-font-123",a.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),a.fillStyle="rgba(102, 204, 0, 0.2)",a.font="18pt Arial",a.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),a.globalCompositeOperation="multiply",a.fillStyle="rgb(255,0,255)",a.beginPath(),a.arc(50,50,50,0,2*Math.PI,!0),a.closePath(),a.fill(),a.fillStyle="rgb(0,255,255)",a.beginPath(),a.arc(100,50,50,0,2*Math.PI,!0),a.closePath(),a.fill(),a.fillStyle="rgb(255,255,0)",a.beginPath(),a.arc(75,100,50,0,2*Math.PI,!0),a.closePath(),a.fill(),a.fillStyle="rgb(255,0,255)",a.arc(75,75,75,0,2*Math.PI,!0),a.arc(75,75,25,0,2*Math.PI,!0),a.fill("evenodd"),i.toDataURL&&t.push("canvas fp:"+i.toDataURL()),t},S=function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"};if(!(e=F()))return null;var i=[],a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a);var o=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,o,e.STATIC_DRAW),a.itemSize=3,a.numItems=3;var s=e.createProgram(),n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),
e.compileShader(n);var r=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(r,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),e.compileShader(r),e.attachShader(s,n),e.attachShader(s,r),e.linkProgram(s),e.useProgram(s),s.vertexPosAttrib=e.getAttribLocation(s,"attrVertex"),s.offsetUniform=e.getUniformLocation(s,"uniformOffset"),e.enableVertexAttribArray(s.vertexPosArray),e.vertexAttribPointer(s.vertexPosAttrib,a.itemSize,e.FLOAT,!1,0,0),e.uniform2f(s.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,a.numItems);try{i.push(e.canvas.toDataURL())}catch(t){}i.push("extensions:"+(e.getSupportedExtensions()||[]).join(";")),i.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),i.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),i.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),i.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),i.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),i.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),i.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),i.push("webgl max anisotropy:"+function(e){var t=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");if(t){var i=e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===i&&(i=2),i}return null}(e)),i.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),i.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),i.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),i.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),i.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),i.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),i.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),i.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),i.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),i.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),i.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),i.push("webgl red bits:"+e.getParameter(e.RED_BITS)),i.push("webgl renderer:"+e.getParameter(e.RENDERER)),i.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),i.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),i.push("webgl vendor:"+e.getParameter(e.VENDOR)),i.push("webgl version:"+e.getParameter(e.VERSION));try{var d=e.getExtension("WEBGL_debug_renderer_info");d&&(i.push("webgl unmasked vendor:"+e.getParameter(d.UNMASKED_VENDOR_WEBGL)),i.push("webgl unmasked renderer:"+e.getParameter(d.UNMASKED_RENDERER_WEBGL)))}catch(t){}return e.getShaderPrecisionFormat&&l(["FLOAT","INT"],function(t){l(["VERTEX","FRAGMENT"],function(a){l(["HIGH","MEDIUM","LOW"],function(o){l(["precision","rangeMin","rangeMax"],function(s){var n=e.getShaderPrecisionFormat(e[a+"_SHADER"],e[o+"_"+t])[s];"precision"!==s&&(s="precision "+s);var r=["webgl ",a.toLowerCase()," shader ",o.toLowerCase()," ",t.toLowerCase()," ",s,":",n].join("");i.push(r)})})})}),i},T=function(){try{var e=F(),t=e.getExtension("WEBGL_debug_renderer_info");return e.getParameter(t.UNMASKED_VENDOR_WEBGL)+"~"+e.getParameter(t.UNMASKED_RENDERER_WEBGL)}catch(e){return null}},j=function(){var e=document.createElement("div");e.innerHTML="&nbsp;";var t=!(e.className="adsbox");try{document.body.appendChild(e),t=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(e)}catch(e){t=!1}return t},x=function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1},D=function(){return window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight},I=function(){var e,t=navigator.userAgent.toLowerCase(),i=navigator.oscpu,a=navigator.platform.toLowerCase();if(e=0<=t.indexOf("windows phone")?"Windows Phone":0<=t.indexOf("win")?"Windows":0<=t.indexOf("android")?"Android":0<=t.indexOf("linux")?"Linux":0<=t.indexOf("iphone")||0<=t.indexOf("ipad")?"iOS":0<=t.indexOf("mac")?"Mac":"Other",("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e)return!0;if(void 0!==i){if(0<=(i=i.toLowerCase()).indexOf("win")&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(0<=i.indexOf("linux")&&"Linux"!==e&&"Android"!==e)return!0;if(0<=i.indexOf("mac")&&"Mac"!==e&&"iOS"!==e)return!0;if((-1===i.indexOf("win")&&-1===i.indexOf("linux")&&-1===i.indexOf("mac"))!=("Other"===e))return!0}return 0<=a.indexOf("win")&&"Windows"!==e&&"Windows Phone"!==e||(0<=a.indexOf("linux")||0<=a.indexOf("android")||0<=a.indexOf("pike"))&&"Linux"!==e&&"Android"!==e||(0<=a.indexOf("mac")||0<=a.indexOf("ipad")||0<=a.indexOf("ipod")||0<=a.indexOf("iphone"))&&"Mac"!==e&&"iOS"!==e||(-1===a.indexOf("win")&&-1===a.indexOf("linux")&&-1===a.indexOf("mac"))!=("Other"===e)||void 0===navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e},P=function(){var e,t=navigator.userAgent.toLowerCase(),i=navigator.productSub;if(("Chrome"==(e=0<=t.indexOf("firefox")?"Firefox":0<=t.indexOf("opera")||0<=t.indexOf("opr")?"Opera":0<=t.indexOf("chrome")?"Chrome":0<=t.indexOf("safari")?"Safari":0<=t.indexOf("trident")?"Internet Explorer":"Other")||"Safari"===e||"Opera"===e)&&"20030107"!==i)return!0;var a,o=eval.toString().length;if(37===o&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===o&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===o&&"Chrome"!==e&&"Opera"!==e&&"Other"!==e)return!0;try{throw"a"}catch(e){try{e.toSource(),a=!0}catch(e){a=!1}}return a&&"Firefox"!==e&&"Other"!==e},A=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},E=function(){if(!A())return!1;var e=F();return!!window.WebGLRenderingContext&&!!e},O=function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},M=function(){return void 0!==window.swfobject},L=function(){return window.swfobject.hasFlashPlayerVersion("9.0.0")},z=function(e,t){var i="___fp_swf_loaded";window[i]=function(t){e(t)};var a,o,s=t.fonts.swfContainerId;(o=document.createElement("div")).setAttribute("id",a.fonts.swfContainerId),document.body.appendChild(o);var n={onReady:i};window.swfobject.embedSWF(t.fonts.swfPath,s,"1","1","9.0.0",!1,n,{allowScriptAccess:"always",menu:"false"},{})},F=function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t||(t=null),t},B=[{key:"userAgent",getData:function(e){e(navigator.userAgent)}},{key:"language",getData:function(e,t){e(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||t.NOT_AVAILABLE)}},{key:"colorDepth",getData:function(e,t){e(window.screen.colorDepth||t.NOT_AVAILABLE)}},{key:"deviceMemory",getData:function(e,t){e(navigator.deviceMemory||t.NOT_AVAILABLE)}},{key:"pixelRatio",getData:function(e,t){e(window.devicePixelRatio||t.NOT_AVAILABLE)}},{key:"hardwareConcurrency",getData:function(e,t){e(y(t))}},{key:"screenResolution",getData:function(e,t){e(u(t))}},{key:"availableScreenResolution",getData:function(e,t){e(p(t))}},{key:"timezoneOffset",getData:function(e){e((new Date).getTimezoneOffset())}},{key:"timezone",getData:function(e,t){e(window.Intl&&window.Intl.DateTimeFormat?(new window.Intl.DateTimeFormat).resolvedOptions().timeZone:t.NOT_AVAILABLE)}},{key:"sessionStorage",getData:function(e,t){e(v(t))}},{key:"localStorage",getData:function(e,t){e(f(t))}},{key:"indexedDb",getData:function(e,t){e(b(t))}},{key:"addBehavior",getData:function(e){e(!(!document.body||!document.body.addBehavior))}},{key:"openDatabase",getData:function(e){e(!!window.openDatabase)}},{key:"cpuClass",getData:function(e,t){e($(t))}},{key:"platform",getData:function(e,t){e(C(t))}},{key:"doNotTrack",getData:function(e,t){e(w(t))}},{key:"plugins",getData:function(e,t){e(O()?t.plugins.excludeIE?t.EXCLUDED:m(t):h(t))}},{key:"canvas",getData:function(e,t){e(A()?_(t):t.NOT_AVAILABLE)}},{key:"webgl",getData:function(e,t){e(E()?S():t.NOT_AVAILABLE)}},{key:"webglVendorAndRenderer",getData:function(e){E()?e(T()):e()}},{key:"adBlock",getData:function(e){e(j())}},{key:"hasLiedLanguages",getData:function(e){e(x())}},{key:"hasLiedResolution",getData:function(e){e(D())}},{key:"hasLiedOs",getData:function(e){e(I())}},{key:"hasLiedBrowser",getData:function(e){e(P())}},{key:"touchSupport",getData:function(e){e(k())}},{key:"fonts",getData:function(e,t){var i=["monospace","sans-serif","serif"],a=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];t.fonts.extendedJsFonts&&(a=a.concat(["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"])),a=(a=a.concat(t.fonts.userDefinedFonts)).filter(function(e,t){return a.indexOf(e)===t});var o=document.getElementsByTagName("body")[0],s=document.createElement("div"),n=document.createElement("div"),r={},l={},d=function(){var e=document.createElement("span");return e.style.position="absolute",e.style.left="-9999px",e.style.fontSize="72px",e.style.fontStyle="normal",e.style.fontWeight="normal",e.style.letterSpacing="normal",e.style.lineBreak="auto",e.style.lineHeight="normal",e.style.textTransform="none",e.style.textAlign="left",e.style.textDecoration="none",e.style.textShadow="none",e.style.whiteSpace="normal",e.style.wordBreak="normal",e.style.wordSpacing="normal",e.innerHTML="mmmmmmmmmmlli",e},c=function(e){for(var t=!1,a=0;a<i.length;a++)if(t=e[a].offsetWidth!==r[i[a]]||e[a].offsetHeight!==l[i[a]])return t;return t},u=function(){for(var e=[],t=0,a=i.length;t<a;t++){var o=d();o.style.fontFamily=i[t],s.appendChild(o),e.push(o)}return e}();o.appendChild(s);for(var p=0,h=i.length;p<h;p++)r[i[p]]=u[p].offsetWidth,l[i[p]]=u[p].offsetHeight;var m=function(){for(var e,t,o,s={},r=0,l=a.length;r<l;r++){for(var c=[],u=0,p=i.length;u<p;u++){var h=(e=a[r],t=i[u],o=void 0,(o=d()).style.fontFamily="'"+e+"',"+t,o);n.appendChild(h),c.push(h)}s[a[r]]=c}return s}();o.appendChild(n);for(var g=[],v=0,f=a.length;v<f;v++)c(m[a[v]])&&g.push(a[v]);o.removeChild(n),o.removeChild(s),e(g)},pauseBefore:!0},{key:"fontsFlash",getData:function(e,t){return M()?L()?t.fonts.swfPath?void z(function(t){e(t)},t):e("missing options.fonts.swfPath"):e("flash not installed"):e("swf object not loaded")},pauseBefore:!0},{key:"audio",getData:function(e,t){var i=t.audio;if(i.excludeIOS11&&navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))return e(t.EXCLUDED);var a=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(null==a)return e(t.NOT_AVAILABLE);var o=new a(1,44100,44100),s=o.createOscillator();s.type="triangle",s.frequency.setValueAtTime(1e4,o.currentTime);var n=o.createDynamicsCompressor();l([["threshold",-50],["knee",40],["ratio",12],["reduction",-20],["attack",0],["release",.25]],function(e){void 0!==n[e[0]]&&"function"==typeof n[e[0]].setValueAtTime&&n[e[0]].setValueAtTime(e[1],o.currentTime)}),s.connect(n),n.connect(o.destination),s.start(0),o.startRendering();var r=setTimeout(function(){return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/Valve/fingerprintjs2 with your user agent: "'+navigator.userAgent+'".'),o.oncomplete=function(){},o=null,e("audioTimeout")},i.timeout);o.oncomplete=function(t){var i;try{clearTimeout(r),i=t.renderedBuffer.getChannelData(0).slice(4500,5e3).reduce(function(e,t){return e+Math.abs(t)},0).toString(),s.disconnect(),n.disconnect()}catch(t){return void e(t)}e(i)}}},{key:"enumerateDevices",getData:function(e,t){return c()?void navigator.mediaDevices.enumerateDevices().then(function(t){e(t.map(function(e){return"id="+e.deviceId+";gid="+e.groupId+";"+e.kind+";"+e.label}))})["catch"](function(t){e(t)}):e(t.NOT_AVAILABLE)}}],R=function(e){throw new Error("'new Fingerprint()' is deprecated, see https://github.com/Valve/fingerprintjs2#upgrade-guide-from-182-to-200")};return R.get=function(e,t){t?e||(e={}):(t=e,e={}),function(e,t){if(null!=t){var i,a;for(a in t)null==(i=t[a])||Object.prototype.hasOwnProperty.call(e,a)||(e[a]=i)}}(e,r),e.components=e.extraComponents.concat(B);var i={data:[],addPreprocessedComponent:function(t,a){"function"==typeof e.preprocessor&&(a=e.preprocessor(t,a)),i.data.push({key:t,value:a})}},a=-1,o=function s(o){if((a+=1)>=e.components.length)t(i.data);else{var n=e.components[a];if(e.excludes[n.key])s(!1);else{if(!o&&n.pauseBefore)return a-=1,void setTimeout(function(){s(!0)},1);try{n.getData(function(e){i.addPreprocessedComponent(n.key,e),s(!1)},e)}catch(o){i.addPreprocessedComponent(n.key,String(o)),s(!1)}}}};o(!1)},R.getPromise=function(e){return new Promise(function(t,i){R.get(e,t)})},R.getV18=function(e,t){return null==t&&(t=e,e={}),R.get(e,function(i){for(var a=[],o=0;o<i.length;o++){var s=i[o];if(s.value===(e.NOT_AVAILABLE||"not available"))a.push({key:s.key,value:"unknown"});else if("plugins"===s.key)a.push({key:"plugins",value:d(s.value,function(e){var t=d(e[2],function(e){return e.join?e.join("~"):e}).join(",");return[e[0],e[1],t].join("::")})});else if(-1!==["canvas","webgl"].indexOf(s.key))a.push({key:s.key,value:s.value.join("~")});else if(-1!==["sessionStorage","localStorage","indexedDb","addBehavior","openDatabase"].indexOf(s.key)){if(!s.value)continue;a.push({key:s.key,value:1})}else s.value?a.push(s.value.join?{key:s.key,value:s.value.join(";")}:s):a.push({key:s.key,value:s.value})}var r=n(d(a,function(e){return e.value}).join("~~~"),31);t(r,a)})},R.x64hash128=n,R.VERSION="2.0.0",R});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}(function(e){var t,i=navigator.userAgent,a=/iphone/i.test(i),o=/chrome/i.test(i),s=/android/i.test(i);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!1,dataName:"rawMaskFn",placeholder:""},e.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden")&&this.get(0)===document.activeElement)return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(i,n){var r,l,d,c,u,p,h,m;if(!i&&this.length>0){r=e(this[0]);var g=r.data(e.mask.dataName);return g?g():void 0}return n=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},n),l=e.mask.definitions,d=[],c=h=i.length,u=null,i=String(i),e.each(i.split(""),function(e,t){"?"==t?(h--,c=e):l[t]?(d.push(new RegExp(l[t])),null===u&&(u=d.length-1),e<c&&(p=d.length-1)):d.push(null)}),this.trigger("unmask").each(function(){function r(){if(n.completed){for(var e=u;e<=p;e++)if(d[e]&&x[e]===g(e))return;n.completed.call(j)}}function g(e){return e<n.placeholder.length?n.placeholder.charAt(e):n.placeholder.charAt(0)}function v(e){for(;++e<h&&!d[e];);return e}function f(e){for(;--e>=0&&!d[e];);return e}function b(e,t){var i,a;if(!(e<0)){for(i=e,a=v(t);i<h;i++)if(d[i]){if(!(a<h&&d[i].test(x[a])))break;x[i]=x[a],x[a]=g(a),a=v(a)}S(),j.caret(Math.max(u,e))}}function y(e){var t,i,a,o;for(t=e,i=g(e);t<h;t++)if(d[t]){if(a=v(t),o=x[t],x[t]=i,!(a<h&&d[a].test(o)))break;i=o}}function $(e){var t=j.val(),i=j.caret();if(m&&m.length&&m.length>t.length){for(T(!0);i.begin>0&&!d[i.begin-1];)i.begin--;if(0===i.begin)for(;i.begin<u&&!d[i.begin];)i.begin++;j.caret(i.begin,i.begin)}else{var a=(T(!0),t.charAt(i.begin));i.begin<h&&(d[i.begin]?d[i.begin].test(a)&&i.begin++:(i.begin++,d[i.begin].test(a)&&i.begin++)),j.caret(i.begin,i.begin)}r()}function C(e){T(),j.val()!=I&&j.change()}function w(e){if(!j.prop("readonly")){var t,i,o,s=e.which||e.keyCode;m=j.val(),8===s||46===s||a&&127===s?(t=j.caret(),i=t.begin,o=t.end,o-i===0&&(i=46!==s?f(i):o=v(i-1),o=46===s?v(o):o),_(i,o),b(i,o-1),e.preventDefault()):13===s?C.call(this,e):27===s&&(j.val(I),j.caret(0,T()),e.preventDefault())}}function k(t){if(!j.prop("readonly")){var i,a,o,n=t.which||t.keyCode,l=j.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||n<32)&&n&&13!==n){if(l.end-l.begin!==0&&(_(l.begin,l.end),b(l.begin,l.end-1)),i=v(l.begin-1),i<h&&(a=String.fromCharCode(n),d[i].test(a))){if(y(i),x[i]=a,S(),o=v(i),s){var c=function(){e.proxy(e.fn.caret,j,o)()};setTimeout(c,0)}else j.caret(o);l.begin<=p&&r()}t.preventDefault()}}}function _(e,t){var i;for(i=e;i<t&&i<h;i++)d[i]&&(x[i]=g(i))}function S(){j.val(x.join(""))}function T(e){var t,i,a,o=j.val(),s=-1;for(t=0,a=0;t<h;t++)if(d[t]){for(x[t]=g(t);a++<o.length;)if(i=o.charAt(a-1),d[t].test(i)){x[t]=i,s=t;break}if(a>o.length){_(t+1,h);break}}else x[t]===o.charAt(a)&&a++,t<c&&(s=t);return e?S():s+1<c?n.autoclear||x.join("")===D?(j.val()&&j.val(j.val()),_(0,h)):S():(S(),j.val(j.val().substring(0,s+1))),c?t:u}var j=e(this),x=e.map(i.split(""),function(e,t){if("?"!=e)return l[e]?g(t):e}),D=x.join(""),I=j.val();j.data(e.mask.dataName,function(){return e.map(x,function(e,t){return d[t]&&e!=g(t)?e:null}).join("")}),j.one("unmask",function(){j.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){if(!j.prop("readonly")){clearTimeout(t);var e;I=j.val(),e=T(),t=setTimeout(function(){j.get(0)===document.activeElement&&(S(),e==i.replace("?","").length?j.caret(0,e):j.caret(e))},10)}}).on("blur.mask",C).on("keydown.mask",w).on("keypress.mask",k).on("input.mask paste.mask",function(){j.prop("readonly")||setTimeout(function(){var e=T(!0);j.caret(e),r()},0)}),o&&s&&j.off("input.mask").on("input.mask",$),T()})}})});